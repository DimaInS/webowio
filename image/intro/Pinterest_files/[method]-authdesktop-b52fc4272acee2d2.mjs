(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[10926,38384,66004,45062],{294184:(e,t)=>{var n;!function(){var i={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)&&n.length){var s=r.apply(null,n);s&&e.push(s)}else if("object"===o)for(var a in n)i.call(n,a)&&n[a]&&e.push(a)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},829932:e=>{e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}},297786:(e,t,n)=>{var i=n(671811),r=n(240327);e.exports=function(e,t){for(var n=0,o=(t=i(t,e)).length;null!=e&&n<o;)e=e[r(t[n++])];return n&&n==o?e:void 0}},200013:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},880531:(e,t,n)=>{var i=n(562705),r=n(829932),o=n(701469),s=n(733448),a=i?i.prototype:void 0,l=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return r(t,e)+"";if(s(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},727561:(e,t,n)=>{var i=n(567990),r=/^\s+/;e.exports=function(e){return e?e.slice(0,i(e)+1).replace(r,""):e}},671811:(e,t,n)=>{var i=n(701469),r=n(115403),o=n(555514),s=n(479833);e.exports=function(e,t){return i(e)?e:r(e,t)?[e]:o(s(e))}},900222:(e,t,n)=>{var i=n(671811),r=n(135694),o=n(701469),s=n(565776),a=n(541780),l=n(240327);e.exports=function(e,t,n){for(var c=-1,d=(t=i(t,e)).length,u=!1;++c<d;){var p=l(t[c]);if(!(u=null!=e&&n(e,p)))break;e=e[p]}return u||++c!=d?u:!!(d=null==e?0:e.length)&&a(d)&&s(p,d)&&(o(e)||r(e))}},115403:(e,t,n)=>{var i=n(701469),r=n(733448),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!r(e))||(s.test(e)||!o.test(e)||null!=t&&e in Object(t))}},624523:(e,t,n)=>{var i=n(288306);e.exports=function(e){var t=i(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},555514:(e,t,n)=>{var i=n(624523),r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=i((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,(function(e,n,i,r){t.push(i?r.replace(o,"$1"):n||e)})),t}));e.exports=s},240327:(e,t,n)=>{var i=n(733448);e.exports=function(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},567990:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},23279:(e,t,n)=>{var i=n(513218),r=n(707771),o=n(14841),s=Math.max,a=Math.min;e.exports=function(e,t,n){var l,c,d,u,p,h,m=0,g=!1,f=!1,_=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function x(t){var n=l,i=c;return l=c=void 0,m=t,u=e.apply(i,n)}function b(e){return m=e,p=setTimeout(y,t),g?x(e):u}function v(e){var n=e-h;return void 0===h||n>=t||n<0||f&&e-m>=d}function y(){var e=r();if(v(e))return w(e);p=setTimeout(y,function(e){var n=t-(e-h);return f?a(n,d-(e-m)):n}(e))}function w(e){return p=void 0,_&&l?x(e):(l=c=void 0,u)}function E(){var e=r(),n=v(e);if(l=arguments,c=this,h=e,n){if(void 0===p)return b(h);if(f)return clearTimeout(p),p=setTimeout(y,t),x(h)}return void 0===p&&(p=setTimeout(y,t)),u}return t=o(t)||0,i(n)&&(g=!!n.leading,d=(f="maxWait"in n)?s(o(n.maxWait)||0,t):d,_="trailing"in n?!!n.trailing:_),E.cancel=function(){void 0!==p&&clearTimeout(p),m=0,l=h=c=p=void 0},E.flush=function(){return void 0===p?u:w(r())},E}},227361:(e,t,n)=>{var i=n(297786);e.exports=function(e,t,n){var r=null==e?void 0:i(e,t);return void 0===r?n:r}},379095:(e,t,n)=>{var i=n(200013),r=n(900222);e.exports=function(e,t){return null!=e&&r(e,t,i)}},733448:(e,t,n)=>{var i=n(644239),r=n(637005);e.exports=function(e){return"symbol"==typeof e||r(e)&&"[object Symbol]"==i(e)}},288306:(e,t,n)=>{var i=n(883369);function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=e.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(r.Cache||i),n}r.Cache=i,e.exports=r},707771:(e,t,n)=>{var i=n(555639);e.exports=function(){return i.Date.now()}},823493:(e,t,n)=>{var i=n(23279),r=n(513218);e.exports=function(e,t,n){var o=!0,s=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return r(n)&&(o="leading"in n?!!n.leading:o,s="trailing"in n?!!n.trailing:s),i(e,t,{leading:o,maxWait:t,trailing:s})}},418601:(e,t,n)=>{var i=n(14841),r=1/0;e.exports=function(e){return e?(e=i(e))===r||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},640554:(e,t,n)=>{var i=n(418601);e.exports=function(e){var t=i(e),n=t%1;return t==t?n?t-n:t:0}},14841:(e,t,n)=>{var i=n(727561),r=n(513218),o=n(733448),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=i(e);var n=a.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):s.test(e)?NaN:+e}},479833:(e,t,n)=>{var i=n(880531);e.exports=function(e){return null==e?"":i(e)}},517563:(e,t,n)=>{var i=n(970610),r=n(727418);function o(e,t){return t.encode?t.strict?i(e):encodeURIComponent(e):e}function s(e){return Array.isArray(e)?e.sort():"object"==typeof e?s(Object.keys(e)).sort((function(e,t){return Number(e)-Number(t)})).map((function(t){return e[t]})):e}t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,i){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===i[e]&&(i[e]={}),i[e][t[1]]=n):i[e]=n};case"bracket":return function(e,n,i){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==i[e]?i[e]=[].concat(i[e],n):i[e]=[n]:i[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=r({arrayFormat:"none"},t)),i=Object.create(null);return"string"!=typeof e?i:(e=e.trim().replace(/^(\?|#|&)/,""))?(e.split("&").forEach((function(e){var t=e.replace(/\+/g," ").split("="),r=t.shift(),o=t.length>0?t.join("="):void 0;o=void 0===o?null:decodeURIComponent(o),n(decodeURIComponent(r),o,i)})),Object.keys(i).sort().reduce((function(e,t){var n=i[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=s(n):e[t]=n,e}),Object.create(null))):i},t.stringify=function(e,t){var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,i){return null===n?[o(t,e),"[",i,"]"].join(""):[o(t,e),"[",o(i,e),"]=",o(n,e)].join("")};case"bracket":return function(t,n){return null===n?o(t,e):[o(t,e),"[]=",o(n,e)].join("")};default:return function(t,n){return null===n?o(t,e):[o(t,e),"=",o(n,e)].join("")}}}(t=r({encode:!0,strict:!0,arrayFormat:"none"},t));return e?Object.keys(e).sort().map((function(i){var r=e[i];if(void 0===r)return"";if(null===r)return o(i,t);if(Array.isArray(r)){var s=[];return r.slice().forEach((function(e){void 0!==e&&s.push(n(i,e,s.length))})),s.join("&")}return o(i,t)+"="+o(r,t)})).filter((function(e){return e.length>0})).join("&"):""}},442279:(e,t)=>{function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){return e===t}function r(e){var t=arguments.length<=1||void 0===arguments[1]?i:arguments[1],n=null,r=null;return function(){for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return null!==n&&n.length===o.length&&o.every((function(e,i){return t(e,n[i])}))||(r=e.apply(void 0,o)),n=o,r}}function o(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}function s(e){for(var t=arguments.length,i=Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),s=0;s<t;s++)r[s]=arguments[s];var a=0,l=r.pop(),c=o(r),d=e.apply(void 0,[function(){return a++,l.apply(void 0,arguments)}].concat(i)),u=function(e,t){for(var i=arguments.length,r=Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];var s=c.map((function(n){return n.apply(void 0,[e,t].concat(r))}));return d.apply(void 0,n(s))};return u.resultFunc=l,u.recomputations=function(){return a},u.resetRecomputations=function(){return a=0},u}}t.zB=function(e){var t=arguments.length<=1||void 0===arguments[1]?a:arguments[1];if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map((function(t){return e[t]})),(function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return t.reduce((function(e,t,i){return e[n[i]]=t,e}),{})}))};var a=t.P1=s(r)},560053:(e,t)=>{var n,i,r,o;if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var c=null,d=null,u=function(){if(null!==c)try{var e=t.unstable_now();c(!0,e),c=null}catch(n){throw setTimeout(u,0),n}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(u,0))},i=function(e,t){d=setTimeout(e,t)},r=function(){clearTimeout(d)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,h=window.clearTimeout;if("undefined"!=typeof console){var m=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof m&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,f=null,_=-1,x=5,b=0;t.unstable_shouldYield=function(){return t.unstable_now()>=b},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5};var v=new MessageChannel,y=v.port2;v.port1.onmessage=function(){if(null!==f){var e=t.unstable_now();b=e+x;try{f(!0,e)?y.postMessage(null):(g=!1,f=null)}catch(n){throw y.postMessage(null),n}}else g=!1},n=function(e){f=e,g||(g=!0,y.postMessage(null))},i=function(e,n){_=p((function(){e(t.unstable_now())}),n)},r=function(){h(_),_=-1}}function w(e,t){var n=e.length;e.push(t);e:for(;;){var i=n-1>>>1,r=e[i];if(!(void 0!==r&&0<I(r,t)))break e;e[i]=t,e[n]=r,n=i}}function E(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length;i<r;){var o=2*(i+1)-1,s=e[o],a=o+1,l=e[a];if(void 0!==s&&0>I(s,n))void 0!==l&&0>I(l,s)?(e[i]=l,e[a]=n,i=a):(e[i]=s,e[o]=n,i=o);else{if(!(void 0!==l&&0>I(l,n)))break e;e[i]=l,e[a]=n,i=a}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],T=[],P=1,j=null,A=3,O=!1,R=!1,D=!1;function k(e){for(var t=E(T);null!==t;){if(null===t.callback)S(T);else{if(!(t.startTime<=e))break;S(T),t.sortIndex=t.expirationTime,w(C,t)}t=E(T)}}function N(e){if(D=!1,k(e),!R)if(null!==E(C))R=!0,n(B);else{var t=E(T);null!==t&&i(N,t.startTime-e)}}function B(e,n){R=!1,D&&(D=!1,r()),O=!0;var o=A;try{for(k(n),j=E(C);null!==j&&(!(j.expirationTime>n)||e&&!t.unstable_shouldYield());){var s=j.callback;if("function"==typeof s){j.callback=null,A=j.priorityLevel;var a=s(j.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?j.callback=a:j===E(C)&&S(C),k(n)}else S(C);j=E(C)}if(null!==j)var l=!0;else{var c=E(T);null!==c&&i(N,c.startTime-n),l=!1}return l}finally{j=null,A=o,O=!1}}var Z=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||O||(R=!0,n(B))},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return E(C)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=Z,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,o,s){var a=t.unstable_now();switch("object"==typeof s&&null!==s?s="number"==typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:P++,callback:o,priorityLevel:e,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>a?(e.sortIndex=s,w(T,e),null===E(C)&&e===E(T)&&(D?r():D=!0,i(N,s-a))):(e.sortIndex=l,w(C,e),R||O||(R=!0,n(B))),e},t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},363840:(e,t,n)=>{e.exports=n(560053)},970610:e=>{e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}},479822:(e,t,n)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/pin/create/[method]"]=function(){return n(30798).Z}},574037:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(799881),r=n(484898);let o;const s={},a={};a[r.o.CHROME]={url:"https://chrome.google.com/webstore/detail/gpdjojdkbbmdfjfahjcgigfpmkopogic",newWindow:!0},a[r.o.FIREFOX]={url:"https://assets.pinterest.com/ext/Pinterest_Firefox.xpi",newWindow:!1},a[r.o.SAFARI]={url:"https://safari-extensions.apple.com/details/?id=com.pinterest.extension-HWZFLG9PNK",newWindow:!0},a[r.o.IE]={url:"https://about.pinterest.com/assets/ext/Pinterest-IE-0.0.4.exe",newWindow:!1},a[r.o.OPERA]={url:"https://addons.opera.com/en/extensions/details/pinterest-8/?display=en",newWindow:!0},a[r.o.EDGE]={url:"https://microsoftedge.microsoft.com/addons/detail/pinterest-save-button/bkgoflemacdadndiohhdnphcmdhacabg/",newWindow:!0},s.handleExtensionInstall=e=>{const t=function(){const e=r.Z.getBrowser();return e?a[e].url:void 0}();t&&((0,i.Z)(t,function(){const e=r.Z.getBrowser();return e?a[e].newWindow:void 0}()),e())},s.isExtensionInstalled=()=>o,s.isChrome=()=>r.Z.getBrowser()===r.o.CHROME,s.isBrowserExtensionSupported=()=>r.Z.isChrome()||r.Z.isFirefox()||r.Z.isEdge(),s.extensionReady=(e=100)=>new Promise((t=>{setTimeout((()=>{document.body&&(o=document.body.hasAttribute("data-pinterest-extension-installed"),s.isBrowserExtensionSupported()||(o=!0),t(o))}),e)})),s.initBrowserExtension=()=>{Promise.resolve().then(n.bind(n,612657)).then((({default:e})=>{e.logToServer(e.SERVER_LOG_TYPE.BROWSER_EXTENSION,e.HTTP_METHOD.POST,{browser_extension_installed:o})}))};const l=s},735588:(e,t,n)=>{n.d(t,{$Y:()=>o,X_:()=>s,vF:()=>a,h_:()=>l,x3:()=>c,As:()=>d,Ed:()=>u});var i=n(731164),r=n(549135);const o=(e,t)=>{const n=Boolean(t&&t.isAuth),r=Boolean(t&&t.unifiedSignup),o=t&&t.country;var s;t&&((s=t).source&&s.source.utmPartner&&"partneracquisition"===s.source.utmPartner)?i.Z.increment(e,1,{app_type:"web",is_paid:!0,paid_source:t.source.utmSource,is_auth:n,unified_signup:r}):i.Z.increment(e,1,{app_type:"web",is_auth:n,unified_signup:r,country:o})},s=e=>{e&&e.utm_campaign&&i.Z.increment("client.partner.account.convert_attempt.utm_campaign.exists",1,e)},a=(e,t,n,o,s,a={})=>{((e,t)=>{const n=`client.partner.quick_promote_button.${e}`;i.Z.increment(n,1,{app_type:"web",location:t})})(e,t),((e,t,n,i={})=>{const o={component:t,element:10148,view:n,...i};(0,r.j)(e,o)})(n,o,s,a)},l=()=>{(0,r.j)(8217)},c=()=>{i.Z.increment("client.partner.biz_nux_v2.nux_start",1,{app_type:"web"})},d=()=>{i.Z.increment("client.partner.biz_nux_v2.nux_end",1,{app_type:"web"})},u=e=>{const t=`client.partner.biz_nux_v2.render.${e}`;i.Z.increment(t,1,{app_type:"web"})}},418102:(e,t,n)=>{n.d(t,{eE:()=>a,ZP:()=>l});let i=0;class r{constructor(e,t,n){this.pubsub=e,this.target=t,this.subscriberOptions=n,this.topics={}}publish(e,t,n){return n?this.getHandler()(this.target,e,t,n):this.getHandler()(this.target,e,t),this}subscribe(...e){return this.getChannel().addSubscriber(this,e),e.forEach((e=>{this.topics[e]=!0})),this}unsubscribe(...e){return 0===e.length&&(e=this.getTopics()),e.forEach((e=>delete this.topics[e])),this.getChannel().removeSubscriber(this,e),this}getChannel(){return this.pubsub.getChannel(this.target)}getHandler(){return this.subscriberOptions.handler}getName(){return this.subscriberOptions.name}getId(){return this.id||(this.id=i,i+=1),this.id}getTopics(){return Object.keys(this.topics)}}class o{constructor(e,t){this.pubsub=e,this.target=t,this.subscribers=[],this.filters={},this.messages={}}addSubscriber(e,t){const n=e.getId();return this.subscribers[n]=e,t.forEach((t=>{this.filters[t]||(this.filters[t]={}),this.filters[t][n]||(this.filters[t][n]=e)})),e}removeSubscriber(e,t){const n=e.getId();t.forEach((e=>{this.filters[e]&&delete this.filters[e][n]})),this.subscribers.length<1&&this.pubsub.clearChannel(this.target)}publish(e,t){Object.values(this.filters[e]||{}).forEach((n=>{n.publish(e,t)})),"*"!==e&&this.publish("*",t),this.messages[e]=t}getSubscribers(...e){if(!e.length)return this.subscribers;const t={};return e.forEach((e=>{Object.assign(t,this.filters[e])})),Object.values(t)}unsubscribeAll(){this.subscribers.forEach((e=>{e.unsubscribe()}))}}const s={Subscriber:r,Channel:o,instance:new class{constructor(e){this.ns=e,this.channels={}}_subscribe(e,t,n){const i=new r(this,e,{handler:n});return i.subscribe(t),i}subscribe(e,t,n){return this._subscribe(e,t,n)}publish(e,t,n){this.getChannel(e).publish(t,n)}getChannel(e){return this.channels[e]||(this.channels[e]=new o(this,e)),this.channels[e]}clearChannel(e){const t=this.channels[e];t&&(t.unsubscribeAll(),delete this.channels[e])}}("local")},a=s.instance,l=s},925032:(e,t,n)=>{n.d(t,{Z:()=>r});const i=e=>e.startsWith("enabled")||e.startsWith("employee");class r{constructor(e={},t={},n=!1){var i,r,o;o=!1,(r="useBatching")in(i=this)?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o,this.active=e,this.triggerable=t,this.useBatching=n}flush(){}v2GetGroup(e){let t=this.active[e];return void 0===t&&(t=this.triggerable[e]),t||null}v2InGroup(e,t){const n=this.v2GetGroup(e);return"string"==typeof t&&(t=[t]),!!n&&-1!==t.indexOf(n)}v2ActivateExperiment(e){throw new Error("Method must be implemented by subclass.")}v2LogExperimentGroupOverride(e,t){throw new Error("Method must be implemented by subclass.")}getWithActivation(e){const t=this.v2ActivateExperiment(e)||"";return{anyEnabled:i(t),group:t}}getWithoutActivation(e){const t=this.v2GetGroup(e)||"";return{anyEnabled:i(t),group:t}}}},116099:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(925032);class r extends i.Z{constructor(){super({},{},!1)}v2ActivateExperiment(e){return null}v2LogExperimentGroupOverride(e,t){}}},528675:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(925032),r=n(177979),o=n(311866);class s extends i.Z{v2ActivateExperiment(e){return this._getGroupForExperiment(e,!0)}flush(){this._queuedResource&&this._queuedResource.flush()}v2LogExperimentGroupOverride(e,t){this._reportExperimentActivated(e,!1,t,t)}_getGroupForExperiment(e,t,n){void 0===t&&(t=!0);let i=this.active[e];return void 0===i&&t&&(i=this.triggerable[e],void 0!==i&&(this.active[e]=i,this._reportExperimentActivated(e,n,i))),i||null}_reportExperimentActivated(e,t,n,i){const s={add_to_experiment:!!t,experiment_name:e};if(i&&(s.override_group=i),n&&(s.experiment_group=n),this.useBatching)this._queuedResource||(this._queuedResource=new r.Z("ActivateExperimentResource",(e=>({experiments:e})))),this._queuedResource.enqueue(s);else{o.ZP.create("ActivateExperimentResource",s).callCreate({showError:!1})}}}},629679:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(528675).Z},948651:(e,t,n)=>{var i;if("undefined"!=typeof window&&void 0===window.Pc){const e=document.getElementById("pc-state");window.Pc=e?JSON.parse(e.textContent):{}}const r=null!==(i="undefined"!=typeof window?window.Pc:n.g.Pc)&&void 0!==i?i:{};e.exports=r},580849:(e,t,n)=>{n.d(t,{K:()=>a});var i=n(740497),r=n(116099),o=n(737614);let s=null;const a={fromDesktopContextProps(e){const{context:t,context:{user:n={}}}=e;return{advertiser:t.advertiser?t.advertiser:null,country:t.country,deepLink:t.deep_link,experiments:e.experiments,fullPath:t.full_path,isAmp:!1,isAuthenticated:t.is_authenticated,isBot:"true"===t.is_bot,isSocialBot:!!t.social_bot,isManagedAdvertiser:t.is_managed_advertiser,isRTL:["ar"].includes(t.language),language:t.language,legacyAdvertiser:null,locale:t.locale,loginState:n.login_state||void 0,origin:t.origin,regionFromIp:t.region_from_ip,unauthId:t.unauth_id,userAgent:{browserName:t.browser_name,browserVersion:t.browser_version,canUseNativeApp:t.user_agent_can_use_native_app,isTablet:t.is_tablet_agent,isMobile:t.is_mobile_agent,platform:t.user_agent_platform,platformVersion:t.user_agent_platform_version&&3===t.user_agent_platform_version.length?t.user_agent_platform_version:[0,0,0],raw:t.user_agent}}},fromLegacyContext:e=>({advertiser:e.advertiser?e.advertiser:null,country:e.country,deepLink:e.deep_link,experiments:e.experiments,fullPath:e.full_path,isAmp:!1,isAuthenticated:e.is_authenticated,isBot:"true"===e.is_bot,isSocialBot:!!e.social_bot,isManagedAdvertiser:e.is_managed_advertiser,isRTL:["ar"].includes(e.language),language:e.language,legacyAdvertiser:e.advertiser?e.advertiser:null,locale:e.locale,loginState:e.user&&e.user.login_state||void 0,origin:e.origin,regionFromIp:e.region_from_ip,unauthId:e.unauth_id,userAgent:{browserName:e.browser_name,browserVersion:e.browser_version,canUseNativeApp:e.user_agent_can_use_native_app,isTablet:e.is_tablet_agent,isMobile:e.is_mobile_agent,platform:e.user_agent_platform,platformVersion:e.user_agent_platform_version||[0,0,0],raw:e.user_agent}}),fromGlobalContext(){if(s)return s;const e=a.fromDesktopContextProps({context:o.Z.instance,...(0,i.Z)(o.Z.instance)});var t;return t=o.Z.instance,0!==Object.keys(t).length&&(s=e),e},__private_static_provider_fallback_value:()=>({country:"US",deepLink:"",fullPath:"",isAmp:!1,isAuthenticated:!1,isBot:!1,isSocialBot:!1,isManagedAdvertiser:!1,isRTL:!1,language:"en",locale:"en-US",unauthId:"asdasda",origin:"https://example.com",regionFromIp:"CA",userAgent:{browserName:"Chrome",browserVersion:"76.0.3809.132",platform:"OSX",platformVersion:[0,0,0],isTablet:!1,isMobile:!1,raw:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.132 Safari/537.36"},experiments:new r.Z,advertiser:null,legacyAdvertiser:null})}},740497:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(629679);function r(e){e||(e={});const{active_experiments:t,triggerable_experiments:n,batch_exp:r}=e;return{experiments:new i.Z(t,n,r)}}},454690:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(238402),r=n(185062);let o;void 0===o&&(o=n.g),o._gaq=o._gaq||[];let s=[];const a=function(e){if(s.length)for(let t=0;t<s.length;t+=1){const n=s[t];o._gaq.push(["_setAccount",n]),o._gaq.push(e)}},l=function(e){if(s=e,!e.length)return;const t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"===document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)},c=2,d=3,u={};u.init=function(e,t){l(e),a(["_setCustomVar",1,"is_logged_in",t?"logged in":"logged out",c])},u.initSterling=function(e,{isLoggedIn:t,advertiser:n,adminUser:i,viewingUser:r}){l(e),t?(i?a(["_setCustomVar",1,"adminUser",i.toString(),d]):r&&r.id?a(["_setCustomVar",1,"viewingUser",r.id.toString(),d]):a(["_setCustomVar",1,"is_logged_in","logged in",d]),n&&n.id&&a(["_setCustomVar",3,"advertiserId",n.id,d])):a(["_setCustomVar",1,"is_logged_in","logged out",d])};const p=function(e,t){let n=e;const o=(0,r.Z)(t).q;return o&&(n+="?"+(0,i.Z)({q:o})),n};u.trackPageview=function(e){a(["_setCustomVar",2,"page_name",e,d]),a(["_trackPageview",p(o.location.pathname,o.location.search)]),a(["_setPageGroup",1,e])},u.trackEvent=function(e,t,n,i,r){a(["_trackEvent",e,t,n,i,r])},u.trackCategoryEvent=function(e,t,n){u.trackEvent(e+"_"+t,n)};const h=u},389727:(e,t,n)=>{n.d(t,{Z:()=>i});const i=function({hours:e,minutes:t}){return`PT${e}H${t}`}},640027:(e,t,n)=>{function i(e){let t=!1;return{promise:new Promise(((n,i)=>{e.then((e=>t?i({isCanceled:!0}):n(e)),(e=>i(t?{isCanceled:!0}:e)))})),cancel(){t=!0}}}n.d(t,{Z:()=>i})},896829:(e,t,n)=>{n.d(t,{Q:()=>a,Z:()=>l});var i=n(667294),r=n(737614),o=n(229423),s=n(730762);function a(e,t){(0,i.useEffect)((()=>{if(e){const t=o.Z.fromPlainObject(e);t.setEventType(13),t.setRequestIdentifier(r.Z.initialPageContext.PAGE_LOAD_REQUEST_IDENTIFIER),s.Z.getInstance().addEvent(t)}}),[t])}function l(e){const{children:t,log:n}=e;return a(n),t||null}},549135:(e,t,n)=>{n.d(t,{j:()=>d,E:()=>u});var i=n(229423),r=n(730762),o=n(439887),s=n(584489);const a=()=>s.Z.instance.getState(),l=()=>{const{advertiser:e,adminUser:t,viewer:n}=a(),i={};return e&&e.id&&(i.advertiser_id=e.id),t&&n&&n.username&&(i.sterling_on_steroids_ldap=t,i.viewed_user=n.username),i},c=(e,{element:t,eventData:n,component:r,objectId:s,view:c,viewParameter:d,viewData:u,durationNs:p,pairId:h,clientTrackingParams:m,...g})=>{const f=i.Z.fromEventType(e);return f.setElement(t),f.updateEventData(n),f.setComponent(r),s&&f.setObjectIdStr(s),f.setDurationNs(p),f.updateAuxData({...g,...l()}),f.setViewType(c),f.setViewParameter(d),f.setViewData(u),f.setPairId(h),f.setClientTrackingParams(m||(e=>{const{pins:t,location:n}=a(),i=t&&e&&t[e];return i?(0,o.ZP)(i,n)||`${i.tracking_params}~0`:void 0})(s)),f};function d(e,t={}){r.Z.getInstance().addEvent(c(e,t))}const u={flushContextEvents:()=>r.Z.getInstance().flushEvents(!0),logContextEvent:({aux_data:e,clientTrackingParams:t,component:n,duration_ns:i,element:r,event_data:o,event_type:s,object_id_str:a,pair_id:l,view_data:c,view_parameter:u,view_type:p})=>{d(s,{...e,element:r,eventData:o,component:n,objectId:a,view:p,viewParameter:null!=u?u:void 0,viewData:c,durationNs:i,pairId:l,clientTrackingParams:t})}}},269935:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),r=n(973935),o=n(40142),s=n(589444),a=n(241933),l=n(549135);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const d={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpressions",idType:"storyIdStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}};class u extends i.Component{constructor(e){super(e),c(this,"trackImpression",(()=>{try{this.node=(0,r.findDOMNode)(this),this.node instanceof HTMLElement&&this.impressionsFramework.start(this.node).onExitViewport(this.logImpression).setDebugId(this.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),c(this,"logImpression",(e=>{const{carousel_data:t,closeupImpressionType:n,closeupNavigationType:i,componentType:r,contextLogData:o,elementType:s,impressionAuxFields:a,impressionType:c,loggingId:u,objectIdStr:p,slotIndex:h,trackCarousel:m,viewData:g,viewParameter:f,viewType:_}=this.props,x=d[c],b=x.idType,v=e.forcedExit&&"removed"===e.forcedExit?0:void 0,y={endTime:e.endTime,[b]:u,slotIndex:h,time:e.startTime,renderDuration:e.endTime-e.startTime,type:n,...a,forcedExit:v};if(m||(0,l.j)(x.eventType,{closeup_navigation_type:i,component:r,element:s,eventData:{[x.impressionType]:[y]},objectIdStr:p,view:_,viewData:g||{},viewParameter:f,...o}),t&&m){const{carousel_slots:e,index:n=0,id:i}=t;(0,l.j)(7352,{component:r,eventData:{pinCarouselSlotImpressions:[{...y,carouselDataId:Number(i),carouselSlotId:(null==e?void 0:e[n])&&Number(e[n].id),slotIndex:n}]},objectIdStr:p,view:_,viewData:g||{},viewParameter:f,...o})}})),this.impressionsFramework=e.impressionsFramework||a.ZP}componentDidMount(){this.props.inImpressionExp&&!this.impressionsFramework.inExperiment&&this.impressionsFramework.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}componentWillUnmount(){this.node instanceof HTMLElement&&this.impressionsFramework.stop(this.node)}render(){return i.Children.only(this.props.children)}}const p=(0,o.connect)((function({pins:e},{loggingId:t}){const n=e[t||""]||{};return{carousel_data:(0,s.Z)(n)}}),(()=>({})))(u)},8759:(e,t,n)=>{n.d(t,{E3:()=>o,MQ:()=>s,A0:()=>a,$Y:()=>l,cV:()=>c});var i=n(227361),r=n.n(i);function o(e){return!!e&&0!==e.type}const s=(e,t,n)=>{const i=e[n];return t[n]&&o(i)?i:null};function a(e){return r()(e,["display_data","anchor"])}function l(e,t,n,i=!1,r=!1){if(i&&e&&t)return`${e}%3A${t}`;const o=n[e];if(o){if(o.experience_id===t)return o.id.replace(":","%3A")}else if(r&&e&&t)return`${e}%3A${t}`;return null}function c(e,t){t&&8===t.type&&(e[a(t)]=t)}},580634:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(40142),r=n(442279),o=n(752430),s=n(8759),a=n(708206);const l=(0,r.P1)((e=>e.experiences.eligibleExperiences),(e=>e.experiences.mountedPlacements),((e,t)=>t.placementId),s.MQ);const c=(0,i.connect)((function(e,t){return{experienceForPlacement:l(e,t)}}),(function(e){return(0,a.bindActionCreators)({completeExperience:o.V_,dismissExperience:o.WG,fetchAllExperiences:o.JT,fetchAllExperiencesMulti:o.Kd,fetchExperienceForPlacement:o.zN,triggerExperimentsForPlacement:o.qb,viewExperience:o.Uk},e)}),(function(e,t,n){return{experienceClient:{...e,...t},...n}}),{forwardRef:!0})},913669:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294);let r=null,o=!1,s=0;const a=()=>{r&&clearTimeout(r),o=!0,r=setTimeout((()=>{o=!1}),100)},l=()=>{const[e,t]=(0,i.useState)(!1),n=(0,i.useRef)(null);(0,i.useEffect)((()=>(0===s&&window.addEventListener("scroll",a),s+=1,()=>{n.current&&clearTimeout(n.current),s-=1,s||window.removeEventListener("scroll",a)})),[]);const r=e=>{n.current&&clearTimeout(n.current),n.current=e&&o?setTimeout((()=>r(!0)),100):setTimeout((()=>{t(e)}),32)};return{isHovering:e,hoverHandlers:(0,i.useRef)({onMouseOver:()=>r(!0),onMouseLeave:()=>r(!1)}).current}}},512806:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294),r=n(640027);function o(){const e=(0,i.useRef)([]),t=(0,i.useRef)({});return(0,i.useEffect)((()=>()=>{[...Object.keys(t.current).map((e=>t.current[e])),...e.current].forEach((e=>e()))}),[]),function(n,i){if(i){const e=t.current[i];e&&(e(),delete t.current[i])}const{cancel:o,promise:s}=(0,r.Z)(n);return i?t.current[i]=o:e.current.push(o),s}}},358934:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),r=n(40142),o=n(500953),s=n(827898),a=n(204748);function l({enabledRouteRefresh:e,dangerouslyDisableFetch:t,options:n,name:l,noCache:c,headers:d}){const{auxData:u,data:p,dispatch:h,error:m,isAtEnd:g,isFetching:f,isLoaded:_,isNotFirstOrRevisit:x,lastDangerouslyDisableFetch:b,lastOptionsKey:v,nextBookmark:y,optionsKey:w}=(0,s.Z)({dangerouslyDisableFetch:t,name:l,options:n}),E=Boolean(_&&e&&x&&!t),[S,I]=(0,i.useState)(E),C=(0,i.useCallback)((()=>{t||h((0,a.d5)(l,n,d))}),[t,h,d,l,w]),T=(0,i.useCallback)((()=>{t||h((0,a.b)(l,n,d))}),[t,d,l,w]),P=(0,i.useCallback)((()=>{t||(C(),I(!0))}),[t,C,I]),j=(0,i.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:T,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:P});(0,o.Z)((()=>{!0!==c&&_&&!E||C()})),(0,i.useEffect)((()=>{void 0!==v.current&&w!==v.current&&C(),v.current=w}),[v,C,w]),(0,i.useEffect)((()=>{!0===b.current&&!1===t&&C(),b.current=!!t}),[t,b,C]);const A={auxData:u,data:p,error:m,fetchMore:T,isAtEnd:g,isFetching:f,isLoaded:_,isRefreshing:S,nextBookmark:y,refresh:P};return(0,r.shallowEqual)(A,j.current)||(!S||!j.current.data&&E||(0,r.shallowEqual)(A.data,j.current.data)||(A.isRefreshing=!1,I(!1)),j.current=A),j.current}},799223:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(913669),r=n(785893);function o(e){return function(t){const{isHovering:n,hoverHandlers:o}=(0,i.Z)();return(0,r.jsx)(e,{...t,hoverHandlers:o,isHovering:n})}}},661966:(e,t,n)=>{n.d(t,{fm:()=>i,q6:()=>r,kM:()=>o,MZ:()=>g,vJ:()=>f,qp:()=>_,GY:()=>x,Vn:()=>b,Dl:()=>v,uV:()=>y,$N:()=>w});const i={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",RESOURCES:"RESOURCES"},r={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},o={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",DOCUMENTS:"DOCUMENTS"},s="Shopify",a="WordPress",l="WooCommerce",c="Weebly",d="Tealium",u="Magento",p="Squarespace",h="Ecwid",m="Bigcommerce",g={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce"},f={["Google Tag Manager"]:g.GOOGLE_TAG_MANAGER,[s]:g.SHOPIFY,[l]:g.WOO_COMMERCE,[a]:g.WORDPRESS,[p]:g.SQUARESPACE,[c]:g.WEEBLY,[d]:g.TEALIUM,[u]:g.MAGENTO,[h]:g.ECWID,[m]:g.BIG_COMMERCE},_={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_EVENTS:"PINTEREST_TAG_EVENTS",PINTEREST_TAG_HISTORY:"PINTEREST_TAG_HISTORY",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD"},x={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",PINTEREST_TAG_HISTORY:"PINTEREST_TAG_HISTORY",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},b={UNREAD:"UNREAD",READ:"READ",ACCEPTED:"ACCEPTED",REJECTED:"REJECTED",DISMISSED:"DISMISSED",INVALID:"INVALID",MUTED:"MUTED",SNOOZED:"SNOOZED",PMP_REPORTED:"PMP_REPORTED",EMAILED:"EMAILED",BULK_DOWNLOADED:"BULK_DOWNLOADED",FILTERED:"FILTERED",PUSHED:"PUSHED"},v={ATTRIBUTION_DESTINATION:"attributiondestination",ATTRIBUTION_EXPIRY:"attributionexpiry",ATTRIBUTION_REPORT_TO:"attributionreportto",ATTRIBUTION_SOURCE_EVENT_ID:"attributionsourceeventid"},y=2592e6,w={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"}},784655:(e,t,n)=>{n.d(t,{iR:()=>i,hy:()=>r,VX:()=>o,jL:()=>s,_J:()=>a,c4:()=>l,i8:()=>c,sV:()=>d,DP:()=>u,X9:()=>p,B5:()=>h});const i=e=>!!e&&!!e.video_list,r=({story_pin_data_id:e})=>!!e,o=e=>{var t;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null===(t=e.rich_metadata)||void 0===t?void 0:t.products)&&e.rich_metadata.products.length>0||!1},s=e=>!!e.promoter&&!e.is_downstream_promotion,a=e=>!!e.video_status&&5!==e.video_status,l=e=>!!e.creator_class,c=(e,t)=>{const{organicVideosAutoplaying:n,promotedVideosAutoplaying:i}=t,r={...n,...i};return!!r[e]&&!r[e].paused},d=e=>["email","messages","deep_linking"].includes(e),u=(e,t)=>{const{organicVideosAutoplaying:n,promotedVideosAutoplaying:i}=t,r={...n,...i};for(const o in r){const{paused:t}=r[o];if(o!==e&&!t)return!1}return!0},p=(e,t)=>{const{organicVideosAutoplaying:n,promotedVideosAutoplaying:i}=t,r={...n,...i};return r[e]&&r[e].currentTime},h=()=>{let e=800,t=400;return"undefined"!=typeof window&&(e=window.innerHeight,t=window.innerWidth),{windowHeight:e,windowWidth:t}}},609304:(e,t,n)=>{function i(e){return Boolean(e.promoted_is_removable)}n.d(t,{Z:()=>i})},739603:(e,t,n)=>{n.d(t,{nT:()=>i,UA:()=>r,ix:()=>o,_F:()=>s,ZP:()=>a});const i={zIndex:0},r={padding:"2px 0",fontSize:"18px",fontWeight:"bold",color:"#555555"},o={overflow:"hidden",textOverflow:"ellipsis",width:"100%"},s={border:"2px solid #fff",borderRadius:"50%",position:"absolute",bottom:50,left:8,width:40,height:40},a={display:"inline-block",float:"none",verticalAlign:"top"}},138881:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(737614),r=n(21755),o=n(34411),s=n(449127),a=n(585967),l=n(785893);const c=(e,t)=>e.isAuth&&e.isPartner&&(0,s.EO)({user:e})&&"en"===t&&0===i.Z.instance.site_type;function d({children:e}){const t=(0,o.ZP)(),{experiments:n,language:i}=(0,a.B)();return(0,l.jsx)(r.Z,{activate:!0,activateExperiment:e=>n.v2ActivateExperiment(e)||"",group:n.v2GetGroup("smb_growth_boost_text")||"",isEligible:c(t,i),name:"smb_growth_boost_text",children:e})}},254821:(e,t,n)=>{n.d(t,{Z:()=>f,T:()=>g});var i=n(667294),r=n(539484),o=n(883119),s=n(785893);function a({action:e,alignCenter:t}){const{title:n,description:i,button:a}=e,l=n&&n.text,c=i&&i.text,d=a&&a.text||"",u=a&&a.link||"",p=a&&a.link?a.link.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").replace("/",""):"",h=a&&d&&u.startsWith("http"),m=(0,r.Z)({url:u}),g=h&&m?"nofollow":"none";return h?(0,s.jsxs)(o.xu,{children:[(0,s.jsx)(o.xu,{marginBottom:1,children:(0,s.jsx)(o.xv,{align:t?"center":"start",weight:"bold",children:""!==d?d:"Visit"})}),(0,s.jsx)(o.xu,{marginBottom:1,children:(0,s.jsx)(o.rU,{rel:g,href:u,children:(0,s.jsx)(o.xv,{align:t?"center":"start",lineClamp:1,weight:"normal",underline:!0,children:p})})})]}):(0,s.jsxs)(o.xu,{children:[!!l&&(0,s.jsx)(o.xu,{marginBottom:1,children:(0,s.jsx)(o.xv,{align:t?"center":"start",weight:"bold",children:l})}),!!c&&(0,s.jsx)(o.xu,{marginBottom:1,children:(0,s.jsx)(o.xv,{align:t?"center":"start",children:c})})]})}const l={backgroundColor:"#E1F8F7",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},c={boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"};function d({inModal:e,notice:t}){const{title:n,description:i,actions:r=[]}=t,d=i&&i.text||"",u=i&&i.text_tags||[],p=1===r.length,h=g(d,u);return(0,s.jsxs)(o.xu,{rounding:2,padding:6,dangerouslySetInlineStyle:{__style:e?c:l},children:[!!n&&!e&&(0,s.jsx)(o.xu,{marginBottom:2,display:"flex",children:(0,s.jsx)(o.X6,{size:"md",children:n})}),!!d&&(0,s.jsx)(o.xu,{marginBottom:4,children:(0,s.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:(0,s.jsx)(o.xv,{overflow:"normal",align:e?"center":"start",children:h})})}),!!r.length&&(0,s.jsx)(o.xu,{display:"flex",wrap:!0,marginStart:-2,marginEnd:-2,direction:e?"column":"row",children:r.map((t=>(0,s.jsx)(o.xu,{column:e||p?12:6,paddingY:1,paddingX:2,children:(0,s.jsx)(a,{action:t,alignCenter:e||p})},JSON.stringify(t))))})]})}var u=n(455006);function p({notice:e}){const{actions:t=[],description:n,footer:i}=e,r=g(n&&n.text||"",n&&n.text_tags||[]),a={color:"#004b91",display:"block",fontSize:"28px",WebkitFontSmoothing:"antialiased"};return(0,s.jsxs)(o.xu,{width:"100%",display:"flex",direction:"column",alignItems:"center",marginBottom:3,children:[(0,s.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#86d1ce"}},display:"flex",justifyContent:"center",width:656,rounding:8,children:(0,s.jsxs)(o.xu,{height:"100%",width:"100%",padding:10,children:[(0,s.jsx)("span",{style:a,children:r}),(0,s.jsx)(o.xu,{marginTop:6,children:t.map((e=>{var t;const n=null===(t=e.button)||void 0===t?void 0:t.link;var i,r,l;return n&&n.startsWith("tel")?(0,s.jsxs)(o.xu,{children:[(0,s.jsx)("span",{style:{fontWeight:"600",...a},children:null===(i=e.title)||void 0===i?void 0:i.text}),(0,s.jsx)("span",{style:a,children:null===(r=e.description)||void 0===r?void 0:r.text})]}):(0,s.jsx)(u.Z,{href:n||"",children:(0,s.jsx)(o.xu,{display:"inlineBlock",children:(0,s.jsx)(o.xu,{alignItems:"center",color:"navy",display:"flex",justifyContent:"center",height:44,rounding:"pill",paddingX:12,children:(0,s.jsx)(o.xv,{color:"white",weight:"bold",children:(null===(l=e.button)||void 0===l?void 0:l.text)||""})})})})}))})]})}),!!i&&(0,s.jsx)(o.xu,{paddingY:2,width:540,children:(0,s.jsx)(u.Z,{inline:!0,target:"blank",href:i.link,children:(0,s.jsx)(o.xv,{align:"center",color:"gray",size:"sm",children:(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:i.text}})})},i.link)})]})}var h=n(500953),m=n(549135);function g(e,t){const n=[];let i=0;for(let r=0;r<t.length;r+=1){const a=t[r];if(5===a.tag_type&&a.link){const t=e.substring(a.offset,a.offset+a.length),r=(0,s.jsx)(o.xv,{inline:!0,weight:"bold",children:(0,s.jsx)(u.Z,{inline:!0,target:"blank",href:a.link,children:t},t)});n.push((0,s.jsx)("span",{children:e.substring(i,a.offset)})),n.push(r),i=a.offset+a.length}}return i>0&&n.push((0,s.jsx)("span",{children:e.substring(i)})),0===n.length?[(0,s.jsx)("span",{children:e})]:n}function f({inModal:e,notices:t,viewType:n,query:r,sensitivity:o}){return(0,h.Z)((()=>{n&&(0,m.j)(120,{component:13367,view:n,entered_query:r,advisory_details:null==o?void 0:o.advisory_details,advisory_level:null==o?void 0:o.advisory,severity_level:null==o?void 0:o.severity})})),(0,s.jsx)(i.Fragment,{children:t.map((t=>2===t.style?(0,s.jsx)(p,{notice:t}):(0,s.jsx)(d,{notice:t,inModal:e})))})}},949876:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var i=n(667294),r=n(151101),o=n(925265),s=n(975151),a=n(455006),l=n(756169),c=n(54200),d=n(174571),u=n(549156),p=n(174523),h=n(320145),m=n(181307),g=n(11200),f=n(946753),_=n(883119),x=n(785893);const b=function(e){const t=(0,p.ZP)(),{followerCount:n,fullName:b,hasVerifiedIdentity:v,imageUrl:y,isPromoted:w,isVerifiedMerchant:E,profileUrl:S,sponsorName:I,sponsorshipStatus:C,sponsorUsername:T="",verified:P,color:j="darkGray",onNavigateClick:A,onNavigateSponsorClick:O,openNewTab:R}=e,D=(0,m.tc)("mweb_web_android_ios_backend_clbc_display_controls")().anyEnabled,k=(0,o.Z)(t._("{{ fullName }} avatar link","creatorCardProfile.avatar.accessibilityLabel","Accessibility label for user avatar"),{fullName:null!=b?b:""}),N=(0,x.jsx)(s.Z,{children:({active:e,focused:t,hovered:n,onBlur:i,onFocus:o,onMouseEnter:s,onMouseLeave:a})=>(0,x.jsx)(_.xu,{onBlur:i,onFocus:o,onMouseEnter:s,onMouseLeave:a,children:(0,x.jsx)(_.zd,{rounding:"circle",wash:n||e||t,children:(0,x.jsx)(r.Z,{accessibilityLabel:k,name:null!=b?b:"",size:"md",src:null!=y?y:"",verified:P})})})}),B=(0,c.ZP)(b,70),Z=(0,x.jsxs)(i.Fragment,{children:[w&&(0,x.jsx)(_.xv,{size:"md",lineClamp:1,weight:"bold",children:t._("Promoted by","indicating the username of the person who promoted the pin","indicating the username of the person who promoted the pin")}),(0,x.jsx)(u.Z,{id:"creator-profile-name",children:(0,x.jsx)(_.xu,{maxWidth:270,children:(0,x.jsx)(_.xv,{color:j,size:"md",weight:"bold",children:v||E?(0,x.jsx)(h.Z,{badgeSize:"xs",badgeSpacing:2,fullName:B,identityIsVerified:v,isVerifiedMerchant:E}):b})})})]}),L=T&&I,M=L||g.j.includes(C)&&D,U=L?(0,x.jsx)(_.xv,{inline:!0,size:"md",weight:"bold",children:(0,x.jsx)(a.Z,{href:`/${T}/`,onClick:O,children:(0,c.ZP)(I,20)})}):void 0;return(0,x.jsxs)(_.xu,{alignItems:"center",display:"flex",marginEnd:-1,marginStart:-1,dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:[(0,x.jsx)(_.xu,{"data-test-id":"creator-avatar",flex:"none",paddingX:1,children:S?(0,x.jsx)(d.Z,{target:R?"blank":null,onTap:A,href:S,children:N}):N}),(0,x.jsxs)(_.xu,{children:[(0,x.jsx)(_.xu,{alignItems:"center",direction:"row",display:"flex",flex:"grow",paddingX:1,children:S?(0,x.jsx)(a.Z,{target:R?"blank":null,onClick:A,href:S,children:Z}):Z}),M?(0,x.jsx)(_.xu,{"data-test-id":"sponsor-title",display:"flex",paddingX:1,children:(0,x.jsx)(g.Z,{isPromoted:w,sponsorName:U,sponsorshipStatus:C})}):!!n&&(0,x.jsx)(_.xu,{"data-test-id":"follower-count",display:"flex",paddingX:1,children:(0,x.jsx)(_.xv,{color:j,size:"md",children:(0,f.nk)(t.ngettext("{{ followerCount }} follower","{{ followerCount }} followers",n,"closeup.creator.followerCount","the number of followers the creator of the pin has"),{followerCount:(0,x.jsx)(l.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:n},n)})})})]})]})}},131451:(e,t,n)=>{n.d(t,{CB:()=>m,y9:()=>h});var i=n(667294),r=n(451190),o=n(311866),s=n(174523),a=n(883119),l=n(785893);const c=({onConfirm:e})=>{const t=(0,s.ZP)(),[n,c]=(0,i.useState)(!1),d=()=>{c(!0),o.ZP.create("ApiResource",{url:"/v3/users/email/verify/resend/"}).callCreate()};return(0,l.jsx)(r.Z,{accessibilityModalLabel:t._("Verify your email","Accessible label for email verification being required","Accessible label for email verification being required"),onDismiss:e,heading:t._("Verify your email","Accessible label for email verification being required","Accessible label for email verification being required"),footer:(0,l.jsxs)(a.kC,{justifyContent:"end",gap:2,children:[n?(0,l.jsx)(a.zx,{fullWidth:!0,size:"lg",color:"gray",text:t._("Email sent","Button text for verification email being sent","Button text for verification email being sent"),disabled:n,onClick:d}):(0,l.jsx)(a.zx,{fullWidth:!0,size:"lg",color:"gray",text:t._("Resend email","Button text for resending email verification email","Button text for resending email verification email"),disabled:n,onClick:d}),(0,l.jsx)(a.zx,{fullWidth:!0,size:"lg",color:"red",text:t._("Got it","Button text for acknowledging email verificaiton is required","Button text for acknowledging email verificaiton is required"),onClick:e})]}),role:"alertdialog",children:(0,l.jsx)(a.xu,{padding:8,children:(0,l.jsx)(a.xv,{align:"center",size:"lg",children:t._("Keep your account secure by verifying your email address. Check the inbox associated with this account for an email from us to continue using Pinterest.","Inform users that they need to verify their email to keep their account secure and continue using Pinterest","Inform users that they need to verify their email to keep their account secure and continue using Pinterest")})})})};var d=n(762803);const{Provider:u,Consumer:p,useHook:h}=(0,d.ZP)("EmailVerificationReminderModal");function m({children:e}){const[t,n]=(0,i.useState)(!1);return(0,l.jsxs)(i.Fragment,{children:[(0,l.jsx)(u,{value:{showEmailVerificationReminderModal:()=>{n(!0)}},children:e}),t&&(0,l.jsx)(c,{onConfirm:()=>{n(!1)}})]})}},854458:(e,t,n)=>{n.d(t,{Z:()=>P});var i=n(667294),r=n(40142),o=n(883119),s=n(785893);function a({ideaPinImages:e}){const t={1:28,2:40,3:48},n=e.map(((e,t)=>{var n,i,r;return(0,s.jsx)(o.xu,{height:48,width:28,color:"white",borderStyle:"sm",overflow:"hidden",rounding:2,dangerouslySetInlineStyle:{__style:{borderColor:"white",marginInlineEnd:"-17px",WebkitMaskImage:"-webkit-radial-gradient(white, black)",zIndex:t}},children:(0,s.jsx)(o.Ee,{alt:"",src:null!==(n=null==e?void 0:e.url)&&void 0!==n?n:"",color:"#696969",fit:"cover",naturalHeight:null!==(i=null==e?void 0:e.height)&&void 0!==i?i:1,naturalWidth:null!==(r=null==e?void 0:e.width)&&void 0!==r?r:1})},t)}));return(0,s.jsx)(o.kC,{justifyContent:"center",children:(0,s.jsx)(o.kC,{justifyContent:"start",width:t[e.length],children:n})})}var l=n(881220),c=n(358934);function d({href:e,id:t,imageUrl:n,onHide:i,text:r}){const o=(0,c.Z)({name:"UserStoryPinsFeedResource",options:{data:{filter_version:2,public_only:!0},field_set_key:"follow_grid_item",user_id:t}});if(!o.data)return null;if(0===o.data.length)return(0,s.jsx)(l.Z,{duration:5e3,onHide:i,text:r,href:e,imageUrl:n,thumbnailShape:"circle"});const d=o.data.slice(0,3).map((e=>{var t;return null===(t=e.images)||void 0===t?void 0:t["236x"]})),u=(0,s.jsx)(a,{ideaPinImages:d});return(0,s.jsx)(l.Z,{duration:5e3,href:e,iconThumbnail:u,onHide:i,text:r,thumbnailShape:"square"})}var u=n(756169),p=n(174523),h=n(946753);const m=({followText:e,followerCount:t,userFollowed:n})=>{const i=(0,p.ZP)();return(0,h.nk)(i._("{{ followCount }} {{ followText }}"),{followCount:(0,s.jsx)(o.xu,{"data-test-id":"followCount",paddingX:1,opacity:n?void 0:.8,children:(0,s.jsx)(o.xv,{color:n?"gray":"white",children:(0,s.jsx)(u.Z,{value:t,shortform:!0,shortformMaximumFractionDigits:0})})},"followCount"),followText:(0,s.jsx)(o.xu,{"data-test-id":"followText",paddingX:1,children:(0,s.jsx)(o.xv,{color:n?"darkGray":"white",weight:"bold",children:e})},"followText")})};var g=n(233088),f=n(500953),_=n(116955),x=n(550242),b=n(549135),v=n(131451),y=n(998864),w=n(181307),E=n(475446),S=n(708206),I=n(289605);function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class T extends i.PureComponent{constructor(...e){super(...e),C(this,"handleButtonClick",this.props.requireAuth((({event:e})=>{this.props.shouldStopEventPropagation&&(e.preventDefault(),e.stopPropagation());const{loggingData:t}=this.props;(0,b.j)(101,{component:13672,element:11951,objectId:this.props.id,view:this.props.viewType,viewParameter:this.props.viewParameter,...t||{}}),this.toggleFollowUnfollow()}))),C(this,"handleClick",this.props.requireAuth((({event:e})=>{this.props.shouldStopEventPropagation&&e.stopPropagation(),this.toggleFollowUnfollow()}))),C(this,"toggleFollowUnfollow",(()=>{const{id:e,mostRecentPin:t,loggingData:n,userFollowed:i,viewType:r,viewParameter:o}=this.props;i?((0,b.j)(46,{objectId:e,pin_id:t,view:r,viewParameter:o,...n||{}}),this.unfollow()):((0,b.j)(45,{objectId:e,pin_id:t,view:r,viewParameter:o,...n||{}}),this.follow())})),C(this,"follow",(()=>{const{follow:e,id:t,onUserFollow:n,mostRecentPin:i,clearMostRecentPin:r}=this.props;e(t,i,this.showConfirmation,this.showError),n&&n(!0),r()})),C(this,"showToast",((e,t)=>{const{id:n,imageUrl:i,profileUrl:r,toastManagerContext:o,suppressToasts:a}=this.props;a||o.showOneToast((({onHide:o})=>e?(0,s.jsx)(d,{href:r,id:n,imageUrl:i,onHide:o,text:t}):(0,s.jsx)(l.Z,{onHide:o,text:t,href:r,imageUrl:i,thumbnailShape:"circle"})))})),C(this,"showConfirmation",(()=>{const{activatePostFollowToastExp:e,fullName:t}=this.props,{anyEnabled:n,group:r}=e(),a="enabled"===r?(0,s.jsx)(i.Fragment,{children:(0,s.jsx)(o.xv,{children:(0,h.nk)(this.props.i18n._("{{ creator }}'s created Pins will show up in your home feed!","userFollowButton.informationalToastText","Text explaining that a creator's Pins will show up in home feed after follow"),{creator:(0,s.jsx)(o.xv,{inline:!0,weight:"bold",children:t})})})}):(0,s.jsx)(i.Fragment,{children:(0,s.jsx)(o.xv,{children:this.props.i18n._("Following! Their created Pins will show up in your home feed!","userFollowButton.informationalToastText2","Text explaining that a creator's Pins will show up in home feed after follow")})}),l=n?a:(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(o.xv,{children:this.props.i18n._("Now following","text that comes before a board/user name in toast","text that comes before a board/user name in toast")}),(0,s.jsx)(o.xv,{weight:"bold",children:t})]});this.showToast(n,l)})),C(this,"showError",(e=>{const{fullName:t,userFollowed:n,showEmailVerificationReminderModal:r}=this.props,a=n?this.props.i18n._("Error unfollowing {{ usernameComponent }}.","UserFollowButton.error.unfollowing","When there is an API error when unfollowing a user"):this.props.i18n._("Error following {{ usernameComponent }}.","UserFollowButton.error.following","When there is an API error when following a user");if(e&&e.api_error_code===_.H9)return void r();const l=(0,s.jsx)(i.Fragment,{children:(0,s.jsx)(o.xv,{children:(0,h.nk)(a,{usernameComponent:(0,s.jsx)(o.xv,{weight:"bold",inline:!0,children:t})})})});this.showToast(!1,l)})),C(this,"unfollow",(()=>{const{id:e,onUserFollow:t,unfollow:n,mostRecentPin:i,clearMostRecentPin:r}=this.props;n(e,i,(()=>{}),this.showError),t&&t(!1),r()}))}renderButton(){const{button:e,followerCount:t,inline:n=!1,isOwnProfile:i,invertButtonColor:r,isSecondaryButton:a,size:l,showFollowerCount:c,userFollowed:d}=this.props,u=d?this.props.i18n._("Following","User follow button","User follow button"):this.props.i18n._("Follow","User follow button","User follow button");if(e)return e({followText:u,onClick:this.handleButtonClick,userFollowed:d});if(i)return(0,s.jsx)(o.zx,{fullWidth:!0,disabled:!0,text:this.props.i18n._("This is you","Button label to note that this is your Profile","Button label to note that this is your Profile")});if(c){const e="number"==typeof t?(0,s.jsx)(m,{followerCount:t,userFollowed:d,followText:u}):u;return(0,s.jsx)(o.iP,{onTap:this.handleClick,children:(0,s.jsx)(o.xu,{color:d?"lightGray":"red",rounding:2,paddingX:3,paddingY:3,children:(0,s.jsx)(o.kC,{alignItems:"center",justifyContent:"start",children:e})})})}return(0,s.jsx)(o.xu,{display:"inlineBlock","data-test-id":`user-${d?"unfollow":"follow"}-button`,children:(0,s.jsx)(o.zx,{accessibilityLabel:d?this.props.i18n._("Unfollow","userUnfollowButton.button.accessibilityLabel","Accessibility label for the unfollow button"):this.props.i18n._("Follow","userFollowButton.button.accessibilityLabel","Accessibility label for the follow button"),color:a||d?"gray":"red",selected:r?!d:!!d,fullWidth:n,onClick:this.handleButtonClick,size:null!=l?l:void 0,text:u})})}render(){const{showPulsar:e,userFollowed:t}=this.props;return(0,s.jsxs)(o.xu,{position:"relative",display:"flex",children:[this.renderButton(),e&&(0,s.jsx)(o.iP,{onTap:this.handleClick,children:(0,s.jsx)(o.xu,{position:"absolute",display:"inlineBlock",dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}},children:(0,s.jsx)(o.o3,{paused:t||!1})})})]})}}const P=(0,S.compose)((0,r.connect)((function({mostRecentPin:e,users:t},{id:n,userFollowed:i}){const r=(t||{})[n];return{followerCount:r?r.follower_count:null,mostRecentPin:e?e.id:null,userFollowed:r?r.explicitly_followed_by_me:i}}),(function(e){return{clearMostRecentPin:()=>e((0,x.K9)(null)),follow:(t,n,i,r)=>{e((0,I.yA)(t,n)).then(i).catch((e=>{r(e)}))},unfollow:(t,n,i,r)=>{e((0,I.KF)(t,n)).then(i,r)}}})),E.Cl)((function(e){const t=(0,p.ZP)(),n=(0,w.tc)("web_post_follow_toast"),i=(0,y.Z)(),o=(0,r.useDispatch)(),{showEmailVerificationReminderModal:a}=(0,v.y9)();return(0,f.Z)((()=>{const{id:t}=e,n=g.ZP.localStorage.getItem("unauthDesktopFollowId")||"";n&&n===t&&(g.ZP.localStorage.removeItem("unauthDesktopFollowId"),o((0,I.ZN)(n)))})),(0,s.jsx)(T,{...e,activatePostFollowToastExp:n,requireAuth:i,i18n:t,showEmailVerificationReminderModal:a})}))},476865:(e,t,n)=>{n.r(t),n.d(t,{default:()=>b});var i=n(667294),r=n(40142),o=n(269935),s=n(439887),a=n(28745),l=n(561739),c=n(432921),d=n(904126),u=n(883119),p=n(785893);const h={overlay:{__style:{backgroundColor:"#000"}}};function m(e){var t,n,r,o;const{pin:{id:s,images:a,title:l,videos:m,video_status_message:g}}=e,f=g||{},_=a&&a["236x"],x=m&&(null===(t=m.video_list)||void 0===t?void 0:t[d.K.V_HLSV4]),{duration:b}=x||{};return(0,p.jsx)(i.Fragment,{children:(0,p.jsx)(u.Zb,{children:(0,p.jsxs)(u.iP,{role:"link",href:`/pin/${s}`,rounding:2,children:[(0,p.jsxs)(u.xu,{overflow:"hidden",position:"relative",rounding:2,children:[_&&(0,p.jsx)(u.Ee,{alt:l||"",color:"lightGray",naturalHeight:null!==(n=_.height)&&void 0!==n?n:1,naturalWidth:null!==(r=_.width)&&void 0!==r?r:1,src:null!==(o=_.url)&&void 0!==o?o:""}),!!b&&(0,p.jsx)(u.xu,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex",children:(0,p.jsx)(c.Z,{duration:b})}),(0,p.jsx)(u.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.4,dangerouslySetInlineStyle:h.overlay}),(0,p.jsxs)(u.xu,{position:"absolute",top:!0,left:!0,padding:5,width:"100%",children:[(0,p.jsx)(u.X6,{color:"white",overflow:"normal",size:"sm",children:f.title}),(0,p.jsx)(u.xu,{marginTop:4,children:(0,p.jsx)(u.xv,{color:"white",size:"md",overflow:"normal",children:f.subtitle})})]})]}),(0,p.jsx)(u.xu,{display:"flex",alignItems:"start",justifyContent:"between",marginTop:1,paddingX:1,children:(0,p.jsx)(u.xu,{flex:"grow",children:l&&(0,p.jsx)(u.xu,{paddingY:1,children:(0,p.jsx)(u.xv,{inline:!0,size:"md",weight:"bold",children:l})})})})]})})})}var g=n(784655),f=n(855168),_=n(398791),x=n(560133);function b({trackingParameters:e,pin:t,pinId:n,...c}){var d,u,h;const b=(0,f.TH)(),v=(0,r.useSelector)((({pins:e})=>e[n]))||t,y=(0,s.ZP)(v,b),w=(0,a.Z)(v),E=!!(w&&w.url&&w.height&&w.width)||void 0,S=w&&v.videos?v.videos.id:void 0,[I,C]=(0,i.useState)(!1),T=(0,i.useCallback)((()=>C(!0)),[]),P=(0,i.useCallback)((()=>C(!1)),[]),{componentType:j,contextLogData:A,impressionAuxFields:O,slotIndex:R,viewData:D,viewParameter:k,viewType:N}=e;return(0,p.jsx)(o.Z,{componentType:j,contextLogData:{..."undefined"!=typeof window?{pwa_type:(0,l.ZP)(window)}:{},...A,...(0,x.Kl)(v,A)},impressionAuxFields:{...O||{},isNativeVideoAndWatchable:E,videoIdStr:S,clientTrackingParams:y||`${v.tracking_params||""}-0`,imageURL:null!==(d=null===(u=v.images)||void 0===u||null===(h=u["236x"])||void 0===h?void 0:h.url)&&void 0!==d?d:"",richTypes:(0,x.GT)(v)},impressionType:"Pin",isPaused:!I,loggingId:v.id,slotIndex:R,viewData:D,viewParameter:k,viewType:N,children:(0,g._J)(v)?(0,p.jsx)(m,{pin:v}):(0,p.jsx)(_.ZP,{...c,debugImpressionState:I?"started":"paused",onError:P,onLoad:T,pin:v,pinId:n,trackingParameters:{componentType:j,contextLogData:A,slotIndex:R,viewParameter:k,viewType:N}})})}},515528:(e,t,n)=>{n.d(t,{ZF:()=>i,Wv:()=>r,zI:()=>o,UP:()=>s});const i=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],r=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","STLProductsFeed","RelatedProductsFeed","ShoppingSquareGridRelatedProducts","UserProfilePinGrid"],o=[...r,"ShoppingSquareGridRelatedProductsBoth","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingSquareGridRelatedProductsMetadata","ProductPinsFeed","ShoppingSquareGridCrop","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid"],s=["BaseBoardPinGrid"]},354707:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),r=n(631739),o=(n(645871),n(883119)),s=n(174523),a=n(785893);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.Component{constructor(...e){super(...e),l(this,"setInputRef",(e=>{e&&(this._input=e)})),l(this,"handleKeyDown",(e=>{const{disabled:t,indexManager:n}=this.props;if(!t)switch(e.which){case r.Z.KeyCode.ENTER:case r.Z.KeyCode.NUMPAD_ENTER:e.preventDefault(),n.select();break;case r.Z.KeyCode.UP:e.preventDefault(),n.prev();break;case r.Z.KeyCode.DOWN:e.preventDefault(),n.next()}}))}componentDidMount(){this._input&&this._input.focus()}render(){const{onChange:e,value:t}=this.props;return(0,a.jsx)("div",{onKeyDown:this.handleKeyDown,role:"presentation",style:{width:"100%"},children:(0,a.jsx)(o.Um,{accessibilityLabel:"",id:"pickerSearchField",onChange:({value:t})=>e(t),placeholder:this.props.i18n._("Search","search bar placeholder text","search bar placeholder text"),ref:this.setInputRef,size:"lg",value:t})})}}const d=function(e){const t=(0,s.ZP)();return(0,a.jsx)(c,{...e,i18n:t})}},63447:(e,t,n)=>{n.d(t,{Z:()=>_});var i=n(667294),r=n(223419),o=n(189552),s=n(174523),a=n(799223),l=n(883119),c=n(785893);const d=(0,a.Z)((function(e){const t=(0,s.ZP)(),{buttonLabel:n,isHovering:i,isRowItem:r,hasHoverState:o,hoverHandlers:a,name:d,onClick:u}=e,p=d||n||t._("Create board");return(0,c.jsx)(l.iP,{onMouseEnter:a.onMouseOver,onMouseLeave:a.onMouseLeave,onTap:u,children:(0,c.jsxs)(l.xu,{alignItems:"center",color:o&&i?"lightGray":"white",display:"flex",flex:r?"shrink":"none",height:64,width:"100%",children:[(0,c.jsx)(l.xu,{marginStart:6,marginEnd:3,"data-test-id":"createBoardButton",children:(0,c.jsx)(l.JO,{accessibilityLabel:t._("Add a board"),size:"32",icon:"add-circle",color:"red"})}),d?(0,c.jsx)(l.xu,{margin:1,children:(0,c.jsxs)(l.xv,{inline:!0,overflow:"normal",children:[" ",t._("Create: ")," "]})}):null,(0,c.jsxs)(l.xv,{align:"center",inline:!0,lineClamp:1,weight:"bold",children:[" ",p," "]})]})})}));var u=n(645871),p=n(354707),h=n(745252),m=n(670473);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f extends i.Component{constructor(...e){super(...e),g(this,"state",{searchQuery:""}),g(this,"handleSelectItem",(e=>{const{onCreate:t,onSelected:n}=this.props;if(!e&&t){const{searchQuery:e}=this.state;t(e)}else e&&n(e);(t||e)&&this.setState({searchQuery:""})})),g(this,"handleSearchQueryInput",(e=>{this.setState({searchQuery:e})})),g(this,"renderSectionHeader",((e,t)=>e.title?(0,c.jsxs)(l.xu,{children:[t>0&&(0,c.jsx)(l.iz,{}),(0,c.jsx)(l.xu,{paddingX:3,paddingY:1,children:(0,c.jsx)(l.xv,{size:"md",children:e.title})})]}):null)),g(this,"renderRow",(({item:e,hovered:t,sectionProps:n={}})=>{const{boardSavedTo:i,isSelectMode:o,disabledRowId:s}=this.props,{searchQuery:a}=this.state,{inSectionSelection:l=!1}=n,d=i&&i.board===e.id?i&&i.state:null,u="board_section"===e.type;return(0,c.jsx)(r.ZP,{disabled:e.id===s&&l,isSection:u,isSelectMode:o,isWithinSectionPicker:l,item:e,saveState:d,searchQuery:a,selected:t})}))}componentDidUpdate(e){if(!e.isLoaded&&this.props.isLoaded){const{boardPickerStopwatch:e,hasLoadError:t}=this.props;e&&(t?e.error():e.stop())}}render(){const{boardSavedTo:e,createButtonLabel:t,hasLowBoardCount:n,getSections:i,isLoaded:r,onCreate:s,pinId:a}=this.props;if(r){const{searchQuery:r}=this.state,m=i(r);return this.indexManager=new u.Z(m.map((e=>e.items))),this.indexManager.setSelectItem(this.handleSelectItem),(0,c.jsxs)(l.xu,{minHeight:0,flex:"grow",height:"100%",overflow:"auto",display:"flex",direction:"column",dangerouslySetInlineStyle:{__style:{zIndex:0}},children:[!n&&(0,c.jsxs)(l.xu,{children:[(0,c.jsx)(l.xu,{paddingX:3,marginBottom:4,marginTop:1,children:(0,c.jsx)(p.Z,{disabled:!!e,indexManager:this.indexManager,onChange:this.handleSearchQueryInput,value:r})}),(0,c.jsx)(l.iz,{})]}),(0,c.jsx)(h.Z,{disabled:!!e,grow:!n&&!r,indexManager:this.indexManager,onSelectItem:this.handleSelectItem,renderItem:this.renderRow,renderSectionHeader:this.renderSectionHeader,sections:m}),(0,c.jsx)(l.iz,{}),s&&(0,c.jsx)(d,{buttonLabel:t,hasHoverState:!0,name:r,onClick:()=>s(r)}),n&&s&&a&&(0,c.jsx)(o.Z,{onBoardSelected:s,pinId:a})]})}return(0,c.jsx)(l.xu,{paddingY:5,children:(0,c.jsx)(l.$j,{accessibilityLabel:this.props.i18n._("loading section picker","accessibility label for the loading spinner the repin picker","accessibility label for the loading spinner the repin picker"),show:!0})})}}function _(e){const t=(0,s.ZP)(),n=(0,m.iN)();return(0,c.jsx)(f,{...e,boardPickerStopwatch:n,i18n:t})}},178862:(e,t,n)=>{n.d(t,{j:()=>o});const i={"á":"a","à":"a","â":"a","ä":"a","ã":"a","å":"a","æ":"a","ç":"c","é":"e","è":"e","ê":"e","ë":"e","í":"i","ì":"i","î":"i","ï":"i","ñ":"n","ó":"o","ò":"o","ô":"o","ö":"o","õ":"o","ø":"o","œ":"o","ß":"s","ú":"u","ù":"u","û":"u","ü":"u"},r=e=>{if(!e)return"";let t="";for(let n=0;n<e.length;n+=1)t+=i[e.charAt(n)]||e.charAt(n);return t},o=(e,t,n="name")=>{const i=t.toLowerCase();return e.filter((e=>((e,t)=>{const n=t.split(" "),i=e.split(" ");let o=0;for(let s=0;s<i.length;s+=1)(r(i[s]).includes(n[o])||i[s].includes(n[o]))&&(o+=1);return o===n.length})(e[n].toLowerCase(),i)))}},585967:(e,t,n)=>{n.d(t,{P2:()=>s,Mf:()=>a,LC:()=>l,fH:()=>c,B:()=>d});var i=n(667294),r=n(785893);const o=(0,i.createContext)(),s=o.Provider;function a(e){function t(t){const n=(0,i.useContext)(o);if(!n)throw new Error("withRequestContext must be used within a RequestContextProvider");return(0,r.jsx)(e,{...t,requestContext:n})}return t.displayName=`withRequestContext(${String(e.displayName||e.name)})`,t}const l=({children:e})=>{const t=(0,i.useContext)(o);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t)},c=({children:e})=>{const t=(0,i.useContext)(o);if(!t)throw new Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t)};function d(){const e=(0,i.useContext)(o);if(!e)throw new Error("useRequestContext must be used within a RequestContextProvider");return e}},904126:(e,t,n)=>{n.d(t,{K:()=>i});const i={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},955801:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),r=n(823493),o=n.n(r);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a extends i.PureComponent{constructor(...e){super(...e),s(this,"setContainerRef",(e=>{this.containerRef=e})),s(this,"fetchMoreIfNecessary",o()((()=>{const{fetchMore:e,scrollBuffer:t}=this.props;e&&this.containerRef&&(({scrollTop:e,clientHeight:t,scrollHeight:n},i)=>e+t+(i?i(t):2*t)>n)(this.containerRef,t)&&e()}),200))}componentDidMount(){setTimeout(this.fetchMoreIfNecessary)}componentDidUpdate(){this.fetchMoreIfNecessary()}render(){const{children:e}=this.props;return e({onScroll:this.fetchMoreIfNecessary,setRef:this.setContainerRef})}}},595657:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(439887),r=n(584489);function o(e,t){const n=r.Z.instance;let o;if(n){const r=n.getState();if(r.pins&&e){const n=r.pins[e],s=r.location;if(null!=t&&t.shouldTrackForPrevLocation){const e=(null==n?void 0:n.tracking_params_map)||{},t=Object.keys(e).find((e=>"PinResource"!==e));n&&(o=t?e[t]:e.PinResource)}else n&&(o=(0,i.ZP)(n,s))}}return o}},279224:(e,t,n)=>{n.d(t,{Z:()=>i});const i=function(e){return function(t){return null!=t?e(t):null}}},639387:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(0,n(279224).Z)((e=>e.pin&&e.pin.id?{...e,id:e.id,aggregatedPinData:e.pin.aggregated_pin_data}:null))},855947:(e,t,n)=>{n.d(t,{q$:()=>i.Z,vk:()=>r,CK:()=>o,rU:()=>l,Oj:()=>u,bG:()=>p,R2:()=>h,aF:()=>m,j_:()=>v,Gw:()=>y,eR:()=>f,Ip:()=>_,d9:()=>x,Zr:()=>b,$V:()=>w,AH:()=>E,ql:()=>S.Z,yM:()=>I,uB:()=>P,oc:()=>j,JS:()=>A,mv:()=>O,dc:()=>R,ML:()=>D,go:()=>N,wF:()=>B,iR:()=>Z,jg:()=>L,Ku:()=>U});var i=n(595657);function r(e){return!e.is_promoted}function o(e){if(e&&e.pin){const t=e.pin.rich_metadata;if(t)return t.products?144:t.article?141:t.recipe?145:139;if(e.pin.story_pin_data)return 157}return 140}var s=n(517563),a=n(549135);function l({deepLinkBackGoesToBoard:e,goBack:t,pin:n,routePush:i,trafficSource:r,viewer:l,requestContext:c,viewType:d,viewParameterType:u,componentType:p}){(0,a.j)(101,{view:d||3,viewParameter:u||o((0,S.Z)({pin:n})),...p?{component:p}:void 0,element:34});const h="deep_linking"===r&&!e,m=l.partner?"/homefeed/":"/",{utm_source:g,news_hub_id:f}=function(e){const t=s.parse(e);return{utm_source:t.utm_source||null,utm_medium:t.utm_medium||null,utm_campaign:t.utm_campaign||null,news_hub_id:t.news_hub_id||null}}(c.fullPath);return"31"==`${g}`&&f?i(`/news_hub/${f}`):h?i(m):t()}var c=n(279224);const d=e=>{const t=(e||[]).reduce(((e,t)=>t.name?e.concat({name:t.name}):e),[]);return t.length>0?t:null},u=(0,c.Z)((e=>{const{richMetadata:t}=e,{article:n}=t,{name:i,description:r,authors:o,date_published:s}=n||{};return i?{...e,article:{name:i,description:r,authors:d(o),datePublished:s&&new Date(s)||void 0}}:null})),p=(0,c.Z)((e=>{const{attribution:t}=e.pin,{author_url:n,url:i,author_name:r,title:o,provider_name:s,cc_url:a,embed:l}=t||{};return s&&i?{...e,attribution:{providerUrl:i,providerName:s,title:o,authorUrl:n,authorName:r,ccUrl:a,embed:l}}:null})),h=(0,c.Z)((e=>{const{categorizedIngredients:t}=e.recipe;return t&&t.length>0?{...e,categorizedIngredients:t}:null})),m=(0,c.Z)((e=>{const{display_name:t}=e.richSummary;return t?{...e,displayName:t}:null})),g=e=>t=>{const{images:n}=t,i=n[e],{url:r,width:o,height:s}=i||{};return r&&o&&s?{url:r,width:o,height:s}:null},f=(0,c.Z)((e=>{const t=g("236x")(e);return t&&{...e,image236x:t}})),_=(0,c.Z)((e=>{const t=g("564x")(e);return t&&{...e,image564x:t}})),x=(0,c.Z)((e=>{const t=g("736x")(e);return t&&{...e,image736x:t}})),b=(0,c.Z)((e=>{const{images:t}=e,n=t.orig,{url:i,width:r,height:o}=n||{};return i&&r&&o?{...e,imageOrig:{url:i,width:r,height:o}}:null})),v=(0,c.Z)((e=>{const{embed:t}=e.pin,{type:n,src:i,subtype:r}=t||{};return i?{...e,embed:{type:n,src:i,subtype:r}}:null})),y=(0,c.Z)((e=>{const{embed:t}=v((0,S.Z)(e))||{};return!(!t||!t.src||"pinstory"===t.subtype||"gif"===t.type)?{...e,embed:{...t}}:null})),w=(0,c.Z)((e=>{const{pin:t}=e,{images:n}=t,i=Object.keys(n||{}).reduce(((e,t)=>{const i=n[t],{url:r,width:o,height:s}=i;return e&&r&&o&&s?{...e,[t]:{url:r,width:o,height:s}}:null}),{});return i&&Object.keys(i).length>0?{...e,images:i}:null})),E=(0,c.Z)((e=>{const{products:t=null}=j(e)&&I(j(e))||{},{pin:n}=e,{tracked_link:i,link:r,method:o}=n,s=i||r,a=s&&("catalog_bulk_create"===o||!!t)?decodeURIComponent(s):s;return a?{...e,link:a}:null}));var S=n(639387);(0,c.Z)((e=>{const{pin:t}=e,{aggregated_pin_data:n}=t,{pin_tags:i}=n||{};return i?{...e,pinTags:i}:null}));const I=(0,c.Z)((e=>{const{pin:t,richMetadata:n}=e,{buyable_availability:i}=t,{products:r}=n,o=Array.isArray(r)?r.map((e=>{const{name:t,offer_summary:n}=e,{in_stock:r,min_price:o,max_price:s,price:a}=n||{};let l=null;return void 0!==o&&void 0!==s?l=`${o} - ${s}`:void 0!==a&&(l=`${a}`),t?{name:t,outOfStock:!1===i||!1===r,priceText:l}:null})).filter((e=>null!==e)):[];return o.length>0?{...e,products:{first:o[0],rest:o.slice(1)}}:null}));var C=n(389727);const T=e=>{const{h:t,m:n}=e||{},i={hours:t||0,minutes:n||0};return void 0!==t||void 0!==n?{h:t,m:n,time:i,isoDuration:(0,C.Z)(i)}:null},P=(0,c.Z)((e=>{const{richMetadata:t}=e,{recipe:n}=t,{name:i,categorized_ingredients:r,diets:o,from_aggregated_data:s,cook_times:a,servings_summary:l}=n||{},{total:c,cook:d,prep:u}=a||{},{summary:p}=l||{},h=T(u),m=T(d),g=T(c);return i?{...e,recipe:{name:i,categorizedIngredients:r,diets:o,fromAggregatedData:s,prepTime:h,cookTime:m,totalTime:g,servingSummary:p}}:null})),j=(0,c.Z)((e=>{const{rich_metadata:t}=e.pin;return t?{...e,richMetadata:t}:null})),A=(0,c.Z)((e=>{const{rich_summary:t}=e.pin;return t?{...e,richSummary:t}:null})),O=(0,c.Z)((e=>{const{title:t}=e.richMetadata;return t?{...e,title:t}:null})),R=(0,c.Z)((e=>{const{pin:t,inChangeTitlesExp:n}=e,{carousel_data:i,title:r,closeup_unified_title:o}=t;let s=n?o:r;if(i){const{carousel_slots:e=[],index:t}=i;e[t]&&e[t].title&&(s=e[t].title)}return s?{...e,title:s}:null})),D=(0,c.Z)((e=>{const{richMetadata:t}=e,{tutorial:n}=t,{name:i,description:r,from_aggregated_data:o}=n||{};return n&&i?{...e,tutorial:{name:i,description:r,fromAggregatedData:o}}:null}));var k=n(979593);const N=(0,c.Z)((e=>{const{videos:t}=e.pin,{id:n,video_list:i={}}=t||{},{V_720P:r,V_HLSV4:o,V_HLSV3_MOBILE:s}=i,a=(0,k.V)(o),l=(0,k.V)(s),c=(0,k.V)(r),d=c||a||l;return n&&d?{...e,video:{id:n,hasVideo:d,mp4:c||void 0,hls:a||void 0,hlsv3:l||void 0}}:null})),B=(0,c.Z)((e=>{const{video:t}=N((0,S.Z)(e))||{},{embed:n}=v((0,S.Z)(e))||{},i=!(!t||!(e=>{var t,n;const{hlsv3:i,hls:r}=e,o=i||r;return Boolean(!!o&&(null!==(t=o.width)&&void 0!==t?t:0)>(null!==(n=o.height)&&void 0!==n?n:0))})(t))||!(!n||!n.src||"pinstory"===n.subtype||"gif"===n.type);return{...e,isWideVideo:i}})),Z=e=>{var t,n,i,r;const{video:o={}}=N((0,S.Z)({pin:e}))||{},s=!!e.story_pin_data&&(null===(t=e.story_pin_data)||void 0===t||null===(n=t.pages)||void 0===n?void 0:n.length)>0&&(null===(i=e.story_pin_data)||void 0===i?void 0:i.pages[0])||{},a=!(null==s||null===(r=s.blocks)||void 0===r||!r.find((e=>!!e.video)));return!!o.hasVideo||a};function L({pin:e,boardCount:t}){return(!e.content_sensitivity||!e.content_sensitivity.is_sensitive_content)&&(void 0!==t&&t>=1)}var M=n(609304);const U=e=>!(e&&e.pinner&&e.pinner.blocked_by_me||e&&(0,M.Z)(e))},645871:(e,t,n)=>{n.d(t,{Z:()=>s});const i={row:0,section:0},r={row:-1,section:-1},o=()=>{};class s{constructor(e){this.index=Object.assign({},i),this.sections=e,this.updateCallback=o,this.selectItem=o}getIndex(){return this.index}isAtStart(){const{row:e,section:t}=this.index;return 0===e&&0===t}isAtEnd(){const{row:e,section:t}=this.index,n=this.sections[t]||[];return this.sections.length===t+1&&n.length===e+1}next(){if(this.isAtEnd())return;const{row:e,section:t}=this.index;e===r.row&&t===r.section?this.index=Object.assign({},i):this.sections[t].length>e+1?this.index.row+=1:(this.index.section+=1,this.index.row=0),this.updateCallback(!0)}prev(){if(this.isAtStart())return;const{row:e,section:t}=this.index;if(e===r.row&&t===r.section)this.index=Object.assign({},i);else if(e>0)this.index.row-=1;else{const e=this.index.section-1;this.index={section:e,row:this.sections[e].length-1}}this.updateCallback(!0)}select(){const{row:e,section:t}=this.index;this.selectItem((this.sections[t]||[])[e])}setInactive(){this.index=Object.assign({},r),this.updateCallback()}setSelectItem(e){this.selectItem=e}setUpdateCallback(e){this.updateCallback=e}updateIndex(e){this.index=e,this.updateCallback()}}},745252:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),r=n(955801),o=(n(645871),n(883119)),s=n(785893);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.Component{constructor(e){super(e),a(this,"setSelectedItemRef",(e=>{this.selectedItemRef=e})),a(this,"handleIndexUpdate",(e=>{const{indexManager:t}=this.props;this.setState({selectedIndex:t.getIndex(),selectionMovedByKeyboard:!!e})})),a(this,"handleSelectItem",(e=>()=>{const{disabled:t,onSelectItem:n}=this.props;t||n(e)})),a(this,"handleMouseEnter",(e=>()=>{const{disabled:t,indexManager:n}=this.props;t||n.updateIndex(e)})),a(this,"handleMouseLeave",(()=>{const{disabled:e,indexManager:t}=this.props;e||t.setInactive()})),a(this,"renderItems",((e,t)=>{const{renderItem:n}=this.props,{selectedIndex:i}=this.state,{row:r,section:a}=i||{},{customProps:l={},items:c,renderItem:d}=e,{isDisabled:u=(e=>!1)}=l,p=t===a,h=d||n;return h&&c.map(((e,n)=>{const i=u(e),a={section:t,row:n},c=p&&n===r;return(0,s.jsx)(o.xu,{"data-test-id":"board-selection",ref:!i&&c?this.setSelectedItemRef:null,children:i?h({item:e,hovered:c,sectionProps:l}):(0,s.jsx)(o.iP,{fullWidth:!1,onMouseEnter:this.handleMouseEnter(a),onMouseLeave:this.handleMouseLeave,onTap:this.handleSelectItem(e),rounding:2,children:h({item:e,hovered:c,sectionProps:l})})},n)}))})),a(this,"renderSections",(()=>{const{renderSectionHeader:e,sections:t}=this.props;return t.map(((t,n)=>(0,s.jsxs)(o.xu,{children:[e&&e(t,n),this.renderItems(t,n)]},n)))}));const{indexManager:t}=this.props;this.state={selectedIndex:t.getIndex(),selectionMovedByKeyboard:!1},t.setUpdateCallback(this.handleIndexUpdate)}componentDidUpdate(e){const{containerRef:t}=this;if(this.selectedItemRef&&this.state.selectionMovedByKeyboard&&t){const e=this.selectedItemRef;if(!(e instanceof HTMLElement))return;const n=e.getBoundingClientRect(),i=n.top,r=n.bottom,o=t.getBoundingClientRect(),s=o.top;r>=o.bottom?e.scrollIntoView(!1):i<=s&&e.scrollIntoView(!0)}e.indexManager!==this.props.indexManager&&this.props.indexManager.setUpdateCallback(this.handleIndexUpdate)}render(){const{grow:e=!1,maxHeight:t,fetchMore:n}=this.props;return(0,s.jsx)(r.Z,{fetchMore:n,children:({setRef:n,onScroll:i})=>(0,s.jsx)(o.xu,{flex:e?"grow":void 0,height:e?"100%":void 0,maxHeight:t,onScroll:i,overflow:"auto",ref:e=>{this.containerRef=e,n(e)},children:this.renderSections()})})}}},729787:(e,t,n)=>{n.d(t,{W:()=>s,Z:()=>a});var i=n(883119),r=n(785893);const o={__style:{margin:"0 10px",borderRight:"3px solid transparent",borderTop:"3px solid #fff",animation:"spin .8s linear infinite"}};function s(){return(0,r.jsx)(i.xu,{alignItems:"center",color:"red",display:"flex",height:"100%",justifyContent:"center",position:"absolute",width:"100%",rounding:8,children:(0,r.jsx)(i.xu,{dangerouslySetInlineStyle:o,display:"inlineBlock",height:18,position:"relative",rounding:"circle",width:18})})}function a({disabled:e,name:t,onClick:n,size:o,submitting:a,text:l}){return(0,r.jsxs)(i.xu,{display:"flex",position:"relative",children:[a&&(0,r.jsx)(s,{}),(0,r.jsx)(i.zx,{color:"red",disabled:e||a,name:t,onClick:n,size:o,type:"submit",text:l})]})}},320145:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),r=n(234070),o=n(883119),s=n(785893);const a=function({badgeSize:e,badgeSpacing:t,fullName:n,identityIsVerified:a,isVerifiedMerchant:l,truncate:c=!1}){const d=n.split(" "),u=d.slice(0,d.length-1).join(" "),p=" ".concat(d[d.length-1]);return c?(0,s.jsxs)(o.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,s.jsx)(o.xv,{lineClamp:1,weight:"bold",children:n}),(0,s.jsx)(o.xu,{flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},paddingX:1,children:(0,s.jsx)(r.Z,{size:e,hasVerifiedIdentity:a,isVerifiedMerchant:l})})]}):(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)("span",{children:u}),(0,s.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[p," ",(0,s.jsx)(o.xu,{display:"inlineBlock",flex:"none",position:"relative",dangerouslySetInlineStyle:{__style:{top:t}},children:(0,s.jsx)(r.Z,{size:e,hasVerifiedIdentity:a,isVerifiedMerchant:l})})]})]})}},234070:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),r=n(455006),o=n(180307),s=n(174523),a=n(883119),l=n(785893);const c={xs:12,sm:16,md:20,lg:24};function d({hasVerifiedIdentity:e,iconOnly:t,isVerifiedMerchant:n,showText:d,size:u}){const p=(0,s.ZP)(),h=(0,l.jsxs)(a.kC,{alignItems:"center",justifyContent:"start",children:[(0,l.jsx)(a.JO,{accessibilityLabel:p._("Merchant verification badge icon","merchantVerification.badge.icon","Badge indicating that a merchant or user is verified"),color:"blue",icon:"workflow-status-ok",inline:!0,size:c[u]}),d&&(0,l.jsx)(a.xu,{marginStart:2,children:(0,l.jsx)(a.xv,{color:"blue",inline:!0,weight:"bold",children:p._("Verified merchant","creator.header.verifiedMerchant","this merchant is a verified merchant")})})]});return(0,l.jsxs)(i.Fragment,{children:[n&&!t&&(0,l.jsx)(a.u,{link:(0,l.jsx)(r.Z,{href:o.Z.settings.HELP_SHOPPING_WITH_PINTEREST,target:"blank",children:(0,l.jsx)(a.xv,{color:"white",size:"sm",weight:"bold",children:p._("Learn more","verifiedBadge.tooltip.link","Learn more about Pinterest's Merchant Guidelines")})}),text:p._("This retailer meets Pinterest's Merchant Guidelines","merchantVerification.badge.tooltip","Badge indicating that a merchant or user is verified"),children:h}),n&&t&&h,e&&!n&&(0,l.jsx)(a.JO,{accessibilityLabel:p._("Domain verification icon","domainVerification.badge.icon","Badge indicating that a merchant or user is verified"),color:"red",icon:"check-circle",size:c[u]})]})}},325946:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(21755),r=n(585967),o=n(785893);function s({activate:e,children:t,isEligible:n,name:s}){return(0,o.jsx)(r.LC,{children:r=>(0,o.jsx)(i.Z,{activate:e,activateExperiment:e=>r.experiments.v2ActivateExperiment(e)||"",group:r.experiments.v2GetGroup(s)||"",isEligible:n,name:s,children:t})})}},233949:(e,t,n)=>{n.d(t,{KS:()=>i.Z});var i=n(325946)},527082:(e,t,n)=>{function i({appliedProductFilters:e,autoCorrectionDisabled:t,filters:n,query:i,scope:r,selectedPinImgSig:o,user:s}){const a=[r,n,e,s,o,i].map((e=>null!=e?e:"")).join(":");return t?"auto-correction-disabled:"+a:a}function r({autoCorrectionDisabled:e=!1,appliedProductFilters:t=null,bubbleId:n=null,filters:i=null,query:r=null,rs:o="direct_navigation",scope:s="pins",selectedPinImgSig:a=null,sourceId:l=null,user:c}){return{article:n,appliedProductFilters:t,auto_correction_disabled:e,corpus:a?"personalize":null,customized_rerank_type:a?"manas_graph_sage_only_wand_rewrite":null,filters:i,query:r,query_pin_sigs:a,redux_normalize_feed:!0,rs:o,scope:s,source_id:l,user:c}}n.d(t,{Tb:()=>i,dM:()=>r,Ht:()=>o});function o(e){const{autoCorrectionDisabled:t,appliedProductFilters:n,filters:i,selectedPinImgSig:o,query:s,rs:a,scope:l,bubbleId:c,user:d}=e;return{name:"BaseSearchResource",options:r({autoCorrectionDisabled:!!t,appliedProductFilters:n,filters:i,query:s,rs:a,scope:l,selectedPinImgSig:o,bubbleId:c,user:d})}}},317461:(e,t,n)=>{n.d(t,{GY:()=>a,PY:()=>l,r$:()=>c,LM:()=>d});var i=n(730762),r=n(281996),o=n(549135);const s=["search_articles_story","search_pinner_authority_hero","structured_search_bubble","style_pivot","user_style_story_v2","story_pins_search_upsell"];function a({query:e,scope:t}){return`${e}-${t}`}function l({category:e,domains:t,maxPrice:n,minPrice:i}){return[e,t,n,i].map((e=>null!=e?e:"")).join("-")}function c({query:e,rs:t,scope:n}){const s=i.Z.getInstance().getPreviousViewFromContext();if(!(!s.view_type&&!s.view_parameter)){const{view_type:i,view_parameter:a}=s;(0,o.j)((0,r.wF)(n),{view:i,viewParameter:a,query:e,rs:t||"Unknown"})}"hashtag_closeup"===t?(0,o.j)(101,{component:13065,element:10273,view:142}):"hashtag_pinrep"===t&&(0,o.j)(101,{component:0,element:10349,view:142})}const d=(e=[])=>{let t=!0;return e.reduce(((e,n)=>{var i;return t&&n.story_type&&s.includes(n.story_type)&&0===(null===(i=n.display_options)||void 0===i?void 0:i.num_columns_requested)?e.searchFullWidthStories.push(n):(t=!1,e.filteredResults.push(n)),e}),{searchFullWidthStories:[],filteredResults:[]})}},544260:(e,t,n)=>{n.d(t,{Z:()=>d});var i=n(667294),r=n(551687),o=n(580634),s=n(785893);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const l=()=>null;class c extends i.Component{constructor(...e){super(...e),a(this,"view",(e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:i,targeting:r}=this.props;r?i.viewExperience(t,n,!1,r):i.viewExperience(t,n)})),a(this,"complete",(e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:i,preventRemoval:r,targeting:o}=this.props;o?i.completeExperience(t,n,r,!1,{},!1,o):r?i.completeExperience(t,n,r):i.completeExperience(t,n)})),a(this,"dismiss",(e=>{const{placement_id:t,experience_id:n}=e,{experienceClient:i,preventRemoval:r,targeting:o}=this.props;o?i.dismissExperience(t,n,r,!1,o):r?i.dismissExperience(t,n,r):i.dismissExperience(t,n)}))}componentDidMount(){if(this.props.disableAutoView)return;const e=this.getExperience(this.props);e&&this.shouldRenderExperience(e)&&this.view(e)}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=this.getExperience(e),n=this.getExperience(this.props);n&&this.shouldRenderExperience(n)&&(t&&t.experience_id===n.experience_id||this.view(n))}getExperience(e){return e.experienceClient.experienceForPlacement}shouldRenderExperience(e){if(e){const{type:t,experience_id:n}=e;if(this.props.experienceIds&&this.props.experienceIds.includes(n))return!0;if(!this.props.experienceIds){if(this.props.type&&this.props.type===t)return!0;if(this.props.transitionType&&this.props.transitionType===t)return!0;if(this.props.predicate&&this.props.predicate(e))return!0}}return!1}render(){const{children:e,disableAutoView:t}=this.props,n=this.getExperience(this.props);if(n&&this.shouldRenderExperience(n)&&e){const{placement_id:i,experience_id:o}=n;return(0,s.jsx)(r.Z,{name:`Experience(${i}:${o})`,children:"function"==typeof e?e({...n,complete:()=>this.complete(n),dismiss:()=>this.dismiss(n),...t?{view:()=>this.view(n)}:{}}):e})}return(0,s.jsx)(l,{})}}const d=(0,o.Z)(c)},390764:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),r=n(544260),o=n(514319),s=n(883119),a=n(785893);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.PureComponent{constructor(...e){super(...e),l(this,"onScroll",(()=>{const{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout((()=>{e(),this.dismissed=!0,this.timer=void 0}),3e3))})),l(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){const{anchor:e,text:t,thumbnails:n,idealDirection:i}=this.props,r=n.slice(-3);return(0,a.jsx)(s.J2,{anchor:e,color:"white",idealDirection:i,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,a.jsxs)(s.xu,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[(0,a.jsx)(s.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,a.jsx)(s.xv,{color:"darkGray",weight:"bold",children:t})}),(0,a.jsx)(s.xu,{display:"flex",marginEnd:-2,paddingX:2,children:r.map((e=>(0,a.jsx)(s.xu,{height:60,width:50,paddingX:1,children:(0,a.jsx)(s.zd,{rounding:2,height:60,children:(0,a.jsx)(s.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e)))})]})})}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.Component{constructor(...e){super(...e),d(this,"state",{paused:!1}),d(this,"handlePulsarClick",((e,t)=>{e?this.setState({paused:!0}):t()}))}componentWillUnmount(){clearTimeout(this.timer)}setDefaultPulsarTooltip(e){const t=e=>!(null==e);e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}getText(e,t,n){return t&&e.text.replace("{boardName}",t),n?n(e):e.text}render(){const{anchor:e,customWrapper:t,experienceIds:n,boardTextOverride:l,flyoutSize:d,fontSize:u,idealDirection:p,useMasonryFlyout:h,noClickToDismiss:m,onClickComplete:g,onClickDismiss:f,placementId:_,positionRelativeToAnchor:x,shouldTimeoutDismiss:b,showCaret:v,textAlign:y,textOverflow:w,textOverrideFn:E,textWeight:S,customizedComplete:I,pulsarZIndex:C}=this.props,T=t||(({children:e})=>h?(0,a.jsx)(s.mh,{children:e}):e),P="blue";return(0,a.jsx)(r.Z,{experienceIds:n,placementId:_,type:8,children:({complete:t,dismiss:n,display_data:r})=>(this.setDefaultPulsarTooltip(r),r.has_pulsar||r.has_tooltip?(b&&r.disappearTime&&r.disappearTime>0&&(this.timer=setTimeout((()=>(n(),null)),r.disappearTime)),(0,a.jsxs)(i.Fragment,{children:[r.has_pulsar&&(0,a.jsx)(o.Z,{anchor:e,onTouch:()=>this.handlePulsarClick(r.has_tooltip,t),paused:this.state.paused,zIndex:C&&C.index()}),r.has_tooltip&&(!r.has_pulsar||this.state.paused)&&(r.thumbnail_urls?(0,a.jsx)(c,{anchor:e,dismiss:n,idealDirection:p||"down",text:r.text,thumbnails:r.thumbnail_urls}):(0,a.jsx)(T,{children:(0,a.jsx)(s.J2,{anchor:e,color:P,idealDirection:p||"down",onDismiss:m?()=>{}:n,positionRelativeToAnchor:!h&&x,shouldFocus:!1,showCaret:v,size:d,children:(0,a.jsxs)(s.xu,{column:12,padding:3,children:[(0,a.jsx)(s.xv,{align:"right"===y?"end":y,color:"white",overflow:w,size:u,weight:S||"bold",children:this.getText(r,l,E)}),r.sub_text&&(0,a.jsx)(s.xu,{paddingY:2,children:(0,a.jsx)(s.xv,{color:"white",size:u,children:r.sub_text})}),r.complete_button_cta_url&&(0,a.jsx)(s.xu,{children:(0,a.jsx)(s.xv,{align:"right"===y?"end":y,color:"white",size:u,children:(0,a.jsx)(s.rU,{href:r.complete_button_cta_url,target:"blank",onClick:({dangerouslyDisableOnNavigation:e})=>e(),children:r.complete_button_text})})}),!r.complete_button_cta_url&&(r.dismiss_button_text||r.complete_button_text)&&(0,a.jsxs)(s.xu,{display:"flex",alignItems:"center",marginTop:2,children:[r.dismiss_button_text&&(0,a.jsx)(s.xu,{marginEnd:1,column:6,children:(0,a.jsx)(s.zx,{fullWidth:!0,color:P,onClick:()=>{f&&f(),n()},size:"md",text:r.dismiss_button_text})}),r.complete_button_text&&(0,a.jsx)(s.xu,{column:r.dismiss_button_text?6:12,children:I?(0,a.jsx)(s.iP,{fullHeight:!0,onTap:()=>{t(),g&&g()},rounding:2,children:(0,a.jsx)(s.xu,{display:"flex",color:"white",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:(0,a.jsx)(s.xv,{color:"blue",weight:"bold",children:r.complete_button_text})})}):(0,a.jsx)(s.zx,{fullWidth:!0,color:"white",size:"md",text:r.complete_button_text,onClick:()=>{t(),g&&g()}})})]})]})})}))]})):(t(),null))})}}d(u,"defaultProps",{fontSize:"lg",positionRelativeToAnchor:!0})},314463:(e,t,n)=>{n.d(t,{Z:()=>x});var i=n(667294),r=n(883119),o=n(785893);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const a=["#0074e8","#0FA573","#B469EB","#F13535","#E2780D"],l=(e,t)=>Math.random()*((e||1)-(t||0))+(t||0),c=e=>e*(Math.PI/180);class d extends i.PureComponent{constructor(...e){super(...e),s(this,"animationTimer",null),s(this,"canvasRemovalTimer",null),s(this,"containerRef",(0,i.createRef)()),s(this,"buildCanvas",(()=>{if(!this.containerRef.current)return null;const{height:e,width:t}=this.containerRef.current.getBoundingClientRect(),n=2.5*e,i=document.createElement("canvas");return i.style.position="absolute",i.style.left=0-(n-t)/2+"px",i.style.top=0-(n-e)/2+"px",i.style.pointerEvents="none",i.style.width=`${n}px`,i.style.height=`${n}px`,i.style.overflow="visible",i.width=n,i.height=n,i})),s(this,"explode",(()=>{const e=this.buildCanvas(),t=this.containerRef.current;if(!e||!t)return;const n=e.getContext("2d");t.prepend(e);const i=Array.from(Array(120)).map((()=>({x:e.width/2,y:e.height/2,radius:Math.round(l(10,30)),color:a[Math.floor(Math.random()*a.length)],degree:Number(l(0,360).toFixed(1)),speed:Math.round(l(0,25)),friction:.9,opacity:Number(l(0,.5).toFixed(1)),yVel:0,gravity:.04}))),r=(e,t,n,i)=>{window.requestAnimationFrame((()=>r(e,t,n,i))),t.clearRect(0,0,n,i),e.forEach(((e,n)=>{e.x+=e.speed*Math.cos(c(e.degree)),e.y+=e.speed*Math.sin(c(e.degree)),e.opacity-=.01,e.speed*=e.friction,e.radius*=e.friction,e.yVel+=e.gravity,e.y+=e.yVel,e.opacity<0||e.radius<0||(t.beginPath(),t.globalAlpha=e.opacity,t.fillStyle=e.color,t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.fill())}))};r(i,n,e.width,e.height),this.canvasRemovalTimer=setTimeout((()=>{t.removeChild(e)}),(this.props.delay||0)+800)}))}componentDidUpdate(e){const{delay:t,startAnimation:n}=this.props,{startAnimation:i}=e;n&&i!==n&&(this.animationTimer=setTimeout(this.explode,t))}componentWillUnmount(){this.animationTimer&&clearTimeout(this.animationTimer),this.canvasRemovalTimer&&clearTimeout(this.canvasRemovalTimer)}render(){return(0,o.jsx)(r.xu,{ref:this.containerRef,position:"relative",children:this.props.children})}}s(d,"defaultProps",{delay:0});const u=d;var p=n(946753),h=n(174523);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const g=e=>({opacity:e?1:0,WebkitTransition:"opacity .5s ease-in-out .75s",transition:"opacity .5s ease-in-out .75s",overflow:"visible"}),f=e=>({opacity:e?1:0,WebkitTransform:e?"translateY(0)":"translateY(20%)",transform:e?"translateY(0)":"translateY(20%)",WebkitTransition:"all .5s ease-in-out .75s",transition:"all .5s ease-in-out .75s",textAlign:"center",marginTop:"24px"});class _ extends i.PureComponent{constructor(...e){super(...e),m(this,"state",{isInitialized:!1}),m(this,"containerRef",(0,i.createRef)()),m(this,"pinDestinationRef",(0,i.createRef)())}componentDidMount(){this.requestAnimationFrameId=window.requestAnimationFrame((()=>{this.setState({isInitialized:!0})}))}componentWillUnmount(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}componentDidUpdate(e,t){const{isInitialized:n}=this.state,{onDismiss:i}=this.props;n&&i&&!this.dismissTimeout&&(this.dismissTimeout=setTimeout(i,2600))}render(){const{firstRepin:e,pin:t,pinImageRef:n,selectedBoardName:s}=this.props,{description:a="",images:l}=t,{height:c=0,width:d=0,url:h=""}=(null==l?void 0:l["236x"])||{},{isInitialized:m}=this.state,{mask:_,imageContainer:x}=((e,t,n,i)=>{var r,o,s;let a,l,c={};const d=null===(r=n.current)||void 0===r?void 0:r.getBoundingClientRect(),u=null===(o=t.current)||void 0===o?void 0:o.getBoundingClientRect(),p=null===(s=i.current)||void 0===s?void 0:s.getBoundingClientRect();if(u&&d&&p){c={left:d.left-u.left,top:d.top-u.top};const e={x:p.left-d.left,y:p.top-d.top},t={x:(p.width-d.width)/2,y:(p.height-d.height)/2};a=`translate(${e.x}px, ${e.y}px)`,l=`translate(${t.x}px, ${t.y}px)`}return{mask:{position:"absolute",left:c.left,top:c.top,width:e?null==p?void 0:p.width:null==d?void 0:d.width,height:e?null==p?void 0:p.height:null==d?void 0:d.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?a:"none",transform:e?a:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s",borderRadius:e?"8px 0px 0px 8px":"8px",zIndex:2},imageContainer:{width:null==d?void 0:d.width,height:null==d?void 0:d.height,WebkitTransformOrigin:"left top",transformOrigin:"left top",WebkitTransform:e?l:"none",transform:e?l:"none",WebkitTransition:"all .5s ease-in-out .25s",transition:"all .5s ease-in-out .25s"}}})(m,this.containerRef,n,this.pinDestinationRef);return(0,o.jsx)(i.Fragment,{children:(0,o.jsxs)(r.xu,{position:"absolute",top:!0,bottom:!0,right:!0,left:!0,ref:this.containerRef,children:[(0,o.jsx)(r.xu,{maxHeight:335,overflow:"hidden",dangerouslySetInlineStyle:{__style:_},children:(0,o.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:x},children:(0,o.jsx)(r.Ee,{alt:null!=a?a:"",src:h||"",naturalHeight:c||1,naturalWidth:d||1})})}),(0,o.jsx)(r.xu,{color:"white",position:"absolute",top:!0,bottom:!0,right:!0,left:!0,dangerouslySetInlineStyle:{__style:(b=m,{pointerEvents:"none",opacity:b?1:0,WebkitTransition:"opacity .3s ease-in-out",transition:"opacity .3s ease-in-out",zIndex:1})},children:(0,o.jsxs)(r.xu,{display:"flex",justifyContent:"center",alignItems:"center",direction:"column",height:"100%",dangerouslySetInlineStyle:{__style:g(m)},children:[(0,o.jsx)(u,{delay:1250,startAnimation:m,children:(0,o.jsx)(r.zd,{rounding:2,width:270,height:180,children:(0,o.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",height:"100%",width:"100%",children:[(0,o.jsx)(r.xu,{ref:this.pinDestinationRef,color:"transparent",marginEnd:1,flex:"grow",height:"100%"}),(0,o.jsxs)(r.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",width:80,children:[(0,o.jsx)(r.xu,{color:"lightGray",flex:"grow",marginBottom:1}),(0,o.jsx)(r.xu,{color:"lightGray",flex:"grow"})]})]})})}),(0,o.jsx)(r.xu,{paddingX:2,dangerouslySetInlineStyle:{__style:f(m)},children:(0,o.jsx)(r.X6,{align:"center",children:e?(0,p.nk)(this.props.i18n._("You saved your first Pin to {{ selectedBoardName }}!","First board create confirmation message","First board create confirmation message"),{selectedBoardName:null!=s?s:""}):(0,p.nk)(this.props.i18n._("You saved this Pin to {{ selectedBoardName }}!","Board create confirmation message","Board create confirmation message"),{selectedBoardName:null!=s?s:""})})})]})})]})});var b}}function x(e){const t=(0,h.ZP)();return(0,o.jsx)(_,{...e,i18n:t})}m(_,"defaultProps",{firstRepin:!1})},484694:(e,t,n)=>{n.d(t,{N:()=>k,Z:()=>N});var i=n(667294),r=n(574037),o=n(376030),s=n(883119),a=n(785893);const l=37.8,c=277.1569,d=()=>(0,a.jsxs)("svg",{width:440,height:316,style:{opacity:1,overflow:"visible",transform:"scale(.95)"},viewBox:"0 0 440 316",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,a.jsxs)("defs",{children:[(0,a.jsx)("path",{d:"M15.9508 11.963c-2.2026 0-3.9877 1.7852-3.9877 3.9878 0 2.2025 1.7851 3.9877 3.9877 3.9877 2.2025 0 3.9877-1.7852 3.9877-3.9877 0-2.2026-1.7852-3.9877-3.9877-3.9877m-11.9631 0c2.2025 0 3.9877 1.7851 3.9877 3.9877 0 2.2025-1.7852 3.9877-3.9877 3.9877C1.7852 19.9385 0 18.1533 0 15.9508c0-2.2026 1.7852-3.9877 3.9877-3.9877zm23.9261 0c2.2026 0 3.9877 1.7851 3.9877 3.9877 0 2.2025-1.7851 3.9877-3.9877 3.9877-2.2025 0-3.9876-1.7852-3.9876-3.9877 0-2.2026 1.7851-3.9877 3.9876-3.9877z",id:"a"}),(0,a.jsx)("path",{d:"M8.4456.6691l1.3182 4.3182h4.3945c.8974 0 1.2824 1.153.569 1.705L11.133 9.4709l1.3475 4.4165c.2699.8827-.7398 1.5963-1.4654 1.0349l-3.466-2.6794-3.4659 2.6794c-.7266.5614-1.7363-.1522-1.4664-1.035L3.9653 9.471.37 6.6923c-.7124-.552-.3274-1.705.57-1.705h4.3935L6.6527.6691c.2727-.8921 1.5202-.8921 1.7929 0",id:"b"}),(0,a.jsx)("path",{d:"M8.0882 12.9614c-2.6756 0-4.853-2.1808-4.853-4.8606 0-2.6797 2.1774-4.8605 4.853-4.8605 2.6756 0 4.853 2.1808 4.853 4.8605 0 2.6798-2.1774 4.8606-4.853 4.8606m10.6126 2.3314l-3.444-3.4486c.5848-1.1203.9197-2.3921.9197-3.7434C16.1765 3.6268 12.5554 0 8.0882 0 3.6211 0 0 3.6267 0 8.1008s3.6211 8.1009 8.0882 8.1009c1.3492 0 2.619-.3354 3.7376-.921L15.269 18.73c.948.9494 2.4839.9494 3.4318 0 .948-.9486.948-2.4878 0-3.4372",id:"c"}),(0,a.jsx)("path",{d:"M0 39.5562c0 16.8872 10.5846 31.3054 25.4808 36.9784-.3626-3.0887-.7483-8.1815.0824-11.7548.7153-3.0722 4.6182-19.5737 4.6182-19.5737s-1.1768-2.3569-1.1768-5.8477c0-5.472 3.171-9.5594 7.1234-9.5594 3.3622 0 4.984 2.5217 4.984 5.5444 0 3.3788-2.1525 8.4288-3.2633 13.113-.9263 3.9193 1.9679 7.1167 5.8312 7.1167 6.9982 0 12.381-7.3805 12.381-18.0343 0-9.4308-6.7772-16.0202-16.452-16.0202-11.201 0-17.7772 8.4023-17.7772 17.0882 0 3.3854 1.302 7.0114 2.9305 8.9859.3197.3922.3692.7318.2736 1.1306-.3 1.246-.9659 3.9194-1.0944 4.4666-.1747.7186-.5703.8735-1.3186.524-4.9181-2.2876-7.9903-9.477-7.9903-15.2521 0-12.424 9.022-23.8293 26.0148-23.8293 13.66 0 24.2776 9.7341 24.2776 22.7415 0 13.571-8.554 24.4952-20.434 24.4952-3.992 0-7.74-2.0767-9.0255-4.526 0 0-1.9745 7.5223-2.4525 9.3617-.9295 3.5732-3.5073 8.0958-5.106 10.6637 3.6853 1.134 7.5948 1.7437 11.6493 1.7437 21.8449 0 39.5561-17.7112 39.5561-39.5561C79.1123 17.7112 61.4011 0 39.5562 0 17.7112 0 0 17.7113 0 39.5562",id:"d"})]}),(0,a.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,a.jsx)("path",{d:"M15.12 33.6034c-7.6878 0-13.92 6.2322-13.92 13.92V300.88c0 7.6878 6.2322 13.92 13.92 13.92h409.76c7.6878 0 13.92-6.2322 13.92-13.92V47.5234c0-7.6878-6.2322-13.92-13.92-13.92H15.12z",stroke:"#DEDEDE",strokeWidth:"2.4",fill:"#FFF"}),(0,a.jsxs)("g",{transform:"translate(0 32.441)",children:[(0,a.jsx)("path",{d:"M15.12 0h409.76C433.2305 0 440 6.7695 440 15.12v48.6067H0V15.12C0 6.7695 6.7695 0 15.12 0z",fill:"#DEDEDE"}),(0,a.jsx)("rect",{fill:"#FFF",x:"15.5858",y:"12.0152",width:"218.9216",height:"38.8841",rx:"19.442"}),(0,a.jsx)("use",{fill:"#FFF",xlinkHref:"#a",transform:"translate(384.8501 15.6198)"}),(0,a.jsx)("use",{fill:"#DEDEDE",xlinkHref:"#b",transform:"translate(206.2125 24.0304)"}),(0,a.jsx)("use",{fill:"#DEDEDE",xlinkHref:"#c",transform:"translate(26.376 21.6274)"})]}),(0,a.jsxs)("g",{fill:"#DEDEDE",children:[(0,a.jsx)("rect",{id:"content-morph",x:31,y:139,width:"230.7843",height:"126.3732"}),(0,a.jsx)("rect",{className:"content-bar",x:"281.4706",y:"139.3346",width:"126.1765",height:"14.0415"}),(0,a.jsx)("rect",{className:"content-bar",x:"281.4706",y:"164.1772",width:"85.1961",height:"14.0415"})]}),(0,a.jsx)("ellipse",{fill:"#FFF",fillOpacity:"0.49",cx:38,cy:38,rx:38,ry:37.8,id:"pinterest-logo-pop-bg"}),(0,a.jsxs)("g",{id:"pinterest-logo",transform:"translate(277.1569) scale(1)",children:[(0,a.jsx)("ellipse",{fill:"#FFF",cx:"37.8",cy:"37.8479",rx:l,ry:l}),(0,a.jsxs)("g",{transform:"translate(0 .0493)",children:[(0,a.jsx)("mask",{id:"e",fill:"#fff",children:(0,a.jsx)("use",{xlinkHref:"#d"})}),(0,a.jsx)("g",{mask:"url(#e)",fill:"#E60023",children:(0,a.jsx)("rect",{width:"80.1649",height:"80.1649"})})]})]})]})]});const u=(e,t,n)=>e-t/2*(n-1),p=30,h=u(c,75.6,1.4),m=u(0,75.6,1.4),g=u(279,76,2.1),f=u(2,75.6,2.1),_={targets:".simplePopExtensionContent",opacity:[0,1],duration:500,easing:"easeInOutQuad"},x={targets:["#content-morph",".content-bar"],opacity:[0,1]},b={targets:"#content-morph",width:p,height:p,x:220,y:203,rx:20},v={targets:".content-bar",width:0,height:0,x:215,y:218},y={targets:"#content-morph",x:301,y:24},w={targets:"#pinterest-logo",translateX:[c,h],translateY:m,scale:1.4,direction:"alternate"},E={targets:"#pinterest-logo",translateX:[h,c],translateY:0,scale:1,direction:"alternate"},S={targets:"#pinterest-logo-pop-bg",translateX:[279,g],translateY:[2,f],scale:2.1,direction:"alternate"},I={targets:"#pinterest-logo-pop-bg",translateX:[g,279],translateY:[f,2],scale:1};class C extends i.PureComponent{componentDidMount(){const{isLooping:e}=this.props;window.requestAnimationFrame((()=>{const t=(e=>{const t=500+(e?0:750),n=t+300,i=n,r=n+280,s=i+210,a=o.Z.timeline({easing:"easeInOutQuad",loop:e,direction:"normal",autoplay:!1});return a.add({...x,duration:500}),e||a.add({duration:750}),a.add({...b,duration:300},t).add({...v,duration:300},t).add({...y,duration:300},n).add({...w,duration:280},n).add({...S,duration:210},i).add({...E,duration:190,easing:"cubicBezier(0, 0, 0.23, 0.8)"},r).add({...I,duration:300},s).add({duration:1400}),a})(e);(0,o.Z)(_).finished.then((()=>t.play()))}))}render(){return(0,a.jsx)(s.xu,{display:"flex",flex:"grow",justifyContent:"center",alignItems:"center",marginTop:Math.floor(-8.11025),children:(0,a.jsx)(d,{})})}}var T,P,j;j={isLooping:!1},(P="defaultProps")in(T=C)?Object.defineProperty(T,P,{value:j,enumerable:!0,configurable:!0,writable:!0}):T[P]=j;const A=C;var O=n(174523),R=n(549135);function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const k=({header:e,installClick:t,isExtensionInstalled:n=!1,isFromPinBuilder:r,skipClick:o,subheader:l})=>{const c=(0,O.ZP)(),d=c._("Get the Pinterest browser button","extensionUpsell.modal.defaultHeader","Heading for downloading Pinterest chrome extension app"),u=c._("Save creative ideas from around the web","extensionUpsell.modal.defaultSubheader","Subheader text for downloading Pinterest chrome extension app"),p=c._("With the Pinterest Save Button you can save your favorite ideas without ever leaving the page you're on.","extensionUpsell.modal.defaultHeader","Heading for downloading Pinterest chrome extension app"),h=c._("Save your favorite ideas with just one click","extensionUpsell.modal.defaultSubheader","Subheader text for downloading Pinterest chrome extension app");return r?(0,a.jsxs)(s.xu,{children:[(0,a.jsx)(s.Ee,{src:"https://i.pinimg.com/originals/d4/d9/89/d4d9897b5d404678fa38c9cad904fc85.png",alt:c._("Pinterest Browser Extension","extensionUpsell.graphicAltText","Alt text for Browser Extension upsell graphic from PinBuilder"),naturalHeight:258,naturalWidth:540,children:(0,a.jsx)(s.xu,{display:"block",height:40,marginEnd:4,marginStart:4,marginTop:4,position:"absolute",right:!0,top:!0,width:40,children:(0,a.jsx)(s.hU,{accessibilityLabel:c._("Close","extensionUpsell.cancelLabel","Accesibility label to close modal for Browser Extension upsell"),icon:"cancel",iconColor:"darkGray",onClick:o})})}),(0,a.jsxs)(s.xu,{display:"flex",direction:"column",margin:"auto",width:360,children:[(0,a.jsx)(s.xu,{marginTop:8,children:(0,a.jsx)(s.X6,{size:"md",align:"center",children:e||h})}),(0,a.jsx)(s.xu,{marginTop:4,children:(0,a.jsx)(s.xv,{align:"center",children:l||p})}),(0,a.jsx)(s.xu,{display:"flex",direction:"row",marginTop:8,marginBottom:8,children:n?(0,a.jsx)(s.zx,{accessibilityLabel:c._("Got it","extensionUpsell.button.gotItLabel","Accesibility label to dismiss modal for users with extension installed"),color:"red",onClick:o,text:c._("Got it","extensionUpsell.button.gotIt","Got it message to dismiss modal for users with extension installed"),size:"lg"}):(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(s.xu,{"data-test-id":"cancel-extension-upsell",display:"inlineBlock",marginStart:12,children:(0,a.jsx)(s.zx,{fullWidth:!0,accessibilityLabel:c._("Maybe Later","extensionUpsell.button.maybeLaterLabel","Accesibility label for dismissing the install for Pinterest browser extension"),onClick:o,text:c._("Maybe Later","extensionUpsell.button.maybeLaterLabel","Dismiss button text for install browser extension upsell"),size:"lg"})}),(0,a.jsx)(s.xu,{display:"inlineBlock",marginStart:2,children:(0,a.jsx)(s.zx,{accessibilityLabel:c._("Get the Pinterest browser extension","extensionUpsell.button.getItNowLabel","Accesibility label for the Pinterest browser extension"),color:"red",onClick:t,text:c._("Get it now","extensionUpsell.button.getItNow","Get the Pinterest browser extension"),size:"lg"})})]})})]})]}):(0,a.jsxs)(s.xu,{padding:8,children:[(0,a.jsx)(s.X6,{align:"center",size:"md",children:e||u}),(0,a.jsx)(s.xu,{marginTop:4,children:(0,a.jsx)(s.xv,{align:"center",children:l||d})}),(0,a.jsx)(s.xu,{display:"flex",flex:"grow",marginTop:8,paddingY:8,children:(0,a.jsx)(A,{isLooping:!0})}),(0,a.jsx)(s.kC,{alignItems:"stretch",justifyContent:"end",children:n?(0,a.jsx)(s.zx,{accessibilityLabel:c._("Got it","extensionUpsell.button.gotItLabel","Accesibility label to dismiss modal for users with extension installed"),color:"red",onClick:o,text:c._("Got it","extensionUpsell.button.gotIt","Got it message to dismiss modal for users with extension installed"),size:"lg"}):(0,a.jsxs)(i.Fragment,{children:[(0,a.jsx)(s.xu,{"data-test-id":"cancel-extension-upsell",display:"inlineBlock",marginEnd:2,children:(0,a.jsx)(s.zx,{fullWidth:!0,accessibilityLabel:c._("Cancel","extensionUpsell.button.cancelLabel","Accesibility label for cancel install Pinterest browser extension"),onClick:o,text:c._("Cancel","extensionUpsell.button.cancel","Cancel button text for install browser extension upsell"),size:"lg"})}),(0,a.jsx)(s.zx,{accessibilityLabel:c._("Get the Pinterest browser extension","extensionUpsell.button.getItNowLabel","Accesibility label for the Pinterest browser extension"),color:"red",onClick:t,text:c._("Get it now","extensionUpsell.button.getItNow","Get the Pinterest browser extension"),size:"lg"})]})})]})};class N extends i.PureComponent{constructor(...e){super(...e),D(this,"onInstallButtonClicked",(()=>{const{handleComplete:e}=this.props;r.Z.handleExtensionInstall(e),(0,R.j)(101,{component:17,element:280,view:3,viewParameter:3226})})),D(this,"onSkipButtonClick",(()=>{const{handleDismiss:e}=this.props;(0,R.j)(101,{component:17,element:1150,view:3,viewParameter:3226}),e()}))}componentDidMount(){(0,R.j)(13,{view:3,viewParameter:3226})}render(){return(0,a.jsx)(k,{installClick:this.onInstallButtonClicked,skipClick:this.onSkipButtonClick})}}},998864:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(848101);const r=(e={shouldStopEventPropagation:!0})=>{const{loginForMore:t,viewer:n}=(0,i.B$)(),{shouldStopEventPropagation:r}=e;return"AUTH"===n.type?e=>e:()=>e=>{let n=null;e&&(e.nativeEvent&&e.nativeEvent instanceof Event?n=e:e.event&&(n=e.event)),r&&n&&n.stopPropagation&&n.stopPropagation(),t&&t.setVisible(!0)}}},903781:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(180307);const{CANONICAL_MAIN_URL:r,CANONICAL_ADS_URL:o,CANONICAL_ANALYTICS_URL:s}=i.Z.settings,a={0:r,3:o,4:s};function l({currentSiteType:e,destinationSiteType:t,inputPath:n}){const i=Object.keys(a).includes(String(e))&&Object.keys(a).includes(String(t)),r="/"===n[0]?n:`/${n}`;return i&&t!==e?`${a[t]}${r}`:r}},887018:(e,t,n)=>{n.d(t,{of:()=>i,LM:()=>r,v5:()=>o,sD:()=>s,uR:()=>a,XB:()=>l,bo:()=>c,gU:()=>d,UU:()=>u,i2:()=>p,$f:()=>h,km:()=>m,Zl:()=>g,eZ:()=>f,sG:()=>_,GX:()=>x,Bj:()=>b,yC:()=>v,MN:()=>y,Pn:()=>w,wj:()=>E,TK:()=>S,YM:()=>I,qY:()=>C,dS:()=>T,yX:()=>P,TZ:()=>j,Xy:()=>A,yI:()=>O,$4:()=>R,Ke:()=>D,JO:()=>k,lx:()=>N,bA:()=>B,G9:()=>Z,iR:()=>L,x1:()=>M,hH:()=>U,n_:()=>F,aj:()=>H,yb:()=>G,np:()=>W,mt:()=>V,AQ:()=>z,DB:()=>$,mr:()=>q,v9:()=>Y,u1:()=>X,Uw:()=>K,rc:()=>J,xl:()=>Q,P7:()=>ee,IR:()=>te,qr:()=>ne,yL:()=>ie,Ci:()=>re,FM:()=>oe,Mn:()=>se,vk:()=>ae,NB:()=>le,P0:()=>ce,zr:()=>de,ss:()=>ue,sc:()=>pe,sy:()=>he,VY:()=>me,uW:()=>ge,x2:()=>fe,lr:()=>_e,X5:()=>xe,b1:()=>be,fk:()=>ve,qm:()=>ye,Hy:()=>we,g1:()=>Ee,VP:()=>Se,Lc:()=>Ie,aD:()=>Ce,jh:()=>Te,MH:()=>Pe,ox:()=>je});const i=880,r=340,o=380,s=510,a=40,l=20,c=4,d=474,u=134,p=96,h=625,m=800,g=822,f=186,_=40,x=10,b=88,v=183,y=130,w=24,E=400,S=50,I=8,C=8,T=5,P=20,j=13,A=5,O=20,R=O**2,D=100,k=500,N=500,B=40,Z=100,L=5,M=["attempted","publishing","succeeded","uploading"],U={carousel:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],single:[{w:2,h:3},{w:3,h:4},{w:1,h:1}],story:[{w:9,h:16}]},F=["tl","tc","tr","bl","bc","br"],H=["left","center"],G=["top","center","bottom"],W=["none","uppercase"],V=["sm","md","lg"],z=[1,.75],$=198,q=132,Y=(Math.floor(16*q/9),1),X=56,K=240,J="cubic-bezier(0.66, 0.025, 0.33, 0.975)",Q=["image/bmp","image/gif","image/jpeg","image/png","image/tiff","image/webp"],ee=["bmp","gif","jpg","jpeg","png","tiff","webp"],te=89478485,ne=20971520,ie=100,re=100,oe=1e3,se=1500,ae=2,le=3,ce=20,de=20,ue=["video/mp4","video/x-m4v","video/quicktime"],pe=["mp4","m4v","mov"],he=2147483648,me=4,ge=ie,fe=re,_e=900,xe=.5,be=1.91,ve=2,ye=["processing","publishing","saving"],we=2500,Ee=3,Se=5e3,Ie="pin-builder-default-education-id",Ce="pin-builder-default-tour-id",Te="pin-builder-editing-tour-id",Pe={CAROUSEL:"CAROUSEL",STATIC:"STATIC",VIDEO:"VIDEO",COLLECTIONS:"COLLECTIONS"},je={TRAFFIC:"TRAFFIC",AWARENESS:"AWARENESS",APP_INSTALL:"APP_INSTALL",WEB_CONVERSION:"WEB_CONVERSION",CATALOG_SALES:"CATALOG_SALES",VIDEO_VIEW:"VIDEO_VIEW",WEB_SESSIONS:"WEB_SESSIONS"}},76535:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(221469);const r={asset_picker:{authOnly:!0,partnerOnly:!0,experiment:"web_pin_builder_asset_picker",groups:/^(enabled|employees)/,scenarios:["default"]},asset_picker_dropbox:{experiment:"web_pin_builder_dropbox",groups:/^(employees|enabled)/,authOnly:!0,partnerOnly:!0},carousel:{authOnly:!0,partnerOnly:!0,orbacDisabled:!0},editing:{authOnly:!0,partnerOnly:!0},education:{authOnly:!0,partnerOnly:!0},offsitePinCreation:{scenarios:["offsite_pin_creation"]},layouts:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation","story_pin"]},linkStatusValidation:{authOnly:!0,partnerOnly:!0},rename:{experiment:"web_sp2s",groups:/^(employees|enabled)/,authOnly:!0,partnerOnly:!1,scenarios:["story_pin_v2"]},requireLink:{scenarios:["ad_creation"]},multi_pin:{authOnly:!0,partnerOnly:!0,scenarios:["default","ad_creation"]},multi_pin_pinner:{authOnly:!0,partnerOnly:!1,scenarios:["default"]},offsite_pin_creation_multi_select:{authOnly:!0,partnerOnly:!1,experiment:"web_offsite_pin_creation_multi_select",groups:/^(enabled|employees|enabled_redirect_to_hf)/,scenarios:["offsite_pin_creation"]},pinbuilder_v2_tabs:{authOnly:!0,partnerOnly:!1,experiment:"web_pinbuilder_v2_tabs",groups:/^(employees|enabled)/,scenarios:["default"]},pinbuilder_v2_full:{authOnly:!0,partnerOnly:!1,experiment:"web_pinbuilder_v2_full",groups:/^(employees|enabled)/,scenarios:["default"]},imageSignals:{authOnly:!0,partnerOnly:!0,experiment:"pin_quality_signal_image",groups:/^(employees|enabled)/},scheduling:{authOnly:!0,partnerOnly:!0,scenarios:["default"],orbacDisabled:!0},shop_the_pin:{authOnly:!0,partnerOnly:!0,orbacDisabled:!0},storyPinBoardlessPublishing:{authOnly:!0,partnerOnly:!1,experiment:"boardless_idea_pin_publishing",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"],orbacDisabled:!0},storyPinCommentsPermissions:{authOnly:!0,partnerOnly:!1,experiment:"web_story_pin_publish_comments_permissions",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"],orbacDisabled:!0},storyPinExpandedFormats:{authOnly:!0,partnerOnly:!1,experiment:"web_sp_format_support",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"],orbacDisabled:!0},storyPinExpressive:{authOnly:!0,partnerOnly:!1,experiment:"web_story_pin_creator",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"],orbacDisabled:!0},storyPinLimitedEdits:{authOnly:!0,partnerOnly:!1,experiment:"web_story_pin_limit_edits",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"],orbacDisabled:!0},storyPinMetadataLists:{authOnly:!0,partnerOnly:!1,experiment:"web_story_pin_metadata_lists",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"],orbacDisabled:!0},storyPinMetadataListsExpanded:{authOnly:!0,partnerOnly:!1,experiment:"web_story_pin_metadata_lists_expanded",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"],orbacDisabled:!0},storyPinMetadataModule:{authOnly:!0,partnerOnly:!1,experiment:"web_sp_create_metadata",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"],orbacDisabled:!0},storyPinMultiSelect:{authOnly:!0,partnerOnly:!1,experiment:"web_story_pin_multi_select",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"],orbacDisabled:!0},storyPinPreview:{authOnly:!0,partnerOnly:!1,experiment:"web_story_pin_preview",groups:/^(employees|enabled)/,scenarios:["story_pin_v2"],orbacDisabled:!0},systemFonts:{authOnly:!0,partnerOnly:!0},tagging:{authOnly:!0,partnerOnly:!0,experiment:"web_pin_builder_tagging",groups:/^(employees|enabled|rollout)/,orbacDisabled:!0},suppressSuccessModal:{scenarios:["ad_creation","business_nux"]},suppressFirstAdCreate:{scenarios:["first_pin_page"]},useVIP:{authOnly:!0,partnerOnly:!1,experiment:"web_pin_builder_image_preview_endpoint_deprecation",groups:/^(employees|enabled)/},video:{customEnabledCheck:({user:e})=>!(null==e||!e.video_upload_allowed),authOnly:!0,orbacDisabled:!0},videoEditing:{authOnly:!0,partnerOnly:!0,experiment:"video_edit",groups:/^(employees|enabled)/,orbacDisabled:!0},videoTagging:{authOnly:!0,partnerOnly:!0,languages:["en"],orbacDisabled:!0},videoCollectionsTagging:{authOnly:!0,partnerOnly:!0,experiment:"video_hero_collections",groups:/^(employees|enabled)/,orbacDisabled:!0},pinQuality:{partnerOnly:!0}},o={_experiments:null,_viewer:null,_advertiser:null,_scenario:null,_language:null,_context:null,_orbacActingAs:null,initialize(e){const{requestContext:t,viewer:n,location:r,advertiser:o,scenario:s,orbacActingAs:a}=e;this._context=e,this._experiments=t.experiments,this._language=t.language,this._viewer=n,this._advertiser=o,this._orbacActingAs=a;const{adCreate:l}=(0,i.mB)(r.search);this._scenario=s||(l?"ad_creation":"default")},scenario(){return this._scenario},enabled(e){var t;if(!this._viewer||!this._experiments)return!1;const{advertisers:n,authOnly:i,experiment:o,groups:s=/.*/,languages:a,partnerOnly:l,scenarios:c,orbacDisabled:d,customEnabledCheck:u}=r[e];return(!d||null===(t=this._orbacActingAs)||void 0===t||!t.id||this._orbacActingAs.id===this._viewer.id)&&(u?u(this._context):!(!n||!this._advertiser||null===this._advertiser.billing_type)||!(i&&!this._viewer.isAuth)&&(!(l&&!this._viewer.isPartner)&&(!(c&&!c.includes(this._scenario))&&(!(a&&!a.includes(this._language))&&(!o||s.test(this._experiments.v2ActivateExperiment(o)||""))))))}}},990531:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(887018);function r(e,t=i.LM,n=0){return(t-2*n)/e.width*e.height+2*n}},273341:(e,t,n)=>{n.d(t,{OJ:()=>a,Sd:()=>l,Q2:()=>c});var i=n(881219),r=n(711349),o=n(204748);const s=["alphabetical","last_pinned_to","oldest","newest","group_boards_at_top","custom"],a={name:"BoardsResource",key:"boardsResource",options:({boardOrder:e,filterStories:t,mixPublicSecret:n,username:i})=>({privacy_filter:"all",sort:e||"last_pinned_to",field_set_key:"profile_grid_item",filter_stories:t,username:i,page_size:25,group_by:n?"mix_public_private":"visibility",include_archived:!0,redux_normalize_feed:!0})},l=(e,t,n)=>({privacy_filter:t?"secret":"public",sort:n||"last_pinned_to",field_set_key:"profile_grid_item",username:e}),c=e=>s.reduce(((t,n)=>{const s=[(0,r.Z)("profileBoards",(0,i.OV)(e,n))];return[!0,!1].forEach((t=>{[!0,!1].forEach((i=>{s.push((0,o.jB)(a.name,a.options({username:e,boardOrder:n,mixPublicSecret:t,filterStories:i})))}))})),t.concat(s)}),[])},443517:(e,t,n)=>{n.d(t,{Z:()=>u});var i=n(667294),r=n(574037),o=n(730762),s=n(627578),a=n(174523),l=n(484694),c=n(549135),d=n(785893);function u({isExtensionInstalled:e=!1,isFromPinBuilder:t=!1,onInstall:n=(()=>{}),onHide:u=(()=>{}),onMounted:p=(()=>{})}){const h=(0,a.ZP)();(0,i.useEffect)((()=>{const e=o.Z.getInstance(),t=e.getViewFromContext(),n={view:438,component:13588};return e.addViewToContext(n),(0,c.j)(13,n),p(),()=>{e.addViewToContext(t)}}),[]);return(0,d.jsx)(l.N,{installClick:()=>{e?s.Z.showError(h._("Oops! You already have the browser button.")):r.Z.handleExtensionInstall((()=>{n()})),(0,c.j)(101,{component:7,element:456})},isExtensionInstalled:!t&&e,isFromPinBuilder:!!t,skipClick:()=>{u()}})}},394114:(e,t,n)=>{n.d(t,{j9:()=>a,sm:()=>l,Nv:()=>c,cc:()=>d,N$:()=>u,CX:()=>p});var i=n(394114),r=n(835510),o=n(903945);const s="extensionNagCount",a=()=>{let e=Date.now(),t=0;const n=(0,o.qn)(s);if(n){const[i,r]=n.split("_");i&&r&&(e=parseInt(i,10),t=parseInt(r,10))}return{lastNag:e,nagCount:t}},l=()=>{const{nagCount:e}=i.j9();e<4&&(0,o.Nh)(s,`${Date.now()}_${e+1}`)},c=()=>{let e=!1;const{lastNag:t,nagCount:n}=i.j9();if(0===n)return!1;const o=n>=4,s=(0,r.ZP)(t).day<3;return e=o||s,e},d=e=>"object"==typeof e&&null!==e&&"url"in e&&"media"in e,u=1050,p=880},223419:(e,t,n)=>{n.d(t,{We:()=>l,ZP:()=>c});var i=n(209067),r=n(631739),o=n(174523),s=n(883119),a=n(785893);function l(e,t=""){const n=e&&e.length>1?new RegExp(e,"i"):"";return e&&e.length>1?t.split(n).reduce(((n,i,r)=>{if(n.length>0&&e&&e.length){const o=t.toLowerCase().indexOf(e.toLowerCase());return n.concat((0,a.jsx)("em",{style:{borderBottom:"1px solid #333",fontStyle:"normal",paddingBottom:"1px"},children:t.substring(o,o+e.length)},r),i)}return[i]}),[]):t}const c=function(e){const t=(0,o.ZP)(),{disabled:n,item:c,isSection:d,isSelectMode:u,isWithinSectionPicker:p,saveState:h,searchQuery:m,selected:g}=e,f=d?null:c,_=d?c:null,x=_&&_.title||f&&f.name||"";let b="",v=!1,y="",w=0;f&&({image_cover_url:b,is_collaborative:v,privacy:y,section_count:w=0}=f);const E=l(m,x),S=y===r.Z.BoardPrivacy.SECRET,I=!n&&(g||!!h),C=!p&&"number"==typeof w&&w>0,T="number"==typeof w&&w>0?"boardWithSection":"boardWithoutSection",P=u?t._("Select","Board select button label","Board select button label"):t._("Save","Pin save button label","Pin save button label");return(0,a.jsxs)(s.xu,{alignItems:"center",color:I?"lightGray":"white",display:"flex",paddingX:6,paddingY:2,"data-test-id":T,children:[f?(0,a.jsx)(s.xu,{height:36,width:36,color:"lightGray",overflow:"hidden",rounding:2,marginEnd:2,flex:"none",children:b?(0,a.jsx)(s.Ee,{src:b,alt:x,fit:"cover",naturalWidth:1,naturalHeight:1}):(0,a.jsx)("span",{})}):(0,a.jsx)(s.xu,{height:36,paddingX:2}),(0,a.jsxs)(s.kC,{alignItems:"center",flex:"grow",justifyContent:"between",children:[(0,a.jsx)(s.xv,{color:n?"gray":"darkGray",size:"md",lineClamp:1,weight:"bold",children:E}),(C||!I)&&(0,a.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[S&&(0,a.jsx)(i.Z,{type:"secret"}),v&&(0,a.jsx)(i.Z,{type:"group"}),C&&(0,a.jsx)(i.Z,{type:"sections"})]}),!C&&I&&!h&&(0,a.jsxs)(s.xu,{alignItems:"center",color:"red","data-test-id":"BoardPickerSaveButton",display:"flex",flex:"none",paddingX:3,paddingY:2,rounding:4,children:[!u&&(0,a.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginRight:3,marginLeft:-6}},children:(0,a.jsx)(s.JO,{accessibilityLabel:"",color:"white",icon:"pin",inline:!0,size:20})}),(0,a.jsx)(s.xv,{color:"white",overflow:"normal",size:"md",weight:"bold",children:P})]}),!C&&I&&"loading"===h&&(0,a.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{transform:"scale(0.7)"}},maxHeight:35,children:(0,a.jsx)(s.$j,{accessibilityLabel:t._("Saving","Accessibility label for saving a pin to a board","Accessibility label for saving a pin to a board"),show:!0})})]})]})}},209067:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(174523),r=n(883119),o=n(785893);const s=function({type:e}){const t=(0,i.ZP)(),n={group:{accessibilityLabel:t._("group board","Board picker group board icon","Board picker group board icon"),icon:"people"},protected:{accessibilityLabel:t._("protected board","Board picker protected board icon","Board picker protected board icon"),icon:"protect"},secret:{accessibilityLabel:t._("secret board","Board picker secret board icon","Board picker secret board icon"),icon:"lock"},sections:{accessibilityLabel:t._("board with sections","Board picker board with sections icon","Board picker board with sections icon"),icon:"arrow-forward"},sectionsInline:{accessibilityLabel:t._("board with sections","Board picker board with sections icon","Board picker board with sections icon"),icon:"arrow-down"}}[e];return(0,o.jsx)(r.xu,{marginStart:1,children:(0,o.jsx)(r.xu,{marginStart:2,children:"sections"===e||"sectionsInline"===e?(0,o.jsx)(r.JO,{accessibilityLabel:n.accessibilityLabel,icon:n.icon,size:"12",color:"darkGray"}):(0,o.jsx)(r.JO,{accessibilityLabel:n.accessibilityLabel,icon:n.icon,size:16,color:"darkGray"})})})}},189552:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),r=n(883119),o=n(785893);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a extends i.Component{constructor(...e){super(...e),s(this,"state",{isHovering:!1}),s(this,"onHover",(()=>{this.setState({isHovering:!0})})),s(this,"offHover",(()=>{this.setState({isHovering:!1})}))}render(){const{name:e,selected:t,image:n,inFlyoutExp:i}=this.props;var s,a,l;return i?(0,o.jsxs)(r.xu,{alignItems:"center",color:this.state.isHovering?"lightGray":"transparent",direction:"row",display:"flex",paddingX:4,paddingY:2,onMouseOver:this.onHover,onMouseOut:this.offHover,children:[(0,o.jsx)(r.xu,{children:(0,o.jsx)(r.zd,{height:40,width:40,rounding:2,children:this.state.isHovering&&n?(0,o.jsx)(r.Ee,{alt:"",color:"",fit:"cover",naturalHeight:null!==(s=n.height)&&void 0!==s?s:1,naturalWidth:null!==(a=n.width)&&void 0!==a?a:1,src:null!==(l=n.url)&&void 0!==l?l:""}):(0,o.jsx)(r.xu,{color:"lightGray",height:40,width:40})})}),(0,o.jsx)(r.xu,{padding:2,children:(0,o.jsx)(r.X6,{size:"sm",children:e})})]}):(0,o.jsxs)(r.xu,{alignItems:"center",color:t?"lightGray":"transparent",direction:"row",display:"flex",paddingX:6,paddingY:2,children:[(0,o.jsx)(r.xu,{children:(0,o.jsx)(r.JO,{color:t?"darkGray":"gray",icon:"add",accessibilityLabel:""})}),(0,o.jsx)(r.xu,{marginStart:3,children:(0,o.jsx)(r.xv,{color:t?"darkGray":"gray",weight:"bold",children:e})})]})}}var l=n(174523),c=n(358934),d=n(549135),u=n(670473);const p=({inFlyoutExp:e,inFirstBoardCreateGestaltExp:t,pinId:n,image:s,minHeight:p,onBoardSelected:h})=>{const m=(0,l.ZP)(),[g,f]=(0,i.useState)(-1),_=(0,u.iN)(),{data:x=[],error:b,isLoaded:v}=(0,c.Z)({name:"BoardTitleSuggestionsResource",options:{pin_id:n}}),y=(w=x,(0,i.useMemo)((()=>w&&w.length?w.map((e=>e.title)):[]),[w]));var w;(0,i.useEffect)((()=>{v&&t&&_&&(b?_.error():_.stop())}),[v]);const E=()=>{f(-1)},S=(t,n)=>{const i=g===n;return(0,o.jsx)("li",{children:(0,o.jsx)(r.iP,{onMouseEnter:()=>(e=>{f(e)})(n),onMouseLeave:E,onTap:()=>(e=>{h(y[e],!1),(0,d.j)(101,{component:13025,element:23})})(n),children:(0,o.jsx)(a,{selected:i,name:t,inFlyoutExp:e,image:s})})},n)};return v?y&&y.length?e?(0,o.jsx)(r.xu,{children:(0,o.jsx)("ul",{children:y.map(S)})}):t?(0,o.jsxs)(r.xu,{children:[(0,o.jsx)(r.xu,{marginTop:5,marginStart:6,marginBottom:3,children:(0,o.jsx)(r.xv,{children:m._("Suggested board names","text above suggested board names list","text above suggested board names list")})}),(0,o.jsx)("ul",{children:y.map(S)})]}):(0,o.jsxs)(r.xu,{children:[(0,o.jsx)(r.xu,{marginTop:2,paddingX:5,children:(0,o.jsx)(r.xv,{children:m._("Suggested board names")})}),(0,o.jsx)("ul",{children:y.map(S)})]}):null:(0,o.jsx)(r.kC,{alignItems:"center",height:"100%",justifyContent:"center",minHeight:p||"",children:(0,o.jsx)(r.$j,{accessibilityLabel:m._("Loading board suggestions","Accesibility label for loading board suggestions","Accesibility label for loading board suggestions"),show:!0})})}},538052:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(667294),r=n(40142),o=n(631739),s=n(234316),a=n(729787),l=n(34411),c=n(159276),d=n(174523),u=n(767523),p=n(883119),h=n(785893);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g extends i.Component{constructor(e){super(e),m(this,"onCreateSection",(()=>{const{board:e,dispatch:t,completeCreateSectionAction:n,pinImport:i,viewer:r,orbacActingAs:o}=this.props,a=(0,c.lJ)(r,o);return this.setState({isSaving:!0}),t((0,s.Z)({boardId:e.id,name:this.state.inputName.trim(),pinImport:i},this.props.i18n,a)).then((e=>{this.setState({isSaving:!1}),n(e)})).catch((e=>{this.setState({createError:e.message_detail||e.message,isSaving:!1})}))})),m(this,"handleKeyDown",(({event:e,value:t})=>{const{createError:n,inputName:i}=this.state;[o.Z.KeyCode.ENTER,o.Z.KeyCode.NUMPAD_ENTER].includes(e.which)&&!n&&i.trim()&&this.onCreateSection()})),m(this,"handleChangeName",(({value:e})=>{this.setState({createError:null,inputName:e})})),m(this,"handleInputRef",(e=>{this.setState({inputRef:e})})),this.state={createError:null,inputName:e.initialName||"",inputRef:null,isSaving:!1}}componentDidUpdate(e,t){const{createError:n,inputRef:i}=this.state;!i||t.inputRef&&!n||i.focus()}render(){const{showTitle:e,positionRelative:t}=this.props,{createError:n,inputName:i,isSaving:r}=this.state,o=!!i.trim()&&!n;return(0,h.jsxs)(p.xu,{display:"flex",direction:"column",color:"white",flex:"grow",top:!0,bottom:!0,right:!0,position:t?"relative":"absolute",rounding:2,width:"100%",dangerouslySetInlineStyle:{__style:{borderLeft:"1px solid #f5f5f5"}},children:[e&&(0,h.jsx)(p.xu,{marginTop:3,paddingX:6,paddingY:3,children:(0,h.jsx)(p.X6,{size:"sm",children:this.props.i18n._("Add section","Title in the add section modal","Title in the add section modal")})}),(0,h.jsxs)(p.xu,{padding:4,children:[(0,h.jsx)(p.xu,{marginBottom:2,children:(0,h.jsx)(p.__,{htmlFor:"sectionEditName",children:(0,h.jsx)(p.xv,{size:"md",color:n?"red":"gray",children:this.props.i18n._("Name","Board section name","Board section name")})})}),(0,h.jsx)(p.xu,{children:(0,h.jsx)(p.xu,{ref:this.handleInputRef,children:(0,h.jsx)(p.nv,{errorMessage:n||"",id:"sectionEditName",name:"sectionName",onChange:this.handleChangeName,onKeyDown:this.handleKeyDown,placeholder:this.props.i18n._('Like "Lighting"',"Placeholder for board section name","Placeholder for board section name"),size:"lg",type:"text",value:i})})})]}),(0,h.jsx)(p.kC,{alignItems:"stretch",justifyContent:"start",flex:"grow"}),(0,h.jsx)(p.xu,{padding:4,children:(0,h.jsx)(p.kC,{alignItems:"stretch",justifyContent:"end",children:(0,h.jsx)(a.Z,{disabled:!o||r,onClick:this.onCreateSection,submitting:r,text:this.props.i18n._("Add","add a new section","add a new section")})})})]})}}const f=(0,r.connect)()((function(e){const t=(0,d.ZP)(),n=(0,l.ZP)(),i=(0,u.Z)();return(0,h.jsx)(g,{...e,i18n:t,viewer:n,orbacActingAs:i})}))},376067:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(631739),r=n(542756),o=n(883119),s=n(785893);function a({url:e,description:t,color:n}){return n=n||i.Z.DEFAULT_IMAGELESS_PIN_COLOR,(0,s.jsx)(o.xu,{rounding:2,height:216,width:"100%",dangerouslySetInlineStyle:{__style:{background:n}},children:(0,s.jsxs)(o.xu,{maxHeight:200,padding:4,overflow:"hidden",children:[e&&(0,s.jsx)(o.xu,{marginBottom:2,children:(0,s.jsx)(o.xv,{color:"white",size:"sm",children:(0,r.Z)(e).hostname||e})}),(0,s.jsx)(o.xu,{maxHeight:144,children:(0,s.jsx)(o.xv,{color:"white",overflow:"normal",weight:"bold",children:t})})]})})}},526745:(e,t,n)=>{n.d(t,{Z:()=>p});var i=n(667294),r=n(949876),o=n(76535),s=n(854458),a=n(883119),l=n(549135),c=n(785893);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class u extends i.PureComponent{constructor(...e){super(...e),d(this,"state",{}),d(this,"handleUserFollow",((e,t)=>{this.setState({isFollowing:t}),t?(0,l.j)(45,{objectId:e,view:3,viewParameter:73}):(0,l.j)(46,{objectId:e,view:3,viewParameter:73})}))}static getDerivedStateFromProps(e,t){return void 0===t.isFollowing&&e.user?{isFollowing:e.user.followed_by_me}:Object.freeze({})}render(){const{user:e}=this.props,{id:t,full_name:n,image_medium_url:i,username:l}=e,d=l?`/${l}/`:"";return(0,c.jsxs)(a.xu,{display:"flex",alignItems:"center",marginStart:-1,marginEnd:-1,children:[(0,c.jsx)(a.xu,{flex:"grow",paddingX:1,children:(0,c.jsx)(r.default,{fullName:n,imageUrl:i,profileUrl:d,openNewTab:!0})}),(0,c.jsx)(a.xu,{flex:"none",paddingX:1,children:(0,c.jsx)(s.Z,{fullName:n,hideFollowingText:!0,suppressToasts:!0,id:t,imageUrl:i||"",isSecondaryButton:o.Z.enabled("pinbuilder_v2_full"),isOwnProfile:!1,onUserFollow:e=>this.handleUserFollow(t,e),profileUrl:d,size:"md"})})]})}}const p=u},859514:(e,t,n)=>{n.d(t,{Z:()=>L});var i=n(667294),r=n(138881),o=n(903781),s=n(731164),a=n(526745),l=n(40142),c=n(631739),d=n(454690),u=n(883119),p=n(739603),h=n(174523),m=n(108301),g=n(785893);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const _=["","",""],x={margin:0,padding:0};class b extends i.Component{constructor(e){super(e),f(this,"getCoverImgUrl",(()=>{var e;if(this.state.coverImgPos)return this.state.coverImgUrl;const{image_cover_url:t,cover_images:n={}}=this.props.board;let i=((null==n?void 0:n["400x300"])||{}).url;return i||(i=t),null!==(e=i)&&void 0!==e?e:""})),f(this,"handleFollow",(()=>{const{board:{id:e},follow:t,unfollow:n}=this.props,i=this.state.isBoardFollowed,r=i?"board_unfollow":"board_follow";d.Z.trackEvent(r,"click"),i?n(e):t(e),this.setState({isBoardFollowed:!i})})),f(this,"renderThumbs",(e=>{const t=[];for(let n=0;n<2;n+=1)t.push((0,g.jsxs)("li",{children:[(0,g.jsx)("span",{className:"hoverMask",style:p.nT}),e[n]?(0,g.jsx)("img",{alt:"",className:"thumb",src:e[n]}):null]},n));return t})),this.state={isBoardFollowed:e.board.followed_by_me,coverImgPos:0,coverImgUrl:""}}componentDidUpdate(e){const{board:{followed_by_me:t}}=this.props;t!==e.board.followed_by_me&&t!==this.state.isBoardFollowed&&this.setState({isBoardFollowed:t})}render(){if(!this.props.board)return null;const{name:e,is_collaborative:t,privacy:n,url:i}=this.props.board;let r=[...this.props.board.pin_thumbnail_urls||[]];r.length||(r=[..._]);const o=this.getCoverImgUrl();o&&(r[0]=o);const s=this.state.isBoardFollowed?this.props.i18n._("Unfollow","board follow button","board follow button"):this.props.i18n._("Follow","board follow button","board follow button");return(0,g.jsx)("div",{className:"item",style:{...p.ZP,display:"inline-block"},children:(0,g.jsxs)("div",{className:"Board Module boardCoverImage",style:x,children:[(0,g.jsxs)("a",{className:"boardLinkWrapper",href:i,rel:"noopener noreferrer",target:"_blank",children:[(0,g.jsxs)("div",{className:"boardName",children:[(0,g.jsxs)("div",{className:"BoardIcons Module pinCreate",children:[t?(0,g.jsx)("span",{className:"collaborativeIcon"}):null,n===c.Z.BoardPrivacy.SECRET?(0,g.jsx)("span",{className:"secretIcon"}):null]}),e]}),(0,g.jsx)("div",{className:"boardImagesWrapper",children:(0,g.jsx)("ul",{className:"boardThumbs",children:this.renderThumbs(r)})})]}),(0,g.jsx)(u.zx,{fullWidth:!0,color:this.state.isBoardFollowed?"gray":"red",onClick:this.handleFollow,text:s})]})})}}const v=(0,l.connect)(((e,{board:t})=>{const n=e&&e.boards&&e.boards.content&&e.boards.content[t.id];return{board:n?{...t,followed_by_me:n.followed_by_me}:t}}),(e=>({follow:t=>e((0,m.Z)(t)),unfollow:t=>e((0,m.f)(t))})))((function(e){const t=(0,h.ZP)();return(0,g.jsx)(b,{...e,i18n:t})}));var y=n(376067);function w(e){const{color:t,description:n,imageUrl:i,link:r}=e;return(0,g.jsx)(u.xu,{alignItems:"center",justifyContent:"center",padding:2,display:"flex",children:!i&&t&&r?(0,g.jsx)(u.xu,{width:236,children:(0,g.jsx)(y.Z,{color:t,description:n,url:r})}):(0,g.jsx)(u.zd,{rounding:2,width:236,children:(0,g.jsx)("img",{alt:n,src:i})})})}var E=n(990531),S=n(432921);const I={width:"100%"};class C extends i.Component{constructor(...e){var t,n,r;super(...e),t=this,n="videoRef",r=(0,i.createRef)(),n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r}componentDidMount(){const{video:e}=this.props;this.videoRef.current&&(this.videoRef.current.currentTime=e.thumbnail)}render(){const{video:e}=this.props,t=(0,E.Z)(e.customCoverImg||e,236);return(0,g.jsx)(u.xu,{alignItems:"center",display:"flex",justifyContent:"center",padding:2,children:(0,g.jsxs)(u.xu,{height:t,position:"relative",rounding:2,width:236,children:[(0,g.jsx)(u.zd,{rounding:2,height:"100%",width:"100%",wash:!0,children:e.customCoverImg?(0,g.jsx)(u.Ee,{alt:e.customCoverImg.name,naturalHeight:e.customCoverImg.height,naturalWidth:e.customCoverImg.width,src:e.customCoverImg.src}):(0,g.jsx)("video",{muted:!0,src:e.src,ref:this.videoRef,style:I,children:(0,g.jsx)("track",{kind:"captions"})})}),(0,g.jsx)(u.xu,{bottom:!0,left:!0,right:!0,top:!0,alignItems:"end",display:"flex",justifyContent:"start",padding:2,position:"absolute",children:(0,g.jsx)(S.Z,{duration:1e3*e.duration})})]})})}}var T=n(358934);class P extends i.PureComponent{renderPinCreateSuccessImage(){const{color:e,description:t,imageUrl:n,link:i,websiteMedia:r}=this.props;return r&&r.length>1?(0,g.jsx)(u.xu,{maxHeight:540,overflow:"scrollY",padding:8,children:(0,g.jsx)(u.Rk,{comp:({data:e})=>(0,g.jsx)(w,{description:t,imageUrl:e.src}),items:r,minCols:3,columnWidth:160})}):(0,g.jsx)(w,{color:e,description:t,imageUrl:n,link:i})}render(){const{relatedBoard:e}=this.props;if(!e.isLoaded)return(0,g.jsx)(u.xu,{minHeight:250,children:(0,g.jsx)(u.$j,{accessibilityLabel:this.props.i18n._("See suggested board","suggested board to follow after pinnning","suggested board to follow after pinnning"),show:!0})});if(e.data&&!e.data.length){const{video:e}=this.props;return(0,g.jsx)(u.xu,{marginTop:-8,paddingY:8,children:e?(0,g.jsx)(C,{video:e}):this.renderPinCreateSuccessImage()})}const t=e.data&&e.data[0];return(0,g.jsx)(u.xu,{color:"lightGray",display:"flex",justifyContent:"center",margin:6,rounding:2,children:(0,g.jsxs)(u.xu,{marginBottom:6,children:[(0,g.jsx)(u.xu,{display:"flex",marginTop:6,marginBottom:4,justifyContent:"center",children:(0,g.jsx)(u.xv,{weight:"bold",children:this.props.i18n._("Also On")})}),t&&(0,g.jsx)(v,{board:t})]})})}}function j(e){const t=(0,h.ZP)(),n=(0,T.Z)({name:"RelatedBoardForPinRandomFeedResource",options:{page_size:1,pin:e.pinId},noCache:!0});return(0,g.jsx)(P,{...e,i18n:t,relatedBoard:n})}var A=n(34411),O=n(233949),R=n(946753),D=n(735588),k=n(172738),N=n(855168),B=n(585967),Z=n(62171);function L({boardName:e,color:t,description:n="",hideHeader:l,imageUrl:c,link:d,onClose:p,openNewTab:m,pin:f,pinId:_,sectionName:x,siteType:b,video:v,websiteMedia:y}){const w=(0,h.ZP)(),E=(0,N.k6)(),S=(0,B.B)(),I=(0,A.ZP)(),C=(0,T.Z)({name:"PinResource",options:{id:_,field_set_key:"detailed"}}),P=()=>f&&f.is_quick_promotable_by_pinner&&3!==b&&(0,Z.su)(I);(0,i.useEffect)((()=>{P()?((0,D.vF)("render","pin_create_success_pinner",120,207),s.Z.increment("web.pin_create.success.promote")):s.Z.increment("web.pin_create.success.send"),s.Z.increment("web.pin_create.success.default")}),[]);const L=()=>{(0,D.vF)("click","pin_create_success_pinner",101,207),(0,Z.Pw)({history:E,pinId:_,requestContext:S}),p()},M=(0,o.Z)({currentSiteType:b,destinationSiteType:0,inputPath:`/pin/${_}`}),U=x?(0,R.nk)(w._("Saved to {{ sectionName }} in {{ boardName }}"),{boardName:e,sectionName:x}):(0,R.nk)(w._("Saved to {{ boardName }}"),{boardName:e}),F=C.data&&C.data.link_domain&&C.data.link_domain.official_user,H=I.isAuth&&F&&F.id!==I.id&&!F.followed_by_me;return(0,g.jsx)(u.xu,{minWidth:500,"data-test-id":"saved-pin-modal",children:(0,g.jsxs)(u.xu,{color:"white",rounding:2,width:"auto",children:[l?null:(0,g.jsxs)(i.Fragment,{children:[(0,g.jsx)(u.xu,{paddingX:6,paddingY:4,children:(0,g.jsx)(u.X6,{size:"md",children:U})}),(0,g.jsx)(u.iz,{})]}),(0,g.jsx)(O.KS,{name:"web_pin_create_creator_follow",isEligible:!!F&&!!H,children:({group:e})=>!!F&&(e.includes("enabled")||"employees"===e)&&(0,g.jsxs)(i.Fragment,{children:[(0,g.jsx)(u.xu,{paddingX:6,paddingY:3,children:(0,g.jsx)(a.Z,{user:F})}),(0,g.jsx)(u.iz,{})]})}),(0,g.jsx)(j,{color:t,description:n,imageUrl:c,link:d,pinId:_,video:v,websiteMedia:y}),(0,g.jsx)(u.iz,{}),(0,g.jsx)(u.xu,{paddingX:6,paddingY:2,children:(0,g.jsxs)(u.kC,{alignItems:"stretch",justifyContent:"end",children:[!P()&&(0,g.jsx)(k.SendButton,{buttonType:"icon-and-text",handleSendShareFlyoutButtonClick:()=>{E.push(`/pin/${_}/?share=true`)}}),(0,g.jsx)(u.xu,{paddingX:1,"data-test-id":"seeItNow",children:(0,g.jsx)(u.zx,{role:"link",href:M,target:m?"blank":null,onClick:()=>{(0,D.vF)("dismiss","pin_create_success_pinner",123,207),p()},color:I.isAuth&&I.isPartner||f&&P()?"gray":"red",text:w._("See it now","pinCreateSuccess.seeItNow","Text for button that takes user to see their new Pin")})}),f&&P()&&(0,g.jsx)(u.xu,{paddingX:1,children:(0,g.jsx)(r.Z,{children:({anyEnabled:e})=>e?(0,g.jsx)(u.zx,{color:"red",text:w._("Boost your Pin","Text for button to that takes users to boost a Pin","Text for button to that takes users to boost a Pin"),onClick:L}):(0,g.jsx)(u.zx,{color:"red",text:w._("Promote your Pin","Text for button to that takes users to promote a Pin","Text for button to that takes users to promote a Pin"),onClick:L})})})]})})]})})}},584831:(e,t,n)=>{n.d(t,{Z:()=>h});var i=n(667294),r=n(756169),o=n(311866),s=n(512806),a=n(946753),l=n(174523),c=n(883119),d=n(785893);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends i.Component{constructor(...e){super(...e),u(this,"state",{recommendations:[],selectedIndex:0,resourceLoaded:!1}),u(this,"onDismiss",(()=>{})),u(this,"mounted",!1),u(this,"addHashtag",(e=>{this.props.addHashtag(e),this.setState({recommendations:[]})})),u(this,"handleKeyDown",(e=>{38===e.keyCode?this.handlePrevHashtag(e):40===e.keyCode?this.handleNextHashtag(e):27===e.keyCode?this.handleClose(e):13===e.keyCode&&this.handleSubmit(e)})),u(this,"handlePrevHashtag",(e=>{e.preventDefault(),this.state.selectedIndex>0&&this.setState((e=>({selectedIndex:e.selectedIndex-1})))})),u(this,"handleNextHashtag",(e=>{e.preventDefault(),this.state.selectedIndex<this.state.recommendations.length-1&&this.setState((e=>({selectedIndex:e.selectedIndex+1})))})),u(this,"handleClose",(e=>{e.preventDefault(),this.setState({recommendations:[]})})),u(this,"handleSubmit",(e=>{e.preventDefault(),this.addHashtag(this.state.recommendations[this.state.selectedIndex].query)})),u(this,"callResource",(e=>{const{makeCancelablePromise:t}=this.props;t(o.ZP.create("HashtagTypeaheadResource",{query:e,showPinCount:!0}).callGet(),"typeahead").then((e=>{if(!this.mounted)return;const t=e.resource_response.data;this.setState({recommendations:t.slice(0,5),resourceLoaded:!0})})).catch((({isCanceled:e})=>{e||this.setState({resourceLoaded:!1})}))}))}componentDidMount(){this.mounted=!0,this.callResource(this.props.query),window.addEventListener("keydown",this.handleKeyDown)}componentDidUpdate(e){this.props.query!==e.query&&""!==this.props.query&&this.callResource(this.props.query)}componentWillUnmount(){window.removeEventListener("keydown",this.handleKeyDown),this.mounted=!1}render(){const{recommendations:e,resourceLoaded:t,selectedIndex:n}=this.state,{anchor:i,idealDirection:o}=this.props,s=e.filter((e=>e.query)),l=o||"down",u="flyout_"+s.length;return t&&s.length>0?(0,d.jsx)("div",{className:"HashtagFlyout",children:(0,d.jsx)(c.J2,{anchor:i,idealDirection:l,onDismiss:this.onDismiss,size:"sm",children:(0,d.jsx)("div",{className:"HashtagRecommendations",children:s.length>0?s.map(((e,t)=>(0,d.jsx)("div",{className:"HashtagItem",children:(0,d.jsx)(c.iP,{fullWidth:!1,onTap:()=>this.addHashtag(e.query),children:(0,d.jsxs)(c.xu,{display:"flex",justifyContent:"between",alignItems:"center",color:t===n?"lightGray":"transparent",padding:1,children:[(0,d.jsx)(c.xu,{flex:"grow",children:(0,d.jsx)(c.xv,{inline:!0,size:"md",weight:"bold",children:e.query})}),(0,d.jsx)(c.xu,{flex:"none",children:(0,d.jsx)(c.xv,{inline:!0,size:"sm",children:(0,a.nk)(this.props.i18n.ngettext("{{ count }} pin","{{ count }} pins",Number(e.pin_count),"label for n pins in hashtag flyout","label for n pins in hashtag flyout"),{count:(0,d.jsx)(r.Z,{value:Number(e.pin_count)},"pinCount")})})})]})})},e.query))):null})},u)}):null}}function h(e){const t=(0,l.ZP)(),n=(0,s.Z)();return(0,d.jsx)(p,{...e,makeCancelablePromise:n,i18n:t})}},367919:(e,t,n)=>{n.d(t,{Z:()=>f});var i=n(667294),r=n(174523),o=n(358934),s=n(946753),a=n(883119),l=n(785893);function c({pin:e}){const t=(0,r.ZP)(),{data:n}=(0,o.Z)({name:"ApiResource",options:{url:`/v3/pins/${e.id}/`,field_sets:["pin.board()","pin.id","pin.pinned_to_board()","pin.type","pin.via_pinner()"]},noCache:!0});return n&&n.pinned_to_board&&"quick_creates"!==n.pinned_to_board.layout?(0,l.jsxs)(a.xu,{children:[(0,l.jsx)(a.xu,{color:"red","data-test-id":"already-pinned",display:"flex",padding:3,rounding:2,width:185,children:(0,l.jsx)(a.xv,{align:"center",color:"white",size:"md",weight:"bold",children:(0,s.nk)(t._("Psst! You already saved this Pin to {{ board_name }} ","Toast for already having repinned pin","Toast for already having repinned pin"),{board_name:(n.pinned_to_board||{}).name}).join(" ")})}),(0,l.jsx)(a.xu,{display:"flex",justifyContent:"center",marginTop:-3,children:(0,l.jsx)(a.JO,{accessibilityLabel:"",color:"red",icon:"heart",size:26})})]}):null}var d=n(584831),u=n(376067),p=n(549135);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const m=/#[^(. #,\/$%\^&\*;:{}=\`~()\[\]@|<>)]*/,g=/#[^(. #,\/$%\^&\*;:{}=\`~()\[\]@|<>)]*$/;class f extends i.Component{constructor(...e){super(...e),h(this,"state",{cursorIndex:-1,flyoutCursorIndex:-1,description:this.props.pin&&this.props.pin.description&&this.props.pin.description.trim()||"",editing:!1,hashtagQuery:"",isHashtagFlyoutOpen:!1,flyoutOpened:!1}),h(this,"onDescriptionChange",((e,t)=>{const n=new RegExp(m,"g");let i="";if(t<e.length){let r=n.exec(e),o=n.lastIndex<t;for(;r&&o;)r=n.exec(e),o=n.lastIndex<t;const s=!!r&&m.test(e.slice(r.index,t));o=!!r&&r.index<t,r&&s&&o&&(i=r[0])}else{const t=g.exec(e);i=t?t[0]:""}this.updateDescription(e);const r=m.test(i),o=this.state.isHashtagFlyoutOpen?this.state.flyoutCursorIndex:e.slice(0,t).lastIndexOf("#");this.setState({cursorIndex:t,flyoutCursorIndex:o,description:e,hashtagQuery:i,isHashtagFlyoutOpen:r,flyoutOpened:this.state.flyoutOpened||r})})),h(this,"onCursorChange",(e=>{const{isHashtagFlyoutOpen:t,flyoutCursorIndex:n}=this.state;t&&e<n&&this.setState({isHashtagFlyoutOpen:!1})})),h(this,"updateDescription",(e=>{this.props.updateDescription&&this.props.updateDescription(e)})),h(this,"handleDescriptionBlur",(e=>{const t=e.target.value.trim(),{isHashtagFlyoutOpen:n}=this.state;this.updateDescription(t),this.setState({description:t,editing:n})})),h(this,"handleDescriptionEdit",(()=>{this.setState({editing:!0})})),h(this,"handleHashtagAddition",(e=>{const{pin:t}=this.props;(0,p.j)(101,{component:208,element:10249,hashtags:e,objectId:t.id});const n=this.state.flyoutCursorIndex,i=Number(n+this.state.hashtagQuery.length),r=this.state.description.slice(0,n)+e+" "+this.state.description.slice(i);this.updateDescription(r),this.setState({description:r,editing:!0,hashtagQuery:"",isHashtagFlyoutOpen:!1})})),h(this,"handleRefTextArea",(e=>{this._textArea=e}))}render(){const{color:e,isFirstPin:t,pin:n,pinImageRef:i}=this.props,{description:r,editing:o,flyoutOpened:s,hashtagQuery:p,isHashtagFlyoutOpen:h}=this.state,{images:m,link:g}=n,f=m&&m["236x"],_=f&&f.url||n.image_base64;return(0,l.jsxs)(a.xu,{display:"flex",alignItems:"center",justifyContent:"center",position:"relative",width:t?"50%":"",dangerouslySetInlineStyle:{__style:s&&o?{transform:"translateY(-75px)"}:{}},children:[(0,l.jsxs)(a.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[n&&n.id&&(0,l.jsx)(c,{pin:n}),(0,l.jsx)(a.xu,{paddingY:t?9:0,width:240,children:(0,l.jsx)(a.xu,{ref:i,maxHeight:s&&o?220:335,rounding:4,overflow:"hidden",children:_?(0,l.jsx)(a.Ee,{alt:r,src:_,naturalHeight:(null==f?void 0:f.height)||1,naturalWidth:(null==f?void 0:f.width)||1}):!!g&&(0,l.jsx)(u.Z,{color:e||"",description:r,url:g})})})]}),this.anchor&&h?(0,l.jsx)(d.Z,{addHashtag:this.handleHashtagAddition,anchor:this.anchor,editing:o,query:p}):null]})}}},845062:(e,t,n)=>{n.d(t,{K:()=>D});var i=n(667294),r=n(40142),o=n(627578),s=n(646942),a=n(439887);var l=n(807824),c=n(418102),d=n(311866),u=n(241184),p=n(881220),h=n(34411),m=n(40197),g=n(752430),f=n(921797),_=n(679867),x=n(39332),b=n(883119),v=n(549135),y=n(101691),w=n(542931),E=n(174523),S=n(9757),I=n(670473),C=n(475446),T=n(164756),P=n(855168),j=n(785893);function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const O=/#[^(\-\\.\s#,\/$%\^&\*;:{}=\`~()\[\]@|<>…)]+/gi;class R extends i.Component{constructor(...e){super(...e),A(this,"state",{boardSavedTo:null,displaySuccessAnimation:!1,newPin:null,modalTitle:this.getModalTitle(this.props.showCreate,!!this.props.boardWithSection),pinDescription:this.props.pin&&this.props.pin.description||"",resolve:void 0,sharing:{facebook:!1,twitter:!1}}),A(this,"unmounted",!1),A(this,"setModalTitle",(e=>this.safeSetState({modalTitle:e}))),A(this,"updateDescription",(e=>{this.safeSetState({pinDescription:e})})),A(this,"close",(()=>{const{onClose:e,boardPickerStopwatch:t}=this.props;e&&e(),t&&t.abort("boardPickerClose"),(0,v.j)(2502,{component:5,element:610})})),A(this,"safeSetState",((e,t)=>{this.unmounted?t&&t():this.setState(e,t)})),A(this,"getPinResource",((e,t,n,i)=>{var r,o;const{color:s,location:c,pin:u,method:p,guid:h,additionalCreateFields:m,advertiser_id:g,previousHistory:f}=this.props;let _;u.id&&(_=(0,a.ZP)(u,c,f)||`${u.tracking_params||""}~0`);const x=u.id?"RepinResource":"PinResource",b=!u.id&&u.image_url?(0,l.Z)(u.image_url,u.link):(null===(r=u.images)||void 0===r||null===(o=r.orig)||void 0===o?void 0:o.url)||"",v={...m,board_id:t||"",color:s||"",clientTrackingParams:_,description:this.state.pinDescription,guid:h||"",link:u.link,image_base64:u.image_base64,image_url:b,is_buyable_pin:!1,is_removable:u.promoted_is_removable,media_upload_id:u.media_upload_id,method:p||"",pin_id:u.id||"",section:n,title:u.title||"",view_type:i.viewType,view_parameter:i.viewParameter,...g?{advertiser_id:g}:Object.freeze({})};if(!e){const{facebook:e,twitter:t}=this.state.sharing;v.share_facebook=e,v.share_twitter=t}return d.ZP.create(x,v)})),A(this,"triggerPubSubs",(e=>{c.ZP.instance.publish("currentUser","pinCreated",e),c.ZP.instance.publish(e.board.id,"pinCreated",{pin:e})})),A(this,"makeCancelablePromise",(e=>{let t=!1;return{promise:new Promise(((n,i)=>{e.then((e=>t?i({isCanceled:!0}):n(e))),e.catch((e=>i(t?{isCanceled:!0}:e)))})),cancel(){t=!0}}})),A(this,"handleLogToastClick",(()=>{(0,v.j)(101,{component:20,view:52})})),A(this,"showSuggestedBoardToast",((e,t,n,r)=>{const{toastManagerContext:o,shouldShowToast:s}=this.props;if(s&&e){const{name:t,url:n,image_thumbnail_url:r}=e;o.showOneToast((({onHide:e})=>(0,j.jsx)(p.Z,{duration:S.Au,onHide:e,text:(0,j.jsxs)(i.Fragment,{children:[(0,j.jsx)(b.xv,{children:this.props.i18n._("You might also like","Post repin suggested board","Post repin suggested board")}),(0,j.jsx)(b.xv,{weight:"bold",children:t})]}),href:n,imageUrl:r,onClick:this.handleLogToastClick})))}})),A(this,"showBoardSavedToast",((e,t)=>{const{toastManagerContext:n,i18n:i}=this.props;n.showToast((({onHide:n})=>{var r,o;return(0,j.jsx)(p.Z,{duration:S.Au,onHide:n,text:(0,f.L)(i,e.name,t),href:t?`${null!==(r=e.url)&&void 0!==r?r:""}${t.slug}`:e.url,imageUrl:null!==(o=e.image_cover_url)&&void 0!==o?o:"",onClick:this.handleLogToastClick})}))})),A(this,"dismissModal",(e=>{const{resolve:t,newPin:n}=this.state;t&&t(n)})),A(this,"fetchBoardRecommendation",(e=>d.ZP.create("RelatedBoardForPinRandomFeedResource",{pin:e.id,page_size:1}).callGet({showError:!1}).then((e=>Promise.resolve(e.resource_response.error?null:e.resource_response.data[0]))))),A(this,"handleBoardSaveSuccess",((e,t,n,i)=>{var r,o;const{action:a,dispatch:l,hideSuccessAnimation:c,homeTakeoverExperience:d,pin:u,setCompletionPromise:p,shouldShowToast:h,viewerUserId:f}=this.props;l((0,g.JT)());const b=e.resource_response.data,w=this.makeCancelablePromise(new Promise(((e,r)=>{this.triggerPubSubs(b);const o=this.state.pinDescription.match(O)||[];o.length>0&&(0,v.j)(2,{element:10273,hashtags:JSON.stringify(o),objectId:this.props.pin.id});const s=c?()=>{}:()=>{h&&this.showBoardSavedToast(t,n),this.safeSetState({displaySuccessAnimation:!0,modalTitle:this.props.i18n._("Board created","Modal title after creating a new board","Modal title after creating a new board"),newPin:b,resolve:e})};"repin"===a?(this.fetchBoardRecommendation(b).then((e=>{this.showSuggestedBoardToast(e,b,n,i)})),i?s():e(b)):("create"===a&&d&&500840===d.experience_id&&(l({type:"PIN_CREATED_VIA_CREATOR_CHECKLIST",payload:{pin_created_via_creator_checklist:!0}}),(0,v.j)(7510,{component:13233})),i?s():e(b))})));if(i||l((0,x.WF)(u.id)),p(w),l((0,T.Ss)(t)),l((0,m.Br)({boardId:t.id,sectionId:n&&n.id,increment:1})),f&&(l((0,y.JS)({userId:f,increment:1})),l((0,g.JT)())),n||!t.image_cover_url){const{image_url:e,images:n}=u;t.image_cover_url=e||n&&n["236x"]&&n["236x"].url||"",l((0,T.yT)({},t))}n&&l((0,s.Z)(n.id)),l((0,_.U)(u.id,t.id,null!==(r=t.name)&&void 0!==r?r:"",null!==(o=t.url)&&void 0!==o?o:"",b.id))})),A(this,"handleSaveToBoard",((e,t,n)=>{const{boardPickerStopwatch:i,onToggleModal:r,shouldShowToast:s,viewType:a,viewParameter:l}=this.props;i&&i.abort("boardPickerSubmit"),s&&!n&&(this.close(),this.showBoardSavedToast(e,t));const c="secret"===(e.privacy||""),d={board:t?t.id:e.id,state:S.SN.LOADING};this.safeSetState({boardSavedTo:d},(()=>{this.getPinResource(c,e.id,(t||{}).id,{viewType:a,viewParameter:l}).callCreate({showError:!1}).then((i=>{this.safeSetState({boardSavedTo:Object.assign(d,{state:S.SN.SUCCESS})},(()=>this.handleBoardSaveSuccess(i,e,t,n))),r&&!n&&r(!1)})).catch((e=>{this.unmounted||this.safeSetState({boardSavedTo:null}),o.Z.showError(e.message_detail||e.message);const t=this.makeCancelablePromise(Promise.reject(e));this.props.setCompletionPromise(t),r&&r(!1)}))}))})),A(this,"handleSocialConnectSet",((e,t)=>{const n=Object.assign({},this.state.sharing);e===u.Z.FACEBOOK?n.facebook=t:e===u.Z.TWITTER&&(n.twitter=t),this.safeSetState({sharing:n})})),A(this,"handleNewBoardAnimationCompletion",(()=>{const{dispatch:e,pin:t}=this.props;e((0,x.WF)(t.id))}))}getModalTitle(e,t){return e?t?this.props.i18n._("Create section","modal title for create section pane","modal title for create section pane"):this.props.i18n._("Create board","Repin title for making a new board","Repin title for making a new board"):t?this.props.i18n._("Choose section","modal title for choose section","modal title for choose section"):this.props.i18n._("Choose board","Repin title for choosing a board","Repin title for choosing a board")}componentDidUpdate(e){const{boardWithSection:t,showCreate:n,pin:i,description:r}=this.props,o={};i===e.pin&&r===e.description||(o.pinDescription=i.description||r||""),n===e.showCreate&&t===e.boardWithSection||(o.modalTitle=this.getModalTitle(n,!!t)),Object.keys(o).length>0&&this.safeSetState(o)}componentWillUnmount(){this.unmounted=!0}render(){const{close:e,dismissModal:t,handleNewBoardAnimationCompletion:n,handleSaveToBoard:i,handleSocialConnectSet:r,setModalTitle:o,updateDescription:s}=this,{boardSavedTo:a,displaySuccessAnimation:l,modalTitle:c,newPin:d}=this.state,{color:u,pin:p}=this.props;return this.props.children({boardSavedTo:a,color:u,dismissModal:t,displaySuccessAnimation:l,handleAbort:e,handleNewBoardAnimationCompletion:n,handleSaveToBoard:i,handleSocialConnectSet:r,modalTitle:c,newPin:d,pin:p,setModalTitle:o,updateDescription:s})}}function D(e){const t=(0,E.ZP)(),n=(0,I.iN)(),i=(0,P.TH)(),o=(0,h.ZP)(),s=(0,C.F9)(),a=(0,r.useDispatch)(),l=(0,r.useSelector)((({advertiser:e})=>o.isAuth&&e&&e.owner_user_id!==o.id?e.id:void 0)),c=(0,r.useSelector)((({experiences:e})=>e.eligibleExperiences[11])),d=(0,r.useSelector)((({experiences:e})=>e.eligibleExperiences[33])),u=(0,r.useSelector)((({history:e})=>e.previous)),{viewType:p,viewParameter:m}=(0,w.ZQ)();return(0,j.jsx)(R,{...e,advertiser_id:l,boardPickerStopwatch:n,dispatch:a,location:i,homeTakeoverExperience:c,previousHistory:u,repinTakeoverExperience:d,toastManagerContext:s,viewerUserId:o.isAuth?o.id:void 0,i18n:t,viewType:p,viewParameter:m})}},9757:(e,t,n)=>{n.d(t,{Au:()=>me,SN:()=>ge,ZP:()=>_e});var i=n(667294),r=n(314463),o=n(40142),s=n(631739),a=n(729787),l=n(174523),c=n(824820),d=n(585967),u=n(760620),p=n(203620),h=n(151101),m=n(925265),g=n(883119),f=n(785893);function _(e){const t=(0,l.ZP)(),{body:n,img:i,onClick:r,selected:o,title:s,username:a,valid:c}=e,d=a||n;return(0,f.jsx)(g.xu,{marginBottom:4,children:(0,f.jsx)(g.iP,{onTap:r,children:(0,f.jsxs)(g.kC,{alignItems:"center",direction:"row",justifyContent:"start",width:"100%",children:[i,(0,f.jsxs)(g.xu,{flex:"grow",marginEnd:2,marginStart:3,children:[(0,f.jsx)(g.xu,{marginBottom:1,children:(0,f.jsx)(g.xv,{lineClamp:1,weight:"bold",children:s})}),(0,f.jsx)(g.xv,{size:"sm",lineClamp:1,children:d})]}),(0,f.jsx)(g.xu,{marginStart:2,children:(u=o,p=c,a?u?(0,f.jsx)(g.JO,{accessibilityLabel:t._("Confirmation an invite will be sent","Alt tags on a check box on the board create flow for board invites","Alt tags on a check box on the board create flow for board invites"),color:"red",icon:"check-circle",size:32}):(0,f.jsx)(g.xu,{dangerouslySetInlineStyle:{__style:{border:"solid 1px #B5B5B5"}},height:32,rounding:"circle",width:32}):(0,f.jsx)(g.zx,{color:"gray",disabled:!!u||Boolean(!p),size:"sm",text:u?t._("Sent","Sent a board collaborator invite","Sent a board collaborator invite"):t._("Invite","Add board collaborator invite","Add board collaborator invite")}))})]})})});var u,p}var x=n(358934),b=n(163880);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t,n){const{id:i}=e;return t===n.findIndex((e=>e.id===i))}class w extends i.Component{constructor(...e){super(...e),v(this,"state",{selectedCollaborators:this.props.preselectedCollaborators||[],typeaheadSuggestions:[],value:""}),v(this,"isIdSelected",{}),v(this,"handleTextFieldChange",(({value:e})=>{this.setState({value:e})})),v(this,"handleCollaboratorClick",(e=>{const{id:t,type:n}=e;this.isIdSelected[t]=!this.isIdSelected[t];const{selectedCollaborators:i}=this.state,r=i.concat([e]),o="email"===n?b.OA:b.pS;this.props.onSelectedCollaboratorsChange({id:t,resource:o}),this.setState({selectedCollaborators:r})})),v(this,"handleTypeaheadSuggestionsChange",(e=>{this.setState({typeaheadSuggestions:e})}))}componentDidMount(){this.props.preselectedCollaborators&&this.props.preselectedCollaborators.map((e=>{const{id:t,type:n}=e;this.isIdSelected[t]=!this.isIdSelected[t];const i="email"===n?b.OA:b.pS;return this.props.onSelectedCollaboratorsChange({id:t,resource:i}),null}))}render(){const{value:e}=this.state,{shareSuggestionsResource:{data:t}}=this.props,n=t||[],i=(""===e?this.state.selectedCollaborators.concat(n).filter(y):this.state.selectedCollaborators.concat(this.state.typeaheadSuggestions).concat({type:"email",id:e,valid:(0,u.Z)(e)}).concat(n).filter(y)).map((e=>function(e,t,n,i){if("user_share_suggestion"===e.type||"user"===e.type){const i=(0,f.jsx)(h.Z,{name:e.title||e.full_name,size:"sm",src:e.image_medium_url||e.image_large_url});return(0,f.jsx)(_,{img:i,onClick:()=>n(e),selected:t,title:e.full_name,username:e.username})}if("email"===e.type){const{id:r,valid:o}=e,s=(0,f.jsx)(g.xu,{alignItems:"center",color:"lightGray",display:"flex",height:40,justifyContent:"center",rounding:"circle",width:40,children:(0,f.jsx)(g.JO,{accessibilityLabel:i._("Email icon","Email icon on board create modal","Email icon on board create modal"),color:"darkGray",icon:"envelope",size:20})}),a=(0,m.Z)(i._("Email {{ email }}"),{email:r});let l,c;return t?(l=i._("Done!","Text that lets the user know we sent the board invite email","Text that lets the user know we sent the board invite email"),c=()=>{}):(l=o?i._("Click to send!","Text that lets the user know they can successfully send a board invite email","Text that lets the user know they can successfully send a board invite email"):i._("Keep typing!","Text that lets a user know the email they are typing is not valid yet","Text that lets a user know the email they are typing is not valid yet"),c=()=>o?n(e):void 0),(0,f.jsx)(_,{body:l,img:s,onClick:c,selected:t,title:a,valid:o})}}(e,this.isIdSelected[e.id],this.handleCollaboratorClick,this.props.i18n))).map(((e,t)=>(0,f.jsx)("li",{children:e},t)));return(0,f.jsxs)(g.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",height:"100%",children:[(0,f.jsx)(g.xu,{paddingX:3,paddingY:2,children:(0,f.jsx)(g.xv,{size:"sm",children:this.props.i18n._("Add collaborators (optional)","Optional field to add collaborators to a board on board create","Optional field to add collaborators to a board on board create")})}),(0,f.jsx)(g.xu,{marginBottom:4,marginTop:2,paddingX:3,width:"100%",children:(0,f.jsx)(g.xu,{flex:"grow",children:(0,f.jsx)(p.Z,{onTypeaheadSuggestionsChange:this.handleTypeaheadSuggestionsChange,resourceName:"ShareSuggestionsTypeaheadResource",value:e,children:(0,f.jsx)(g.Um,{accessibilityLabel:this.props.i18n._("Search for collaborators by name or email"),id:"CollaboratorInviteSearchField",onChange:this.handleTextFieldChange,placeholder:this.props.i18n._("Search by name or email"),size:"lg",value:e})})})}),(0,f.jsx)(g.xu,{overflow:"scrollY",paddingX:3,children:(0,f.jsx)("ul",{children:i})})]})}}function E(e){const t=(0,l.ZP)(),n=(0,x.Z)({name:"ShareSuggestionsResource",noCache:!0});return(0,f.jsx)(w,{...e,i18n:t,shareSuggestionsResource:n})}const S=(0,c.Z)((function({createBoardError:e,inputName:t,nameValidatorErrors:n,onBoardCreate:r,onCancel:o,onChangeBoardName:c,onChangeBoardPrivacy:u,onInvite:p,privacy:h,preselectedCollaborators:m,saving:_,showTitle:x,isAdAccountOwner:b}){const v=(0,l.ZP)(),{isRTL:y}=(0,d.B)(),w=0===n.length,S=h===s.Z.BoardPrivacy.SECRET;return(0,f.jsx)(g.xu,{color:"white",height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:(0,f.jsx)("form",{onSubmit:e=>{e.preventDefault(),r()},style:{height:"100%"},children:(0,f.jsxs)(g.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",height:"100%",children:[x&&(0,f.jsx)(g.xu,{display:"flex",marginTop:3,paddingX:6,paddingY:3,children:(0,f.jsx)(g.X6,{size:"sm",children:v._("Create board")})}),(0,f.jsxs)(g.xu,{padding:3,children:[(0,f.jsx)(g.xu,{marginBottom:2,children:(0,f.jsx)(g.__,{htmlFor:"boardEditName",children:(0,f.jsx)(g.xv,{size:"sm",children:v._("Name")})})}),(0,f.jsx)(g.xu,{children:(0,f.jsx)(g.nv,{errorMessage:n.join(", "),id:"boardEditName",name:"boardName",onChange:({value:e})=>c(e),placeholder:v._('Like "Places to Go" or "Recipes to Make"'),size:"lg",value:t})})]}),b&&(0,f.jsxs)(i.Fragment,{children:[(0,f.jsxs)(g.xu,{padding:3,children:[(0,f.jsx)(g.xu,{marginBottom:2,children:(0,f.jsx)(g.__,{htmlFor:"secret",children:(0,f.jsx)(g.xv,{size:"sm",children:v._("Secret","secret board","secret board")})})}),(0,f.jsx)(g.xu,{children:(0,f.jsx)(g.rs,{id:"secret",onChange:u,switched:S})})]}),(0,f.jsx)(g.kC,{alignItems:"stretch",justifyContent:"start",flex:"grow",overflow:"hidden",children:(0,f.jsx)(g.xu,{width:"100%",children:(0,f.jsx)(E,{onSelectedCollaboratorsChange:p,preselectedCollaborators:m})})})]}),!b&&(0,f.jsx)(i.Fragment,{children:(0,f.jsxs)(g.xu,{padding:3,children:[(0,f.jsx)(g.xu,{marginBottom:2,children:(0,f.jsx)(g.__,{htmlFor:"protected",children:(0,f.jsx)(g.xv,{size:"sm",children:v._("Protected board (not listed on user's profile)","protected board","protected board")})})}),(0,f.jsx)(g.xu,{children:(0,f.jsx)(g.rs,{disabled:!0,id:"protected",onChange:()=>{},switched:!0})})]})}),(0,f.jsxs)(g.xu,{borderStyle:"shadow",dangerouslySetInlineStyle:{__style:{borderBottomLeftRadius:"32px",borderBottomRightRadius:"32px"}},bottom:!0,color:"white",display:"flex",justifyContent:"between",left:y,paddingX:4,paddingY:2,position:"absolute",right:!y,width:720,children:[(0,f.jsx)(g.zx,{onClick:o,text:v._("Cancel","cancel board create","cancel board create")}),(0,f.jsxs)(g.kC,{alignItems:"stretch",justifyContent:"end",children:[!!e&&(0,f.jsx)(g.xu,{paddingX:2,children:(0,f.jsx)(g.xv,{align:"center",color:"red",size:"md",weight:"bold",children:e})}),(0,f.jsx)(a.Z,{disabled:!t.trim()||!w||!!e||_,submitting:_,text:v._("Create","create a new board","create a new board")})]})]})]})})})}));var I=n(538052),C=n(63447),T=n(178862);class P extends i.Component{constructor(...e){var t,n,i;super(...e),i=e=>{const{board:t,sectionsResource:{data:n}}=this.props;return e.length>=2?[{items:(0,T.j)([t],e),customProps:{inSectionSelection:!0}},{items:(0,T.j)(null!=n?n:[],e,"title")}]:[{items:[t],customProps:{inSectionSelection:!0}},{items:null!=n?n:[]}]},(n="getSections")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}render(){const{sectionsResource:{error:e,isLoaded:t},boardSavedTo:n,isSelectMode:i,onSectionCreate:r,onSectionSelected:o,pinId:s}=this.props;return(0,f.jsx)(C.Z,{isSelectMode:i,boardSavedTo:n,createButtonLabel:this.props.i18n._("Add section","Button for creating a board section","Button for creating a board section"),hasLoadError:!!e,isLoaded:t,getSections:this.getSections,onCreate:r,onSelected:o,pinId:s})}}function j(e){const t=(0,l.ZP)(),n=(0,x.Z)({name:"BoardSectionsRepinResource",options:{board_id:e.board.id}});return(0,f.jsx)(P,{...e,i18n:t,sectionsResource:n})}var A=n(204748),O=n(549135),R=n(34411);function D(e,t,n){return{...e?{pin_id:e}:Object.freeze({}),...t?{username:t}:Object.freeze({}),...n?{advertiser_id:n,filter:"protected"}:Object.freeze({}),field_set_key:"board_picker",limit:undefined,shortlist_suggestions:2}}class k extends i.Component{constructor(...e){var t,n,i;super(...e),i=e=>{const{boardResource:{data:t}}=this.props;if(!t)return[];const{all_boards:n,boards_shortlist:i}=t,r=(e=>{const t=[],n=[];return e.forEach((e=>{var i;null!==(i=e.name)&&void 0!==i&&i.match(/^\d/)?n.push(e):t.push(e)})),[...t,...n]})(n);return r.length<=3?[{items:r}]:e.length>=2?[{items:(0,T.j)(r,e)}]:[i.length?{items:i,title:this.props.i18n._("Top choices")}:{items:[]},{items:r,title:this.props.i18n._("All boards","title for board picker all boards section","title for board picker all boards section")}]},(n="getSections")in(t=this)?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i}render(){const{boardResource:{data:e,error:t,isLoaded:n},boardSavedTo:i,isSelectMode:r,onBoardCreate:o,onBoardSelected:s,pinId:a}=this.props,l=n&&!!e&&e.all_boards.length<=3;return(0,f.jsx)(C.Z,{isSelectMode:r,boardSavedTo:i,hasLoadError:!!t,hasLowBoardCount:l,isLoaded:n,getSections:this.getSections,onCreate:o,onSelected:s,pinId:a})}}function N(e){const t=(0,l.ZP)(),n=(0,R.ZP)(),i=(0,o.useSelector)((({advertiser:e})=>{if(n.isAuth&&e&&e.owner_user_id!==n.id)return e.id})),r=(0,o.useSelector)((({advertiser:e})=>{if(n.isAuth&&e&&e.owner_user_id!==n.id)return e.owner_user_id})),s=(0,x.Z)({name:"BoardPickerBoardsResource",options:D(e.pinId,r,i)});return(0,f.jsx)(k,{...e,boardResource:s,i18n:t})}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Z extends i.Component{constructor(...e){super(...e),B(this,"state",{inviteQueue:{},newName:"",selectedSectionBoard:this.props.boardWithSection||null,showCreate:this.props.showCreate||!1}),B(this,"close",(()=>{const{selectedSectionBoard:e,showCreate:t}=this.state,{onClose:n}=this.props;t&&e?this.setState({showCreate:!1},this.manageModalTitle):e?this.setState({selectedSectionBoard:null},this.manageModalTitle):n()})),B(this,"sendInvites",(e=>{const{inviteQueue:t}=this.state;Object.keys(t).forEach((n=>{t[n].resource(e.id,[n])}))})),B(this,"handleInvite",(e=>{const{inviteQueue:t}=this.state;if(t[e.id]){const n={...t};delete n[e.id],this.setState({inviteQueue:n})}else{const n=Object.assign({},t,{[e.id]:e});this.setState({inviteQueue:n})}})),B(this,"handleBoardCreate",(e=>{const{onBoardCreated:t}=this.props;this.handleBoardSave(e,!0),t&&t(e)})),B(this,"handleBoardSave",((e,t)=>{const{selectedSectionBoard:n}=this.state,{onBoardSave:i,invalidatePinBetterSaveResource:r,invalidateResource:o}=this.props;if(o(),r(),n&&"board_section"===e.type){return i(n,e,t)}const s=e,{section_count:a=0}=s;!n&&"number"==typeof a&&a>0?this.setState({selectedSectionBoard:s},this.manageModalTitle):(this.sendInvites(e),i(s,void 0,t))})),B(this,"handleCreate",(e=>t=>{t=t||"",this.setState({newName:t,showCreate:!0},this.manageModalTitle);const n=e?13105:13025,i=e?10306:249;(0,O.j)(101,{component:n,element:i})})),B(this,"manageModalTitle",(()=>{const{setModalTitle:e}=this.props,{selectedSectionBoard:t,showCreate:n}=this.state;e&&e(n&&t?this.props.i18n._("Add section","Repin title for making a board section","Repin title for making a board section"):n&&!t?this.props.i18n._("Create board","Repin title for making a new board","Repin title for making a new board"):t&&!n?this.props.i18n._("Choose section","Repin title for choosing a board section","Repin title for choosing a board section"):this.props.i18n._("Choose board","Repin title for choosing a board","Repin title for choosing a board"))}))}render(){const{boardSavedTo:e,isRepin:t,isSelectMode:n,onToggleFlyout:i,pinId:r,preselectedCollaborators:o,setModalTitle:s,suggestedBoardTitle:a}=this.props,{newName:l,selectedSectionBoard:c,showCreate:d}=this.state,u=!!c,p=!s;return(0,f.jsxs)(g.xu,{display:"flex",position:"relative",width:"100%",children:[!d&&(0,f.jsx)(g.xu,{direction:"column",display:"flex",marginTop:4,width:"100%",children:c?(0,f.jsx)(j,{board:c,boardSavedTo:e,isSelectMode:n,onSectionCreate:this.handleCreate(u),onSectionSelected:this.handleBoardSave}):(0,f.jsx)(N,{boardSavedTo:e,isSelectMode:n,onBoardCreate:this.handleCreate(u),onBoardSelected:this.handleBoardSave,pinId:r})}),d&&!c&&(0,f.jsx)(S,{onCancel:this.close,onCreate:this.handleBoardCreate,onInvite:this.handleInvite,onToggleFlyout:i,pinId:r,prefilledName:l||a,preselectedCollaborators:o,showTitle:p}),d&&c&&(0,f.jsx)(I.Z,{board:c,completeCreateSectionAction:this.handleBoardSave,initialName:l,isRepin:t,onClearModal:this.close,showTitle:p})]})}}const L=(0,o.connect)(null,(function(e,t){return{invalidateResource:()=>{e((0,A.jB)("BoardPickerBoardsResource",D(t.pinId)))},invalidatePinBetterSaveResource:()=>{e((0,A.jB)("BoardPickerBoardsResource",{field_set_key:"board_picker"}))}}}))((function(e){const t=(0,l.ZP)();return(0,f.jsx)(Z,{...e,i18n:t})}));var M=n(451190),U=n(367919),F=n(627578),H=n(230457),G=n(674245);const W="publish_actions",V={checkFbTimelinePermission:function(e){(0,G.default)((function(t){t.api("/me/permissions",(t=>{const n=t.data;let i=!1;if(n){i=!!n.find((e=>e.permission===W&&"granted"===e.status))}i?e.success&&e.success():e.error&&e.error()}))}),H.Z)},fbConnectedAccountMatchesLoggedInAccount:function(e,t){if(!t)return!0;const n=e.getAuthResponse();return!n||t===n.userID},maybeRequestFbTimelinePermission:function(e,t,n){(0,G.default)((i=>{if(!V.fbConnectedAccountMatchesLoggedInAccount(i,n))return F.Z.showError(t._("Oops! Your account is linked to a different Facebook account than the one you're logged into now.")),e.error&&e.error(),void(e.complete&&e.complete());V.checkFbTimelinePermission({success(){e.success&&e.success(),e.complete&&e.complete()},error(){V.fbLogin(e)}})}),H.Z)},fbLogin:function(e){(0,G.default)((t=>{t.login((t=>{t.authResponse?V.checkFbTimelinePermission(e):e.error&&e.error(),e.complete&&e.complete()}),{scope:W})}),H.Z)}},z=V;var $=n(241184),q=n(447186);function Y({onSocialConnect:e}){const t=(0,l.ZP)(),n=(0,R.ZP)(),{data:r,isLoaded:o}=(0,x.Z)({name:"UserResource",options:{user_id:n&&n.isAuth?n.id:"",field_set_key:"social_connect"}}),[s,a]=(0,i.useState)(!!(o&&r&&r.facebook_publish_stream_enabled)),[c,d]=(0,i.useState)(!!(o&&r&&r.twitter_publish_enabled));if((0,i.useEffect)((()=>{o&&r&&(a(!!r.facebook_publish_stream_enabled),d(!!r.twitter_publish_enabled))}),[r,o]),!r)return null;const{connected_to_facebook:u,twitter_url:p}=r,h=t=>{a(t),q.Z.set("facebook_publish_stream_enabled",t),e($.Z.FACEBOOK,t)};return!(!u&&!p)&&(0,f.jsxs)(g.xu,{display:"flex",padding:2,children:[u&&(0,f.jsxs)(g.xu,{display:"flex",alignItems:"center",marginStart:2,children:[(0,f.jsx)(g.XZ,{checked:s,id:"share_facebook",onChange:()=>{s?h(!1):z.maybeRequestFbTimelinePermission({success:()=>h(!0),error:()=>h(!1)},t)},size:"sm"}),(0,f.jsx)(g.__,{htmlFor:"share_facebook",children:(0,f.jsx)(g.xu,{marginStart:2,children:(0,f.jsx)(g.xv,{children:t._("Post to Facebook")})})})]}),p&&(0,f.jsxs)(g.xu,{display:"flex",alignItems:"center",marginStart:5,children:[(0,f.jsx)(g.XZ,{checked:c,id:"share_twitter",onChange:()=>{const t=!c;d(t),e($.Z.TWITTER,t)},size:"sm"}),(0,f.jsx)(g.__,{htmlFor:"share_twitter",children:(0,f.jsx)(g.xu,{marginStart:2,children:(0,f.jsx)(g.xv,{children:t._("Post to Twitter")})})})]})]})}var X=n(234316);const K=({board:e,completeCreateSectionAction:t,height:n,onClose:r,pinImport:s,url:a,width:c})=>{const d=(0,l.ZP)(),u=(0,o.useDispatch)(),[p,h]=(0,i.useState)(""),[m,_]=(0,i.useState)(!1),[x,b]=(0,i.useState)(null);return(0,f.jsx)(M.Z,{accessibilityModalLabel:d._("Repin modal","save.pinToBoard.modal.label","Accessibility label on modal"),heading:(0,f.jsx)(g.xu,{padding:8,children:(0,f.jsx)(g.kC,{alignItems:"center",children:(0,f.jsx)(g.xu,{width:"66%",marginStart:"auto",children:(0,f.jsxs)(g.kC,{justifyContent:"between",children:[(0,f.jsx)(g.X6,{size:"md",children:d._("Add section","sectionCreateModal.title","Title in the add section modal")}),(0,f.jsx)(g.hU,{icon:"cancel",accessibilityLabel:d._("Close","sectionCreateModal.closeButton","close section create modal button"),size:"md",iconColor:"darkGray",onClick:r})]})})})}),footer:(0,f.jsx)(g.kC,{children:(0,f.jsx)(g.xu,{marginStart:"auto",children:(0,f.jsx)(g.zx,{fullWidth:!0,text:d._("Add","sectionCreateModal.add.button","add a new section"),color:"red",onClick:()=>{e&&(_(!0),u((0,X.Z)({boardId:e.id,name:p.trim(),pinImport:s},d)).then((n=>{t(e,n,!1)})).catch((e=>{b(e.message||e.message_detail)})).finally((()=>{_(!1)})))},disabled:m||!p.trim()||!!x,size:"lg"})})}),onDismiss:r,size:"sm",children:(0,f.jsx)(g.xu,{padding:8,children:(0,f.jsxs)(g.kC,{children:[(0,f.jsx)(g.zd,{rounding:4,height:n,width:c,children:(0,f.jsx)(g.Ee,{alt:"",fit:"cover",src:a||"",naturalHeight:null!=n?n:1,naturalWidth:null!=c?c:1})}),(0,f.jsx)(g.xu,{marginStart:8,dangerouslySetInlineStyle:{__style:{width:c?`calc(100% - ${c}px)`:"100%"}},children:(0,f.jsx)(g.nv,{id:"sectionEditName",onChange:e=>{h(e.value)},placeholder:d._('Like "Lighting"',"sectionCreateModal.boardSection.name","Placeholder for board section name"),label:d._("Name","section.create.label","label text for section input"),size:"lg",type:"text",value:p})})]})})})};function J(){const e=(0,l.ZP)();return(0,f.jsxs)(g.kC,{alignItems:"center",direction:"column",justifyContent:"center",children:[(0,f.jsx)(g.$j,{accessibilityLabel:e._("Pins being saved to new sections","save.pin-to-board.PinToBoard.SectionSuggestions.SavingView","accessibility label on spinner"),show:!0}),(0,f.jsx)(g.xu,{paddingY:2,children:(0,f.jsx)(g.X6,{children:e._("Hold, please...","save.pin-to-board.PinToBoard.SectionSuggestions.SavingView","Heading on modal while saving pins")})}),(0,f.jsx)(g.xv,{children:e._("We're grouping the ideas you picked into sections. This will help organize all your ideas!","save.pin-to-board.PinToBoard.SectionSuggestions.SavingView","Text explaining new pins are being saved")})]})}var Q=n(476865);function ee({index:e,pin:t,sectionName:n}){const r=t.id,o=(0,i.useContext)(ce),[s,a]=(0,i.useState)(!1),l=(0,i.useCallback)((({event:e})=>{e.preventDefault(),e.stopPropagation(),o({type:s?"unselect":"select",payload:{sectionName:n,pinId:r}}),a(!s)}),[r,s]);return(0,f.jsx)(g.iP,{onTap:l,rounding:4,children:(0,f.jsx)(Q.default,{attributionOption:"hide",blockClickEvents:!0,pin:t,pinId:t.id,pinImageCrop:"none",saveButtonOptions:{type:"none"},selectionState:s?"selected-image-only":"deselected-image-only",surface:"SectionSuggestedPins",trackingParameters:{slotIndex:e}})})}const te=(0,i.memo)((function({sectionSuggestion:e,showSpinner:t}){const n=(0,l.ZP)(),r=(0,i.useRef)(),o=(0,x.Z)({name:"BatchP2PResource",options:{clientType:"84",page_size:10,pinIds:e.pins.map((e=>e.id))},noCache:!0});return(0,f.jsxs)(i.Fragment,{children:[(0,f.jsx)(g.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,f.jsx)(g.$j,{accessibilityLabel:n._("Loading pins","save.pin-to-board.PinToBoard.SectionSuggestions.SectionPinsSelection","Accessibility label on a loading spinner"),show:t&&o.isFetching})}),o.data&&(0,f.jsx)(g.xu,{paddingY:4,paddingX:8,children:(0,f.jsx)(g.X6,{align:"start",size:"sm",children:e.name})}),(0,f.jsx)(g.xu,{ref:r,children:o.data&&r&&r.current&&(0,f.jsx)(g.Rk,{columnWidth:152,comp:({data:t,itemIdx:n})=>(0,f.jsx)(ee,{index:n,pin:t,sectionName:e.name}),gutterWidth:16,items:o.data||[],loadItems:()=>{},scrollContainer:()=>r.current})})]})}),((e,t)=>e.sectionSuggestion.id===t.sectionSuggestion.id));function ne({canSubmit:e,handleClose:t,handleSubmit:n,sectionSuggestions:r}){const o=(0,l.ZP)();(0,i.useEffect)((()=>{const e=[];r.forEach((t=>e.push(t.name))),(0,O.j)(13,{suggested_section_names_viewed:e,view:1,viewParameter:3461})}),[r]);return(0,f.jsx)(i.Fragment,{children:(0,f.jsxs)(g.xu,{width:"100%",children:[(0,f.jsx)(g.xu,{minHeight:"100%",marginBottom:12,width:"100%",children:r.map(((e,t)=>(0,f.jsx)(g.xu,{marginBottom:4,children:(0,f.jsx)(te,{sectionSuggestion:e,showSpinner:0===t})},e.name)))}),(0,f.jsx)(g.xu,{borderStyle:"shadow",dangerouslySetInlineStyle:{__style:{position:"sticky"}},bottom:!0,color:"white",display:"flex",justifyContent:"end",padding:4,width:720,children:(0,f.jsx)(g.zx,{color:e?"red":"gray",size:"lg",text:e?o._("Next","save.pin-to-board.PinToBoard.SectionPinsWrapper","Button to submit form selections"):o._("Skip","save.pin-to-board.PinToBoard.SectionPinsWrapper","Button to submit form selections"),onClick:()=>{e?n():t()}})})]})})}function ie({handleClose:e,handleSubmit:t,suggestions:n}){const r=(0,l.ZP)(),[o,s]=(0,i.useState)({}),a=!!Object.keys(o).length;return(0,f.jsxs)(g.xu,{children:[(0,f.jsx)(g.xu,{display:"flex",alignItems:"center",dangerouslySetInlineStyle:{__style:{height:"calc(100% - 88px)"}},children:(0,f.jsx)(g.xu,{display:"flex",wrap:!0,height:360,paddingX:6,children:n.map((e=>(0,f.jsx)(g.xu,{paddingX:1,height:160,children:(0,f.jsx)(g.iP,{onTap:()=>{const t={...o};t[e.name]?delete t[e.name]:t[e.name]=e,s(t)},rounding:6,children:(0,f.jsx)(g.xu,{rounding:7,dangerouslySetInlineStyle:{__style:{border:o[e.name]?"2px solid #111":"2px solid white",padding:"2px"}},children:(0,f.jsxs)(g.xu,{height:160,width:152,position:"relative",rounding:6,children:[(0,f.jsx)(g.zd,{rounding:6,height:160,width:152,children:(0,f.jsx)(g.Ee,{alt:e.name,fit:"cover",naturalHeight:e.images["236x"].height,naturalWidth:e.images["236x"].width,src:e.images["236x"].url})}),(0,f.jsx)(g.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0, 0, 0, 0.3)"}},display:"flex",height:160,justifyContent:"center",left:!0,paddingX:5,position:"absolute",rounding:6,top:!0,width:152,children:(0,f.jsx)(g.X6,{align:"center",color:"white",size:"sm",children:e.name})})]})})})},e.name)))})}),(0,f.jsx)(g.xu,{display:"flex",width:"100%",justifyContent:"end",padding:5,children:(0,f.jsx)(g.zx,{color:a?"red":"gray",size:"lg",text:a?r._("Next","save.pin-to-board.SectionSuggestionPicker","Button to submit form selections"):r._("Skip","save.pin-to-board.SectionSuggestionPicker","Button to submit form selections"),onClick:()=>{a?t(Object.values(o)):e()}})})]})}var re=n(881220),oe=n(921797),se=n(449127),ae=n(855168),le=n(475446);const ce=(0,i.createContext)();function de(e,t){const{sectionName:n,pinId:i}=t.payload,r=[...e[n]||[]];switch(t.type){case"select":return{...e,[n]:[...r,i]};case"unselect":const t=r.indexOf(i);if(r.splice(t,1),!r.length){const t={...e};return delete t[n],t}return{...e,[n]:r};default:throw new Error("Unsupported action received by PinSelectionReducer")}}function ue({board:e,handleClose:t,setModalTitle:n,suggestions:r,viewer:s}){const a=(0,l.ZP)(),[c,d]=(0,i.useState)("sections"),[u,p]=(0,i.useState)([]),[h,m]=(0,i.useState)([]),[g,_]=(0,i.useReducer)(de,{}),{showOneToast:x}=(0,le.F9)(),b=(0,o.useDispatch)(),v=(0,ae.k6)(),y=(0,i.useRef)(null);(0,i.useEffect)((()=>()=>{y.current&&clearTimeout(y.current)}),[]),(0,i.useEffect)((()=>{const e=[];r.forEach((t=>e.push(t.name))),m(e)}),[r]);const w=()=>{(0,O.j)(101,{component:20,view:52})},E=()=>{t(),x((({onHide:t})=>{var n;return(0,f.jsx)(re.Z,{duration:me,onHide:t,text:(0,oe.L)(a,e.name),href:e.url,imageUrl:null!==(n=e.image_cover_url)&&void 0!==n?n:"",onClick:w})})),(0,O.j)(101,{element:1150,view:1,viewParameter:3460,suggested_section_names:h})};return{sections:(0,f.jsx)(ie,{handleClose:E,handleSubmit:e=>{p(e),d("pins"),n&&((0,se.EO)({user:s})?n(a._("Great! Now pick a few ideas to add to your board's new section.","save.pin-to-board.PinToBoard.SectionSuggestions.SectionSuggestionContainerNewUser","Modal title for choosing ideas for a new board")):n(a._("Great! Now pick some ideas to start off with.","save.pin-to-board.PinToBoard.SectionSuggestions.SectionSuggestionContainer","Modal title for choosing ideas for a new board")));const t=[];e.forEach((e=>t.push(e.name))),(0,O.j)(101,{element:96,suggested_section_names_selected:t,suggested_section_names_viewed:h,view:1,viewParameter:3460})},suggestions:r}),pins:(0,f.jsx)(ce.Provider,{value:_,children:(0,f.jsx)(ne,{canSubmit:!!Object.keys(g).length,handleClose:E,handleSubmit:()=>{let t=0;d("saving"),n&&n(null);const i=u.reduce(((e,t)=>(e[t.name]=null,e)),{});let r=0;const o=[];Object.entries({...i,...g}).forEach((([n,i])=>{r+=Array.isArray(i)&&i.length,o.push({[n]:i}),b((0,X.Z)({boardId:e.id,initialPinIds:i,name:n},a)).then((()=>{t+=1,t===u.length&&(y.current=setTimeout((()=>{var t;v.push(null!==(t=e.url)&&void 0!==t?t:"")}),1500),(0,O.j)(101,{element:76,number_pins_selected:r,number_sections_selected:u.length,selected_pin_ids:JSON.stringify(o),suggested_section_names:h,view:1,viewParameter:3460}))}))}))},sectionSuggestions:u})}),saving:(0,f.jsx)(J,{})}[c]}var pe=n(254821);function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const me=4e3,ge={LOADING:"loading",SUCCESS:"success"};class fe extends i.PureComponent{constructor(...e){super(...e),he(this,"state",{isFlyoutOpen:!1,isSavingPin:!1,newBoard:null}),he(this,"pinImageRef",(0,i.createRef)()),he(this,"unmounted",!1),he(this,"handleSavePinToBoard",((e,t,n)=>{const{handleSaveToBoard:i,sectionSuggestions:r,setModalTitle:o,viewer:s}=this.props;i(e,t,n),n&&(this.setState({isSavingPin:!0,newBoard:e}),r&&r.length>0&&o&&((0,se.EO)({user:s})?o(this.props.i18n._("You can keep your boards organized with sections. Try adding a section to your new board now!","save.pin-to-board.PinToBoard.SectionPickerModalTitleNewUser","Modal title for selection recommended sections for a new board")):o(this.props.i18n._("Let's build out your new board! What topics will it include?","save.pin-to-board.PinToBoard.SectionPickerModalTitle","Modal title for selection recommended sections for a new board"))))})),he(this,"handleToggleFlyout",(()=>this.setState({isFlyoutOpen:!this.state.isFlyoutOpen}))),he(this,"safeSetState",((e,t)=>{this.unmounted?t&&t():this.setState(e,t)})),he(this,"close",(()=>{const{isFlyoutOpen:e}=this.state,{handleAbort:t}=this.props;e||t()})),he(this,"dismissModal",(e=>{const{dismissModal:t}=this.props;t&&t()}))}componentWillUnmount(){this.unmounted=!0}render(){const{boardSavedTo:e,boardWithSection:t,color:n,displaySuccessAnimation:o,handleNewBoardAnimationCompletion:s,handleSocialConnectSet:a,isInModal:l,newPin:c,pin:d,preselectedCollaborators:u,onBoardCreated:p,sectionSuggestions:h,sensitiveContentNotice:m,setModalTitle:_,showCreate:x,shouldRenderContent:b,suggestedBoardTitle:v,updateDescription:y,viewer:w}=this.props;if(!d||!d&&!d.resourceLoaded||!b)return null;const{isSavingPin:E,newBoard:S}=this.state;if(x&&t){var I;const{url:e,width:n,height:i}=(null===(I=d.images)||void 0===I?void 0:I["236x"])||{};return(0,f.jsx)(K,{board:t,url:e,height:i,width:n,onClose:this.close,completeCreateSectionAction:this.handleSavePinToBoard})}let C=null;c&&c.board&&(C=c.board.name);const T=m&&m.title||this.props.modalTitle,P=m?(0,f.jsx)(pe.Z,{inModal:!0,notices:[m]}):(0,f.jsx)(g.kC,{alignItems:"stretch",height:"calc(90vh - 97px)",justifyContent:"center",maxHeight:"703px",width:"100%",children:E&&S&&h&&h.length>0?(0,f.jsx)(ue,{board:S,handleClose:this.close,setModalTitle:_,suggestions:h,viewer:w}):(0,f.jsxs)(i.Fragment,{children:[(0,f.jsxs)(g.xu,{color:"white",display:"flex",height:"100%",overflow:"hidden",position:"relative",rounding:2,width:"100%",children:[(0,f.jsxs)(g.kC,{alignItems:"stretch",direction:"column",justifyContent:"between",width:"40%",children:[(0,f.jsx)(g.xu,{alignItems:"center",direction:"column",display:"flex",flex:"grow",justifyContent:"start",marginTop:3,children:(0,f.jsx)(U.Z,{color:n,pin:d,pinImageRef:this.pinImageRef,updateDescription:y})}),(0,f.jsx)(Y,{onSocialConnect:a})]}),(0,f.jsx)(g.kC,{alignItems:"stretch",width:"60%",children:(0,f.jsx)(L,{boardSavedTo:e,boardWithSection:t,isRepin:!0,onBoardCreated:p,onBoardSave:this.handleSavePinToBoard,onClose:this.close,onToggleFlyout:this.handleToggleFlyout,pinId:d.id,preselectedCollaborators:u,setModalTitle:l?_:void 0,showCreate:x,suggestedBoardTitle:v})})]}),o&&(0,f.jsx)(r.Z,{onDismiss:()=>{s(),this.dismissModal()},pin:d,pinImageRef:this.pinImageRef,selectedBoardName:C})]})});return l?(0,f.jsx)(M.Z,{accessibilityModalLabel:T||this.props.i18n._("Repin modal","save.pin-to-board.PinToBoard.PinToBoard","Accessibility label on modal"),heading:T,onDismiss:this.close,size:"md",children:P}):P}}he(fe,"defaultProps",{pwtAuxData:{}});const _e=function(e){const t=(0,l.ZP)(),n=(0,R.ZP)();return(0,f.jsx)(fe,{...e,i18n:t,viewer:n})}},921797:(e,t,n)=>{n.d(t,{L:()=>a});var i=n(667294),r=(n(631739),n(925265)),o=n(883119),s=n(785893);const a=(e,t,n)=>n?(0,r.Z)(e._("Saved to {{sectionName}} in {{boardName}}","Toast for successfully saving to a section within a board","Toast for successfully saving to a section within a board"),{sectionName:n.title,boardName:null!=t?t:""}):(0,s.jsxs)(i.Fragment,{children:[(0,s.jsx)(o.xv,{children:e._("Saved to")}),(0,s.jsx)(o.xv,{weight:"bold",children:t})]})},824820:(e,t,n)=>{n.d(t,{Z:()=>g});var i=n(667294),r=n(40142),o=n(631739),s=n(34411),a=n(273341),l=n(204748),c=n(174523),d=n(946753),u=n(164756),p=n(997993),h=n(785893);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){class t extends i.Component{constructor(...e){super(...e),m(this,"state",{createBoardError:null,inputName:this.props.prefilledName||"",nameValidators:[(0,p.aH)({message:this.props.i18n._("Don't forget to name your board!")}),(0,p.Gy)({max:o.Z.MAX_CHARS_FOR_BOARD_TITLE,maxErrorString:(0,d.nk)(this.props.i18n._("Please enter no more than {{ maxLength }} characters.","Validation error when a user input is too long","Validation error when a user input is too long"),{maxLength:o.Z.MAX_CHARS_FOR_BOARD_TITLE}).join("")})],nameValidatorErrors:[],privacy:this.props.isAdAccountOwner?o.Z.BoardPrivacy.PUBLIC:o.Z.BoardPrivacy.PROTECTED,saving:!1}),m(this,"invalidateResource",(e=>{const{dispatch:t,viewer:n}=this.props;t((0,l.jB)("BoardsResource",(0,a.Sd)(n.isAuth?n.username:"",e===o.Z.BoardPrivacy.SECRET)))})),m(this,"createBoard",(e=>{const{dispatch:t,viewer:n}=this.props,i=n.isAuth?n.username:"";return t((0,u.aX)(e,{isFBC:n.isAuth&&0===n.boardCount},i))})),m(this,"handleChangeName",((e,t)=>{const n=(0,p.FU)(this.state.nameValidators,e);this.setState({inputName:e,nameValidatorErrors:n,createBoardError:null},(()=>{t&&this.handleCreate()}))})),m(this,"handleChangePrivacy",(()=>{const e=this.state.privacy===o.Z.BoardPrivacy.SECRET?o.Z.BoardPrivacy.PUBLIC:o.Z.BoardPrivacy.SECRET;this.setState({privacy:e})})),m(this,"handleCreate",(()=>{const{inputName:e,privacy:t}=this.state,{isAdAccountOwner:n,onCreate:i,advertiser_id:r}=this.props,o={privacy:t,name:e,...!n&&r?{advertiser_id:r}:{}};this.setState({saving:!0,createBoardError:null}),this.createBoard(o).then((e=>{this.setState({saving:!1}),i(e)})).catch((e=>{let t=this.props.i18n._("Uh oh! Something went wrong.");if("string"==typeof e)t=e;else if(e.message){const{message:n,message_detail:i}=e;t=i?`${n} ${i}`:n}this.setState({saving:!1,createBoardError:t})})),this.invalidateResource(t)}))}render(){return(0,h.jsx)(e,{onBoardCreate:this.handleCreate,onChangeBoardName:this.handleChangeName,onChangeBoardPrivacy:this.handleChangePrivacy,...this.props,...this.state})}}return m(t,"displayName",`WithBoardCreatePane(${e.displayName||e.name})`),function(e){const n=(0,c.ZP)(),i=(0,r.useSelector)((({advertiser:e})=>e)),o=(0,r.useDispatch)(),a=(0,s.ZP)(),l=!i||a.isAuth&&i.owner_user_id===a.id,d=i&&i.id;return(0,h.jsx)(t,{...e,i18n:n,viewer:a,isAdAccountOwner:l,advertiser_id:null!=d?d:void 0,dispatch:o})}}},237574:(e,t,n)=>{n.d(t,{d:()=>i});const i={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",TODAY_ARTICLE:"today_article",SEARCH:"search"}},432921:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(519045),r=n(174523),o=n(883119),s=n(785893);function a({duration:e}){const t=(0,r.ZP)();return(0,s.jsxs)(o.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:24,justifyContent:"center",paddingX:2,rounding:"pill",children:[(0,s.jsx)(o.JO,{accessibilityLabel:t._("Video camera icon","Video camera indicator icon for a Pin","Video camera indicator icon for a Pin"),color:"white",icon:"video-camera"}),(0,s.jsx)(o.xu,{marginStart:1,children:(0,s.jsx)(o.xv,{color:"white",size:"sm",lineClamp:1,children:(0,i.Z)(e)})})]})}},28745:(e,t,n)=>{function i(e){const t=e.videos&&e.videos.video_list&&Object.keys(e.videos.video_list).length>0?e.videos.video_list:null;return t?t.V_HLSV3_MOBILE||t.V_HLSV4||t.V_720P:null}n.d(t,{Z:()=>i})},756169:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(302199),r=n(585967),o=n(785893);const s=({currency:e,maximumFractionDigits:t,minimumFractionDigits:n,shortform:s,shortformMaximumFractionDigits:a,formatStyle:l,uplimit:c,value:d})=>{const u=(0,i.Z)();return(0,o.jsx)(r.LC,{children:i=>u(i.locale||"en-US",d,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:n,shortform:s,shortform_maximum_fraction_digits:a,style:l,uplimit:c})})}},326149:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(975151),r=n(785893);const o=e=>{const{accessibilityLabel:t,children:n,className:o,dataTestId:s,onClick:a,onMouseEnter:l,onMouseLeave:c,style:d}=e;return(0,r.jsx)(i.Z,{children:({active:e,focused:i,hovered:u,onBlur:p,onFocus:h,onMouseDown:m,onMouseEnter:g,onMouseLeave:f,onMouseUp:_})=>(0,r.jsx)("button",{"data-test-id":s,"aria-label":t,style:d,onBlur:p,onFocus:h,onMouseDown:m,onMouseEnter:e=>{g(),l&&l(e)},onMouseLeave:e=>{f(),c&&c(e)},onMouseUp:_,onClick:a,className:o,children:n({active:e,focused:i,hovered:u})})})}},975151:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(8742);function r({children:e}){return e((0,i.Z)())}},455006:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),r=n(539484),o=n(883119),s=n(268648),a=n(785893);const l=(0,i.forwardRef)(((e,t)=>{const{accessibilityLabel:n,children:i,forceTarget:l,hoverStyle:c,href:d,id:u,inline:p,onBlur:h,onClick:m,onFocus:g,rel:f,target:_}=e,x=(0,r.Z)({url:d});return(0,a.jsx)(s.p,{href:d,target:!l&&x?null:_,children:({handleClick:e})=>(0,a.jsx)(o.rU,{accessibilityLabel:n,hoverStyle:c,href:d,id:u,inline:p,onBlur:h,onClick:({event:t,dangerouslyDisableOnNavigation:n})=>{n(),null==m||m({event:t}),e({event:t})},onFocus:g,ref:t,rel:x?"nofollow":f,target:l?_:null,children:i})})}));l.displayName="Link";const c=l},805803:(e,t,n)=>{n.d(t,{le:()=>o,Yy:()=>r});var i=n(584489);const r=e=>i.Z.instance.dispatch(function(e){return{type:"SPAMMY_CLICKTHROUGH_WARNING_SHOW",payload:e}}(e)),o=()=>i.Z.instance.dispatch({type:"SPAMMY_CLICKTHROUGH_WARNING_DISMISS"})},174571:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),r=n(539484),o=n(268648),s=n(883119),a=n(785893);const l=(0,i.forwardRef)(((e,t)=>{const{accessibilityLabel:n,children:i,disabled:l,fullHeight:c,fullWidth:d,href:u,onTap:p,onBlur:h,onFocus:m,onMouseEnter:g,onMouseLeave:f,mouseCursor:_,rounding:x,tabIndex:b,tapStyle:v,target:y}=e,w=(0,r.Z)({url:u});return(0,a.jsx)(o.p,{href:u,target:w?null:y,children:({handleClick:e})=>(0,a.jsx)(s.iP,{accessibilityLabel:n,disabled:l,href:u,fullHeight:c,fullWidth:d,mouseCursor:_,onTap:({event:t,dangerouslyDisableOnNavigation:n})=>{n(),null==p||p({event:t}),e({event:t})},onBlur:h,onFocus:m,onMouseEnter:g,onMouseLeave:f,ref:t,rel:w?"nofollow":void 0,role:"link",rounding:x,tabIndex:b,tapStyle:v,children:i})})}));l.displayName="TapAreaLink";const c=l},475446:(e,t,n)=>{n.d(t,{Zo:()=>r,F9:()=>s,Cl:()=>a});var i=n(762803);const{Provider:r,Consumer:o,useHook:s,HOC:a}=(0,i._D)("toastManagerContext")},52620:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),r=n(883119),o=n(785893);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const a={__path:"M8.134 8.116a1.25 1.25 0 0 0-1.768 0L4.25 10.232 2.134 8.116A1.25 1.25 0 0 0 .366 9.884L2.483 12 .366 14.116a1.25 1.25 0 0 0 1.768 1.768l2.116-2.117 2.116 2.117a1.248 1.248 0 0 0 1.768 0 1.25 1.25 0 0 0 0-1.768L6.018 12l2.116-2.116a1.25 1.25 0 0 0 0-1.768M24 8v8a2.5 2.5 0 0 1-2.5 2.5h-8A2.5 2.5 0 0 1 11 16V8a2.5 2.5 0 0 1 2.5-2.5h8A2.5 2.5 0 0 1 24 8"};class l extends i.PureComponent{constructor(...e){super(...e),s(this,"state",{hovered:!1}),s(this,"handleMouseEnter",(()=>this.setState({hovered:!0}))),s(this,"handleMouseLeave",(()=>this.setState({hovered:!1})))}render(){const{bold:e,icon:t,text:n,description:i,descriptionColor:s="darkGray",compact:l}=this.props,c=Array.isArray(n)?n.join(""):n;return(0,o.jsx)(r.xu,{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:(0,o.jsxs)(r.xu,{alignItems:"start",color:this.state.hovered?"lightGray":"transparent",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,overflow:"hidden",paddingX:4,paddingY:2,title:c,children:[!l&&t&&(0,o.jsx)(r.xu,{alignSelf:"center",flex:"none",padding:1,children:"unfollow"===t?(0,o.jsx)(r.JO,{accessibilityLabel:"",color:"darkGray",dangerouslySetSvgPath:a,size:16}):(0,o.jsx)(r.JO,{accessibilityLabel:"",color:"darkGray",icon:t,size:16})}),(0,o.jsxs)(r.xu,{alignItems:l?"center":"start",direction:l?"row":"column",display:"flex",flex:"grow",padding:1,width:"100%",children:[(0,o.jsx)(r.xv,{color:"darkGray",size:l?"sm":"md",weight:e?"bold":"normal",children:n}),(0,o.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:!l&&i&&(0,o.jsx)(r.xu,{marginBottom:2,marginTop:1,children:(0,o.jsx)(r.xv,{color:s,overflow:"normal",size:"sm",children:i})})})]})]})})}}s(l,"defaultProps",{bold:!0})},32529:(e,t,n)=>{n.d(t,{LX:()=>i,jt:()=>r,D8:()=>o,Dm:()=>s,_L:()=>a,Sg:()=>l,Sp:()=>c});const i=e=>({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:{value:e}});function r(e){const{currentTime:t,isPromoted:n,pinId:i}=e;return{type:"SET_CURRENT_VIDEO",payload:{pinId:i,isPromoted:n,currentTime:t}}}function o(e){return{type:"SET_IS_AUTOPLAY",payload:{isAutoplay:e}}}function s(e){const{currentTime:t,isPromoted:n,pinId:i}=e;return{type:"PAUSE_CURRENT_VIDEO",payload:{currentTime:t,pinId:i,isPromoted:n}}}function a(e){return{type:"SET_APP_FOCUS_STATE",payload:{appInFocus:e}}}function l(e){return{type:"SET_VIEWPORT_SIZE",payload:{viewportSize:e}}}function c(e){return{type:"SET_FOOTER_VISIBILITY_STATE",payload:{footerPlusButtonVisible:e}}}},163880:(e,t,n)=>{n.d(t,{OA:()=>s,pS:()=>a,q1:()=>l,Jn:()=>c,Cf:()=>d,xx:()=>u});var i=n(454690),r=n(311866);const o="collaborator_approve_invite";function s(e,t){return r.ZP.create("BoardEmailInviteResource",{board_id:e,emails:t}).callCreate()}function a(e,t){return r.ZP.create("BoardInviteResource",{board_id:e,invited_user_ids:t}).callCreate()}function l(e,t){return n=>r.ZP.create("BoardInviteResource",{board_id:e,invited_user_id:t}).callUpdate().then((()=>{i.Z.trackEvent(o,"success")})).catch((()=>i.Z.trackEvent(o,"error")))}function c(e,t,n){return t=>{const{invited_user:i,status:o,board:{id:s}}=e;return r.ZP.create("accepted"===o?"BoardCollaboratorResource":"BoardInviteResource",{ban:n,board_id:s,field_set_key:"boardEdit",invited_user_id:i.id}).callDelete({showError:!1})}}function d(e,t){return async n=>{await r.ZP.create("ApiResource",{url:`/v3/boards/${e}/collaborators/requests/ownership/`,data:{collaborator:t}}).callCreate(),n(function(e,t){return{type:"BOARD_OWNERSHIP_TRANSFER_REQUEST",payload:{boardId:e,collaboratorId:t}}}(e,t))}}function u(e,t){return async n=>{await r.ZP.create("ApiResource",{url:`/v3/boards/${e}/collaborators/requests/ownership/`,data:{collaborator:t}}).callDelete(),n(function(e){return{type:"BOARD_OWNERSHIP_TRANSFER_REQUEST_CANCEL",payload:{boardId:e}}}(e))}}},108301:(e,t,n)=>{n.d(t,{Z:()=>a,f:()=>l});var i=n(454690),r=n(311866);function o(e){return r.ZP.create("BoardFollowResource",{board_id:e})}function s(e,t){return{type:"BOARD_FOLLOW",payload:{boardId:e,value:t}}}function a(e){const t="board-follow";return n=>{o(e).callCreate().then((()=>{i.Z.trackEvent(t,"success")})).catch((()=>{i.Z.trackEvent(t,"error"),n(s(e,!1))})),n(s(e,!0))}}function l(e){const t="board-unfollow";return n=>{o(e).callDelete().then((()=>{i.Z.trackEvent(t,"success")})).catch((()=>{i.Z.trackEvent(t,"error"),n(s(e,!0))})),n(s(e,!1))}}},40197:(e,t,n)=>{n.d(t,{oG:()=>r,xQ:()=>o,Br:()=>s,A8:()=>a,Cr:()=>l,ZP:()=>c});var i=n(204748);const r=(e,t)=>n=>n((0,i.d5)("BoardResource",{board_id:e,field_set_key:t})),o=e=>r(e,"pin_count"),s=e=>({type:"BOARD_PIN_COUNT_CHANGED",payload:e}),a=e=>({type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e}}),l=(e,t)=>({type:"BOARD_COVER_IMAGE_UPDATED",payload:{boardId:e,coverPin:t}}),c=e=>({type:"BOARD_DISABLE_MORE_IDEAS_BADGING",payload:{boardId:e}})},164756:(e,t,n)=>{n.d(t,{Tq:()=>m,oL:()=>g,K8:()=>f,aX:()=>_,yT:()=>x,wN:()=>b,L1:()=>y,Ss:()=>w,xk:()=>E,YV:()=>S,xH:()=>I,Fi:()=>C});var i=n(454690),r=n(711349),o=(n(731164),n(311866)),s=n(153155),a=n(613330),l=n(273341),c=n(101691),d=n(204748);const u="board_create",p="board_delete",h="board_edit";function m(e,t){return(0,d.d5)("BoardResource",{board_id:e,field_set_key:t})}function g(e={},t,n){return{type:"BOARD_CREATE_COMPLETE",payload:{options:e,board:t},error:n}}function f(e){return t=>{e&&(0,l.Q2)(e).forEach((e=>{t(e)}))}}function _(e,t,n){const r={...e};return a=>(a({type:"BOARD_CREATE",payload:{board:e}}),o.ZP.create("BoardResource",r).callCreate().then((e=>{i.Z.trackEvent(u,"success");const o=e.resource_response.data;return o&&(a(f(n)),null!=t&&t.isFBC||a(g(r,o)),a((0,s.Y)(o.owner.id))),o})).catch((e=>{throw i.Z.trackEvent(u,"error"),e})))}function x(e={},t,n){return{type:"BOARD_UPDATE_COMPLETE",payload:{options:e,board:t},error:n}}function b(e,t){return n=>{const r=void 0===e.collaborator_requests_enabled||null===e.collaborator_requests_enabled?{}:{collaborator_requests_enabled:e.collaborator_requests_enabled},s={board_id:e.id,name:e.name,description:e.description,category:e.category,collaborator_permissions_setting:e.collaborator_permissions_setting,privacy:e.privacy,collab_board_email:e.collab_board_email,collaborator_invites_enabled:e.collaborator_invites_enabled,allow_homefeed_recommendations:e.allow_homefeed_recommendations,...t?{orbac_subject_id:t}:Object.freeze({}),...r};return n({type:"BOARD_UPDATE",payload:{boardUpdateOptions:s}}),o.ZP.create("BoardResource",s).callUpdate().then((t=>{i.Z.trackEvent(h,"success");const r=t&&t.resource_response&&t.resource_response.data||e;n(x(s,r))})).catch((e=>{throw i.Z.trackEvent(h,"error"),e}))}}function v(e,t){return{type:"BOARD_DELETE_COMPLETE",payload:{boardId:e},error:t}}function y(e,t){return(n,r)=>{var s;const a=r().boards.content[e],{pin_count:l}=a,{id:d=""}=null!==(s=a.owner)&&void 0!==s?s:{};return n({type:"BOARD_DELETE",payload:{boardId:e}}),o.ZP.create("BoardResource",{board_id:e,...t?{orbac_subject_id:t}:Object.freeze({})}).callDelete().then((()=>{i.Z.trackEvent(p,"error"),n(v(e)),n((0,c.JS)({userId:d,increment:"number"==typeof l?-l:0}))})).catch((e=>{throw i.Z.trackEvent(p,"error"),e}))}}function w(e){return{type:"BOARD_PIN_TO",payload:{board:e}}}function E(e){return t=>(t(function(e){return{type:"BOARD_ARCHIVED",payload:{boardId:e}}}(e)),o.ZP.create("BoardArchiveResource",{boardId:e}).callUpdate())}function S(e){return t=>(t(function(e){return{type:"BOARD_UNARCHIVED",payload:{boardId:e}}}(e)),o.ZP.create("BoardArchiveResource",{boardId:e}).callDelete())}function I(e,t){return n=>o.ZP.create("BoardsMergeResource",{source_board_id:e,target_board_id:t}).callUpdate().then((()=>Promise.all([n(v(e)),n(m(t,"pin_count")),n((0,r.Z)(a.DV.BOARD_SECTIONS,t))])))}function C(e){return{type:"BOARD_DISMISS_SENSITIVITY_SCREEN",payload:{boardId:e}}}},752430:(e,t,n)=>{function i(e){return{type:"EXPERIENCE_FETCH_ALL",payload:{isFetchingAll:!0,targeting:e}}}function r(e){return{type:"EXPERIENCE_FETCH_ALL_COMPLETE",payload:{eligibleExperiences:e,isFetchingAll:!1}}}function o(){return{type:"EXPERIENCE_FETCH_ALL_MULTI",payload:{isFetchingAllMulti:!0}}}function s(e){return{type:"EXPERIENCE_FETCH_ALL_MULTI_COMPLETE",payload:{experiencesMulti:e}}}function a(e,t={},n){return{type:"EXPERIENCE_FETCH",payload:{extraContext:t,placementId:e,targeting:n}}}function l(e,t,n={}){return{type:"EXPERIENCE_FETCH_COMPLETE",payload:{eligibleExperiences:e,extraContext:n,placementId:t}}}function c(e,t){return{type:"PLACEMENT_EXPERIMENTS_TRIGGER",payload:{placementId:e,extraContext:t}}}function d(e,t,n=!1,i){return{type:"EXPERIENCE_VIEWED",payload:{placementId:e,experienceId:t,isBackendExperience:n,targeting:i}}}function u(e,t,n=!1,i=!1,r={},o=!1,s){return{type:"EXPERIENCE_COMPLETED",payload:{placementId:e,experienceId:t,preventRemoval:n,isBackendExperience:i,extraContext:r,completeOnUnmount:o,targeting:s}}}function p(e,t,n=!1,i=!1,r){return{type:"EXPERIENCE_DISMISSED",payload:{placementId:e,experienceId:t,preventRemoval:n,isBackendExperience:i,targeting:r}}}function h(e,t){return{type:"EXPERIENCE_REMOVE",payload:{placementId:e,experienceId:t}}}function m(e,t={},n){return{type:"PLACEMENT_MOUNT",payload:{placementId:e,extraContext:t,targeting:n}}}function g(e){return{type:"PLACEMENT_UNMOUNT",payload:{placementId:e}}}function f(e){return{type:"SAVE_TARGETING",payload:{targeting:e}}}n.d(t,{JT:()=>i,Yh:()=>r,Kd:()=>o,qI:()=>s,zN:()=>a,vr:()=>l,qb:()=>c,Uk:()=>d,V_:()=>u,WG:()=>p,ru:()=>h,Ky:()=>m,jE:()=>g,$8:()=>f})},711349:(e,t,n)=>{function i(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}n.d(t,{Z:()=>i})},578429:(e,t,n)=>{function i(e){return{type:"FEED_ITEMS_ADDED",payload:e}}n.d(t,{Z:()=>i})},411221:(e,t,n)=>{function i(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}n.d(t,{Z:()=>i})},39332:(e,t,n)=>{function i(e){return{type:"SHOW_REPIN_ANIMATION",payload:{pinId:e}}}function r(){return{type:"HIDE_REPIN_ANIMATION"}}function o(){return{type:"SHOW_ACCOUNT_MENU_FLYOUT"}}function s(){return{type:"HIDE_ACCOUNT_MENU_FLYOUT"}}n.d(t,{WF:()=>i,a5:()=>r,Og:()=>o,TK:()=>s})},742979:(e,t,n)=>{n.d(t,{Z:()=>g,S:()=>m});var i=n(646942),r=n(711349),o=n(578429),s=n(411221),a=n(311866),l=n(164756),c=n(613330),d=n(627578);const u=e=>t=>{d.Z.showError(function(e,t){switch(e.api_error_code){case 2171:case 2172:case 2173:return t._("Please wait until the previous board action finishes.");default:return e.message}}(t,e))},p=e=>(0,r.Z)(e.sectionId?c.DV.SECTION_PINS:c.DV.BOARD_PINS,e.sectionId||e.boardId);function h(e,t){const{source:n,target:r}=e;r.boardId!==n.boardId?(t((0,l.Tq)(n.boardId,"pin_count")),t((0,l.Tq)(r.boardId,"pin_count"))):n.sectionId&&r.sectionId||t((0,l.Tq)(r.boardId,"pin_count")),n.sectionId&&t((0,i.Z)(n.sectionId)),r.sectionId&&t((0,i.Z)(r.sectionId))}function m(e){return t=>{const{selectedPinIds:n,source:i,target:r}=e;t((0,s.Z)({feedId:i.sectionId||i.boardId,feedType:i.sectionId?c.DV.SECTION_PINS:c.DV.BOARD_PINS,itemIds:n,itemType:"pin"})),t((0,o.Z)({feedId:r.sectionId||r.boardId,feedType:r.sectionId?c.DV.SECTION_PINS:c.DV.BOARD_PINS,itemIds:n,itemType:"pin"})),h(e,t)}}function g(e,t){return n=>function(e,t,n){const{inverseSelection:i,selectedPinIds:r,source:l,target:d}=e;if(l.boardId===d.boardId&&(l.sectionId||null)===(d.sectionId||null))return Promise.reject();if(i){const e={board_id:l.boardId,new_board_id:d.boardId,old_section_id:l.sectionId||void 0,new_section_id:d.sectionId||void 0,pin_ids:r};return a.ZP.create("BulkEditSelectAllResource",e).callUpdate({showError:!1}).then((()=>Promise.all([t(p(l)),t(p(d))]))).catch(u(n))}{const e=(e,n)=>{t((0,s.Z)({feedId:e.sectionId||e.boardId,feedType:e.sectionId?c.DV.SECTION_PINS:c.DV.BOARD_PINS,itemIds:r,itemType:"pin"})),t((0,o.Z)({feedId:n.sectionId||n.boardId,feedType:n.sectionId?c.DV.SECTION_PINS:c.DV.BOARD_PINS,itemIds:r,itemType:"pin"}))};e(l,d);const i=()=>e(d,l);if(d.boardId===l.boardId){if(d.sectionId){const e={section_id:d.sectionId,pins:r};return a.ZP.create("BoardSectionEditResource",e).callUpdate({showError:!1}).catch((e=>{i(),u(n)(e)}))}{const e={section_id:l.sectionId,pins:r};return a.ZP.create("BoardSectionPinsResource",e).callDelete({showError:!1}).catch((e=>{i(),u(n)(e)}))}}{const e={board_id:d.boardId,section_id:d.sectionId||void 0,pin_ids:r};return a.ZP.create("BulkEditResource",e).callUpdate({showError:!1}).catch((e=>{i(),u(n)(e)}))}}}(e,n,t).then((()=>h(e,n)))}},679867:(e,t,n)=>{function i(e,t,n,i,r){return{type:"PIN_SAVE",payload:{pinId:e,boardId:t,title:n,url:i,localPinId:r}}}function r(e){return{type:"PIN_UNSAVE",payload:{pinId:e}}}n.d(t,{U:()=>i,G:()=>r})},6582:(e,t,n)=>{function i({id:e,isProduct:t,isPromoted:n,videoDuration:i,viewParameter:r,viewType:o,type:s}){return{type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:t,isPromoted:n,videoDuration:i,viewParameter:r,viewType:o,type:s}}}function r(){return{type:"REPORT_CONTENT_DISMISS"}}n.d(t,{c:()=>i,O:()=>r})},204748:(e,t,n)=>{function i(e,t={}){return{type:"RESOURCE_INVALIDATE",payload:{resource:e,options:t}}}function r(e,t={},n={}){return{type:"RESOURCE_FETCH",payload:{resource:e,options:t,headers:n}}}function o(e,t={},n={}){return{type:"RESOURCE_FETCH_MORE",payload:{resource:e,options:t,headers:n}}}function s(e,t={}){return{type:"RESOURCE_FETCH_CREATE",payload:{resource:e,options:t}}}n.d(t,{jB:()=>i,d5:()=>r,b:()=>o,l5:()=>s})},234316:(e,t,n)=>{n.d(t,{h:()=>d,Z:()=>u});var i=n(711349),r=n(578429),o=n(742979),s=n(311866),a=n(164756),l=n(613330),c=n(204748);function d(e,t){return{type:"SECTION_ADDED",payload:{boardId:e,section:t}}}function u({boardId:e,name:t,nameSource:n,pinImport:u,initialPinIds:p=[]},h,m){let g=0;"RECOMMENDATION"===n?g=1:"EDITED_RECOMMENDATION"===n&&(g=2);const f={board_id:e,initial_pins:u&&!u.all?u.pinIds:p,name:t,name_source:g,...m?{orbac_subject_id:m}:Object.freeze({})};return t=>s.ZP.create("BoardSectionResource",f).callCreate({showError:!1}).then((({resource_response:{data:n}})=>{t(d(e,n)),t((0,r.Z)({feedId:e,feedType:l.DV.BOARD_SECTIONS,itemIds:[n.id],itemType:"board_section"})),t((0,a.Tq)(e,"pin_count")),t((0,c.jB)("BoardSectionsRepinResource",{board_id:e}));const{all:s,pinIds:p}=u||{all:!1,pinIds:[]};return s?new Promise(((i,r)=>t((0,o.Z)({inverseSelection:!0,selectedPinIds:p,source:{boardId:e,sectionId:null},target:{boardId:e,sectionId:n.id}},h)).then((()=>i(n))).catch(r))):(p.length>0&&t((0,i.Z)(l.DV.BOARD_PINS,e)),n)}))}},646942:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(204748);function r(e,t){return n=>n((0,i.d5)("BoardSectionResource",{field_set_key:t||"board_page",section_id:e}))}},920763:(e,t,n)=>{n.d(t,{F:()=>i,j:()=>r});const i={USER_FOLLOW:"USER_FOLLOW"},r={USER_BLOCK:"USER_BLOCK"}},289605:(e,t,n)=>{n.d(t,{ZN:()=>a,yA:()=>l,fv:()=>c,KF:()=>d});var i=n(311866),r=n(920763);function o(e,t){return i.ZP.create("UserFollowResource",{user_id:e,aux_data:t?{pin_id:t}:void 0})}function s(e,t){return{type:r.F.USER_FOLLOW,payload:{id:e,value:t}}}function a(e,t=null){return n=>{o(e,t).callCreate().catch((()=>n(s(e,!1)))),n(s(e,!0))}}function l(e,t=null){return async n=>{n(s(e,!0)),await o(e,t).callCreate().catch((t=>{throw n(s(e,!1)),t}))}}function c(e,t=null){return n=>{o(e,t).callDelete().catch((()=>n(s(e,!0)))),n(s(e,!1))}}function d(e,t=null){return async n=>{n(s(e,!1)),await o(e,t).callDelete().catch((t=>{throw n(s(e,!0)),t}))}}},101691:(e,t,n)=>{function i(e){return{type:"UPDATE_USER_PIN_COUNT",payload:e}}function r(e){return{type:"UPDATE_USER_FOLLOWING_COUNT",payload:e}}function o(e){return{type:"UPDATE_USER_SCHEDULED_PIN_COUNT",payload:e}}function s(e,t){return{type:"UPDATE_USER_SOCIAL_NETWORK",payload:{socialNetworkName:e,connected:t}}}n.d(t,{JS:()=>i,hY:()=>r,h6:()=>o,V6:()=>s,fm:()=>a,GT:()=>l,hT:()=>c});const a=e=>({type:"USER_DOMAIN_VERIFIED",payload:{verifiedWebsite:e}}),l=e=>({type:"USER_DOMAIN_UNVERIFIED",payload:{verifiedWebsite:e}});function c(e){return{type:"UPDATE_HAS_QUICKSAVE_BOARD",payload:{createdQuicksaveBoard:e}}}},613330:(e,t,n)=>{n.d(t,{DV:()=>a,zX:()=>d,ZP:()=>u});var i=n(317461),r=n(527082),o=n(881219),s=n(447715);const a={AGGREGATED_COMMENTS:"aggregatedComments",BOARD_ACTIVITYITEMS:"boardActivityItems",BOARD_ACTIVITYCOMMENTS:"boardActivityComments",BOARD_PINS:"boardPins",BOARDLESS_PINS:"boardlessPins",BOARD_SECTIONS:"boardSections",CALL_TO_CREATE_RESPONSES_FEED:"callToCreateResponsesFeed",CREATED_TAB_STORY_PINS_FEED:"createdTabStoryPinsFeed",CREATED_TAB_ACTIVITY_PINS_FEED:"createdTabActivityPinsFeed",HOMEFEED_MORE_IDEAS_TABS:"homefeedMoreIdeasTabs",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",SECTION_PINS:"sectionPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unifiedComments",USER_DID_IT_DATA:"userDidItData"},l={ApiResource:({options:e})=>null!=e&&e.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?{type:a.CALL_TO_CREATE_RESPONSES_FEED,id:e.pin_id}:null,AggregatedActivityFeedResource:({options:{aggregated_pin_data_id:e}})=>({type:a.USER_DID_IT_DATA,id:e}),AggregatedCommentFeedResource:({options:{objectId:e}})=>({type:a.AGGREGATED_COMMENTS,id:e}),AggregatedCommentReplyFeedResource:({options:{objectId:e}})=>({type:a.AGGREGATED_COMMENTS,id:e,reversed:!0}),BoardActivityFeedResource:({options:{board_id:e}})=>({type:a.BOARD_ACTIVITYITEMS,id:e}),BoardActivityCommentFeedResource:({options:{activityId:e,parentType:t}})=>({type:a.BOARD_ACTIVITYCOMMENTS,id:e,reversed:"boardactivitycomment"===t}),BoardFeedResource:({options:{board_id:e}})=>({type:a.BOARD_PINS,id:e}),BoardlessPinsResource:({options:{userId:e}})=>({type:a.BOARDLESS_PINS,id:e}),BoardSectionPinsResource:({options:{section_id:e}})=>({type:a.SECTION_PINS,id:e}),BoardSectionsResource:({options:{board_id:e}})=>({type:a.BOARD_SECTIONS,id:e}),BoardsResource:({options:{username:e,sort:t}})=>({type:a.PROFILE_BOARDS,id:(0,o.OV)(e,t)}),BaseSearchResource:({options:{auto_correction_disabled:e,appliedProductFilters:t,scope:n,filters:o,query_pin_sigs:s,query:l,user:c},response:d})=>{var u;return{type:a.SEARCH_PINS,id:(0,r.Tb)({appliedProductFilters:t,autoCorrectionDisabled:e,filters:o,query:l,selectedPinImgSig:s,scope:n,user:c}),items:null!==(u=d.resource_response.data)&&void 0!==u&&u.results?(0,i.LM)(d.resource_response.data.results).filteredResults:[]}},DidItCommentsResource:({options:{objectId:e}})=>({type:a.AGGREGATED_COMMENTS,id:e,reversed:!0}),DidItUserFeedResource:({options:{username:e}})=>({type:a.USER_DID_IT_DATA,id:e}),IdeasHubTodayArticlesResource:({options:{interest_id:e}})=>({type:a.TODAY_TAB,id:e}),MoreIdeasTabsResource:({response:e})=>{var t;return{type:a.HOMEFEED_MORE_IDEAS_TABS,id:"hf",items:(null===(t=e.resource_response.data)||void 0===t?void 0:t.tabs)||[]}},RelatedArticlesResource:({options:{article_id:e}})=>({type:a.TODAY_TAB,id:e}),StoryPinDraftsResource:({options:{userId:e}})=>({type:a.STORY_PIN_DATA,id:e}),TodayTabInterestFeedResource:({options:{interest_id:e}})=>({type:a.TODAY_ARTICLE_INTEREST_FEED,id:e}),TodayTabResource:()=>({type:a.TODAY_TAB,id:"todayTab"}),UnifiedCommentsPreviewResource:({options:{aggregated_pin_id:e}})=>({type:a.UNIFIED_COMMENTS,id:e}),UnifiedCommentsResource:({options:{aggregated_pin_id:e}})=>({type:a.UNIFIED_COMMENTS,id:e,reversed:!0}),UserActivityPinsResource:({options:{user_id:e}})=>({type:a.CREATED_TAB_ACTIVITY_PINS_FEED,id:e}),UserStoryPinsFeedResource:({response:e,options:{user_id:t}})=>({type:a.CREATED_TAB_STORY_PINS_FEED,id:t,items:e.resource_response.data||[]})},c={aggregatedComments:{},boardActivityItems:{},boardActivityComments:{},boardlessPins:{},boardPins:{},boardSections:{},callToCreateResponsesFeed:{},createdTabStoryPinsFeed:{},createdTabActivityPinsFeed:{},homefeedMoreIdeasTabs:{},profileBoards:{},searchPins:{},sectionPins:{},storyPinData:{},todayArticleInterestFeed:{},todayTabFeed:{},unifiedComments:{},userDidItData:{}};function d(e,t,n){const i=[...e],r=i.splice(t,1)[0];return i.splice(n,0,r),i}const u=(e=c,t)=>{switch(t.type){case s.z:case s.a:{const{payload:n}=t,i=n.response.resource_response.data;if(!n.options.redux_normalize_feed)return e;const r=l[n.resource](n);if(r){const{type:n,id:o,items:l,reversed:c}=r;let d=(l||i||[]).map((e=>((e,t)=>{switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return t===a.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"boardactivity":return{id:e.id,type:"boardactivity"};case"boardactivitycomment":return{id:e.id,type:"boardactivitycomment"};case"board_section":return{type:"board_section",id:e.id};case"userdiditdata":return{type:"userdiditdata",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"userdiditdata",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:return{type:"pin",id:e.id}}})(e,n)));c&&(d=d.reverse());const u=e[n][o];if(u||t.type!==s.a){const i=u||[];let r=d;return t.type===s.a&&(r=c?d.concat(i):i.concat(d)),{...e,[n]:{...e[n],[o]:r}}}}break}case"FEED_ITEM_REORDERED":{const{payload:{feedType:n,feedId:i,itemType:r,targetItemId:o,sourceItemId:s}}=t,l=e[n]||{},c=l[i]||[];let u=-1,p=-1;if([a.BOARD_PINS,a.SECTION_PINS,a.BOARD_SECTIONS,"profileBoards"].includes(n)&&(u=c.findIndex((e=>e.type===r&&e.id===s)),p=c.findIndex((e=>e.type===r&&e.id===o))),-1!==u&&-1!==p)return{...e,[n]:{...l,[i]:d(c,u,p)}};break}case"FEED_ITEMS_REMOVED":{const{payload:{feedType:n,feedId:i,inverseSelection:r,itemType:o,itemIds:s=[]}}=t,l=e[n]||{},c=l[i];if(c&&c.length>0&&(n===a.SECTION_PINS||n===a.BOARD_PINS)){const t=c.filter((e=>{const t=s.includes(e.id);return!(e.type===o&&(r&&!t||!r&&t))})),a=!!t.find((e=>"pin"===e.type));return{...e,[n]:{...l,[i]:a?t:[]}}}if(c&&c.length>0&&n===a.BOARD_SECTIONS){const t=c.filter((e=>{const t=s.includes(e.id);return!(e.type===o&&t)}));return{...e,[n]:{...l,[i]:t}}}if(c&&c.length>0&&(n===a.BOARD_ACTIVITYITEMS||n===a.AGGREGATED_COMMENTS||n===a.BOARD_ACTIVITYCOMMENTS||n===a.BOARDLESS_PINS||n===a.UNIFIED_COMMENTS||n===a.USER_DID_IT_DATA||n===a.STORY_PIN_DATA)){const t=c.filter((e=>{const t=s.includes(e.id);return!(e.type===o&&t)}));return{...e,[n]:{...l,[i]:t}}}break}case"FEED_ITEMS_ADDED":{const{payload:{feedType:n,feedId:i,itemType:r,itemIds:o=[],prepend:s}}=t,l=e[n]||{},c=l[i];if(c&&(n===a.SECTION_PINS||n===a.BOARD_PINS||n===a.BOARDLESS_PINS)){const t=o.map((e=>({id:e,type:r})));let s=0;"story"===(c[0]||{}).type&&(s=1),"story"===(c[1]||{}).type&&(s=2);const a=[...c.slice(0,s),...t,...c.slice(s)];return{...e,[n]:{...l,[i]:a}}}if(c&&n===a.BOARD_SECTIONS){const t=[...o].reverse().map((e=>({id:e,type:"board_section"}))),r=c?[...t,...c]:[...t];return{...e,[n]:{...l,[i]:r}}}if(n===a.BOARD_ACTIVITYITEMS||n===a.AGGREGATED_COMMENTS||n===a.BOARD_ACTIVITYCOMMENTS||n===a.UNIFIED_COMMENTS){const t=o.map((e=>({id:e,type:r}))),a=c?[...s?t:c,...s?c:t]:t;return{...e,[n]:{...l,[i]:a}}}if(n===a.USER_DID_IT_DATA){const t=o.map((e=>({id:e,type:r}))),s=c?[...t,...c]:t;return{...e,[n]:{...e[n],[i]:s}}}break}case"FEED_INVALIDATE":{const{payload:{feedType:n,feedId:i}}=t,r=e[n]||{};if(r[i])return{...e,[n]:{...r,[i]:null}};break}}return e}},881219:(e,t,n)=>{n.d(t,{OV:()=>i,M0:()=>r,$k:()=>o});const i=(e,t)=>`${e}:${t||""}`,r=(e,t)=>e.feeds.profileBoards[i(t.username,t.boardOrder)],o=(e,t)=>t.isOverview||t.inActivityView?"xxWide":t.isOwnProfile&&e.ui.views&&e.ui.views.profileBoardView||"wide"},549156:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(883119),r=n(785893);function o(e){const{children:t,display:n,id:o}=e;return(0,r.jsx)(i.xu,{"data-test-id":o,display:n,children:t})}},799881:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(296882),r=n(641483);function o(e,t){if(t&&!(()=>{try{return window.localStorage.test=2,!1}catch(e){return!0}})()){const t=window.open(e,"_blank");return t&&(t.opener=null),t}{const t=(0,i.Z)(e);return setTimeout((()=>{(0,r.ZP)("setting_new_window_location")}),0),window.location.href=t,window}}},589444:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(657121),r=n(444488);function o(e,t){const n=(0,i.Z)({pin:e}),{shouldUnifyImageSizes:o}=t||{};return n&&n.additional_images&&n.additional_images.length>0?(0,r.Z)(e.images,n,e.carousel_data&&e.carousel_data.index,o):e&&e.carousel_data}},444488:(e,t,n)=>{n.d(t,{Z:()=>s});const i=["236x","474x","564x","736x"];function r(e){function t(e,{imageKey:t,height:n,width:i}){return e.images&&e.images[t]&&(e={...e,images:{...e.images,[t]:{...e.images[t],height:n,width:i}}}),e}const n=i.map((function(t){const n=Math.min(...e.map((e=>e.images&&e.images[t]&&e.images[t].height||1/0))),i=Math.min(...e.map((e=>e.images&&e.images[t]&&e.images[t].width||1/0)));return{imageKey:t,height:n,width:i}}));return e.map((e=>n.reduce(t,e)))}function o(e,t){return e.concat([{images:t&&t.canonical_images,image_signature:t&&t.image_signature}])}function s(e,t,n,i=!0){const s=[{images:e}],a=t&&t.additional_images,l=(null!=a?a:[]).reduce(o,s);return{carousel_slots:i?r(l):l,index:n||0,id:t.id}}},762803:(e,t,n)=>{n.d(t,{ZP:()=>s,_D:()=>a,js:()=>l});var i=n(667294),r=n(785893);function o(e,t){let n=e.slice(1);if(n=n.endsWith("Context")?n:`${n}Context`,t){return{hocDisplayName:`with${e[0].toUpperCase()}${n}(${t})`}}return{propsDisplayName:`${e[0].toLowerCase()}${n}`,messageDisplayName:`${e[0].toUpperCase()}${n}`}}function s(e,t){const n=(0,i.createContext)(t),{messageDisplayName:r}=o(e);n.displayName=r;const s=n.Provider,a=({children:e})=>{const t=(0,i.useContext)(n);if(void 0===t)throw new Error(`${r}Consumer must be used within a ${r}Provider.`);return e(t)};return s.displayName=`${r}Provider`,a.displayName=`${r}Consumer`,{Provider:s,Consumer:a,useHook:function(){const e=(0,i.useContext)(n);if(void 0===e)throw new Error(`use${r} must be used within a ${r}Provider.`);return e}}}function a(e){const t=(0,i.createContext)(),{propsDisplayName:n,messageDisplayName:s}=o(e);t.displayName=s;const a=t.Provider;function l(a){const{hocDisplayName:l}=o(e,String(a.displayName||a.name)),c=e=>{const o=(0,i.useContext)(t);if(void 0===o)throw new Error(`${l} must be used within a ${s}Provider.`);if(e[n])throw new Error("Parent Component and Context are passing to the component the same variables.");const c={[n]:o};return(0,r.jsx)(a,{...e,...c})};return c.displayName=l,c}const c=({children:e})=>{const n=(0,i.useContext)(t);if(void 0===n)throw new Error(`${s}Consumer must be used within a ${s}Provider.`);return e(n)};return l.displayName=`${s}HOC`,a.displayName=`${s}Provider`,c.displayName=`${s}Consumer`,{Provider:a,Consumer:c,useHook:function(){const e=(0,i.useContext)(t);if(void 0===e)throw new Error(`use${s} must be used within a ${s}Provider.`);return e},HOC:l}}function l(e){const t=(0,i.createContext)(),{propsDisplayName:n,messageDisplayName:s}=o(e);t.displayName=s;const a=t.Provider;function l(s){const{hocDisplayName:a}=o(e,String(s.displayName||s.name)),l=e=>{const o=(0,i.useContext)(t),a={[n]:o};return(0,r.jsx)(s,{...e,...a})};return l.displayName=a,l}const c=t.Consumer;return l.displayName=`${s}HOC`,a.displayName=`${s}Provider`,{Provider:a,Consumer:c,useHook:()=>(0,i.useContext)(t),HOC:l}}},848101:(e,t,n)=>{n.d(t,{I7:()=>l,B$:()=>c,Cw:()=>s,c4:()=>a});var i=n(667294),r=n(762803);const o=(0,i.createContext)(null),s=()=>(0,i.useContext)(o),a=o.Provider,{Provider:l,useHook:c}=(0,r.ZP)("DesktopCoreLogin")},292900:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),r=n(731164),o=n(372833);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a extends i.Component{constructor(...e){super(...e),s(this,"state",{error:null,info:null}),s(this,"resetError",(()=>{this.setState({error:null,info:null})}))}componentDidCatch(e,t){try{const t=this.props.name,n=this.props.type||"secondary";(0,o.B)({errorBoundary:t,errorBoundaryType:n,message:e.message,name:e.name,stack:e.stack}),r.Z.increment("react.error_boundary",.1,{component:void 0,name:this.props.name})}catch(n){r.Z.increment("react.error_boundary.error",1,{name:this.props.name})}this.setState({error:e,info:t})}render(){const{renderErrorState:e}=this.props,{error:t,info:n}=this.state;return t&&n?e?e({error:t,info:n,resetError:this.resetError}):null:this.props.children}}},551687:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(292900).Z},514319:(e,t,n)=>{n.d(t,{Z:()=>a});var i=n(667294),r=n(883119),o=n(785893);function s({anchor:e,children:t,zIndex:n}){const s=(0,i.useRef)(null),[a,l]=(0,i.useState)(0),[c,d]=(0,i.useState)(0),{height:u,width:p}=e.getBoundingClientRect();return(0,i.useEffect)((()=>{const{current:t}=s;if(e&&t){const{height:e,width:n}=t.getBoundingClientRect(),{horizontalOffset:i,verticalOffset:r}=((e,t,n,i)=>({horizontalOffset:-(i/2-t/2),verticalOffset:-(n/2-e/2)}))(u,p,e,n);l(i),d(r)}}),[u,p,s.current]),(0,o.jsx)(r.xu,{position:"absolute",zIndex:n?new r.Ry(n):void 0,dangerouslySetInlineStyle:{__style:{left:a,top:c}},ref:s,children:t})}const a=function(e){const{anchor:t,onTouch:n,onMouseEnter:i,paused:a,size:l,zIndex:c}=e;return t?(0,o.jsx)(s,{anchor:t,zIndex:c,children:(0,o.jsx)(r.iP,{fullWidth:!1,onTap:({event:e})=>n(e),onMouseEnter:i,rounding:"circle",children:(0,o.jsx)(r.o3,{paused:a,size:l})})}):null}},151101:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(883119),r=n(785893);const o=(e,t)=>{const n=null==e?void 0:e.includes("images/user/default");return Boolean(n&&t)};function s({accessibilityLabel:e,name:t,outline:n,size:s,src:a,verified:l}){return(0,r.jsx)(i.qE,{accessibilityLabel:e,name:t,outline:n,size:s,src:o(a,t)?void 0:a,verified:l})}},451190:(e,t,n)=>{n.d(t,{b:()=>l,Z:()=>c});var i=n(667294),r=n(241933),o=n(51610),s=n(883119),a=n(785893);const l=new s.Ry(1e3);function c({_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,allowClickAndDrag:c,allowMediaPlay:d,allowScroll:u,children:p,closeOnOutsideClick:h,footer:m,heading:g,onDismiss:f,role:_,size:x,subHeading:b}){(0,i.useEffect)((()=>(r.ZP.pause(),function(){r.ZP.resume()})),[]);return(0,a.jsx)(s.mh,{zIndex:l,children:(0,a.jsx)(o.Z,{allowClickAndDrag:c,allowEsc:!0,allowMediaPlay:d,allowScroll:u,children:(0,a.jsx)(s.u_,{_dangerouslyDisableScrollBoundaryContainer:e,accessibilityModalLabel:t,align:n,closeOnOutsideClick:h,heading:g,footer:m,onDismiss:()=>{r.ZP.resume(),f()},role:_,size:x,subHeading:b,children:p})})})}},881220:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294),r=n(500953),o=n(181307),s=n(16539),a=n(883119),l=n(785893);function c({button:e,dataTestId:t,duration:n=2e3,href:c,iconThumbnail:d,imageUrl:u,onClick:p,onHide:h,openNewPage:m,text:g,thumbnailShape:f="square",variant:_="default"}){const[x,b]=(0,i.useState)(!1),[v,y]=(0,i.useState)(!1),w=(0,i.useRef)(),E=(0,o.tc)("web_toast_color_change_dark_gray")().anyEnabled,S=()=>{b(!0),w.current=setTimeout(h,s.V)},I=()=>{w.current&&clearTimeout(w.current)},C=()=>{w.current=setTimeout(S,n)};(0,r.Z)((()=>(setTimeout((()=>y(!0)),100),C(),I)));const T="string"==typeof g?g:`${g[0]} ${g[1]}`,P=u?(0,l.jsx)(a.xu,{height:48,overflow:"hidden",width:48,children:(0,l.jsx)(a.Ee,{alt:T,fit:"cover",naturalHeight:1,naturalWidth:1,src:u})}):void 0,j=(0,l.jsx)(a.FN,{button:e,text:g,thumbnail:null!=d?d:P,thumbnailShape:f,variant:_,_dangerouslyUseDarkGray:E});return(0,l.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:(0,s.Z)(v,x)},"data-test-id":null!=t?t:"toast",onMouseEnter:I,onMouseLeave:C,children:c?(0,l.jsx)("a",{href:c,onClick:p,target:m?"_blank":null,rel:m?"noopener noreferrer":null,children:j}):j})}},16539:(e,t,n)=>{n.d(t,{V:()=>i,Z:()=>r});const i=200,r=(e,t)=>({marginTop:10,opacity:0,position:"relative",transform:"translateY(200px)",transition:"opacity 0.1s ease-in-out",visibility:"hidden",...e?{opacity:1,transform:"translateY(0)",transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)",visibility:"visible"}:{},...e&&t?{opacity:0,transform:"scale(1.1)",transition:"opacity transform 0.2s"}:{}})},174523:(e,t,n)=>{n.d(t,{oz:()=>o,q6:()=>r,ZP:()=>a});var i=n(762803);const{Provider:r,Consumer:o,useHook:s}=(0,i.ZP)("i18n"),a=s},302199:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(174523);const r=(e,t)=>{const n=t||0,i=10**n,r=+(n?e*i:e).toFixed(8),o=Math.floor(r),s=r-o,a=s>.5-1e-8&&s<.5+1e-8?o%2==0?o:o+1:Math.round(r);return n?a/i:a},o=e=>{try{(0).toLocaleString([e])}catch(t){return!1}return!0};function s(){const e=(0,i.ZP)();return(t,n,i)=>{let s=0,a=0;const l=i&&i.style||void 0,c=i&&i.shortform||!1,d=i&&i.uplimit||void 0,u=i&&i.currency||void 0,p=!!d&&n>=d,h=d&&p?d:n;if("currency"===l?(s=void 0===i||void 0===i.maximum_fraction_digits?2:i.maximum_fraction_digits,a=void 0===i||void 0===i.minimum_fraction_digits?2:i.minimum_fraction_digits):(s=void 0===i||void 0===i.maximum_fraction_digits?0:i.maximum_fraction_digits,a=void 0===i||void 0===i.minimum_fraction_digits?0:i.minimum_fraction_digits),c&&h>999&&(s=void 0===i||void 0===i.shortform_maximum_fraction_digits?2:i.shortform_maximum_fraction_digits,a=0),s<a)return String(h);let m=h,g="";const f=[{"100M":{value:1e8,localeKey:e._("億","Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.","Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.")}},{"10k":{value:1e4,localeKey:e._("万","Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.","Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.")}}],_=[{b:{value:1e9,localeKey:e._("B","Abbreviation for one billion.","Abbreviation for one billion.")}},{m:{value:1e6,localeKey:e._("M","Abbreviation for one million.","Abbreviation for one million.")}},{k:{value:1e3,localeKey:e._("k","Abbreviation for one thousand.","Abbreviation for one thousand.")}}],x=/^zh|ja|ko/.test(t);if(c&&h>999){const e=x?f:_;for(let t=0;t<e.length;t+=1){const n=Object.keys(e[t])[0],i=e[t][n].value;if(h>=i){m=r(h/i*Math.pow(10,s))/Math.pow(10,s),g=e[t][n].localeKey;break}}}if(null==m)return"";return m.toLocaleString([o(t)&&"ar-SA"!==t?t:"en-US"],(({maximumFractionDigits:e,minimumFractionDigits:t,style:n,currency:i})=>{const r={maximumFractionDigits:e,minimumFractionDigits:t};return n?{...r,style:n,..."currency"===n?{currency:i,currencyDisplay:"symbol"}:{}}:r})({maximumFractionDigits:s,minimumFractionDigits:a,currency:u,style:l}))+g+(p?"+":"")}}},946753:(e,t,n)=>{function i(e,t,n){return e.split(n).map((e=>{if(e.match(n)){const n=e.replace(/[\{\}]/g,"").trim();if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}return e}))}n.d(t,{nk:()=>o,Wc:()=>s,bF:()=>l});const r=/(\{\{\s*\w+\s*\}\})/g;function o(e,t){return i(e,t,r)}function s(e,t){return i(e,t,r).join("")}const a=/(\{\s*\w+\s*\})/g;function l(e,t){return i(e,t,a)}},588527:(e,t,n)=>{n.d(t,{Z:()=>i});const i={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,F5:116,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}},741725:(e,t,n)=>{n.d(t,{nS:()=>_,iw:()=>b,gV:()=>g,G3:()=>v,lI:()=>y,Gj:()=>x,Jd:()=>m,$3:()=>f});var i=n(85038),r=n(799881),o=n(439887),s=n(238402),a=n(714762),l=n(195693),c=n(831251);var d=n(141618),u=n(805803),p=n(784655),h=n(515528);const m=()=>{window&&window.focus(),document.activeElement&&document.activeElement.blur()},g=({isOffsiteUrl:e,event:t})=>!e&&(t.metaKey||t.ctrlKey),f=({location:e,pin:t,surface:n})=>!(0,p.jL)(t)&&(({location:e,pinId:t,surface:n})=>{const i=Boolean(n),r=h.ZF.includes(n),o=e.pathname.includes(t);return i&&!r||o})({location:e,pinId:t.id,surface:n}),_=e=>{const t=Math.round(1e3*Math.random())+"",n=Math.round(1e3*Math.random())+"";i.t8(`offsite_${t}`,n);const r=`${t}-${n}`,{queryParams:o,url:a}=e;let l={token:r,url:a};if(!o){const{pinId:t,csrId:n,clientTrackingParams:i,auxData:r}=e;l={...l,pin:null!=t?t:void 0,csr:n&&!t?n:void 0,client_tracking_params:i,aux_data:r?JSON.stringify(r):void 0}}o&&(l={...l,...o});return`/offsite/?${(0,s.Z)(l)}`},x=e=>{(0,r.Z)(_(e),!0)},b=async({isMounted:e,pin:t,location:n,spamCheckCallback:i,href:r})=>{const s=await(0,c.Z)({check_only:!0,client_tracking_params:(0,o.ZP)(t,n),pin_id:null==t?void 0:t.id,url:r}).callGet({showError:!1});if(!s.resource_response.error&&e){const e=s.resource_response.data||{},{message:t,redirect_status:n,url:r}=e;i({blocked:["blocked","suspicious","porn"].includes(n),message:t,redirectStatus:n,sanitized_url:r})}},v=({event:e,onHistoryChange:t,href:n,history:i,target:o})=>{const s=(0,a.Z)(n);s===d.Z.TRUSTED_DIFFERENT_ORIGIN||"blank"===o?(0,r.Z)(n,"blank"===o):i&&s===d.Z.SAME_ORIGIN&&(i.push((0,l.Z)({url:n})),t&&t({event:e}))},y=({href:e,pinId:t,pin:n,location:i,auxData:r,spamCheck:s,queryParams:a})=>{"undefined"!=typeof window&&window.Windows?function({url:e,pinId:t,pin:n,location:i,auxData:r}){const s={check_only:!0,client_tracking_params:n?(0,o.ZP)(n,i):void 0,pin_id:n?n.id:t,url:e,aux_data:JSON.stringify(r)};(0,c.Z)(s).callGet().then((s=>{if(s&&s.resource_response&&!s.resource_response.error){const{resource_response:e}=s,{redirect_status:t,url:n}=e.data;if(!["blocked","suspicious","porn"].includes(t)){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){const e=new window.Windows.Foundation.Uri(n);window.Windows.System.Launcher.launchUriAsync(e)}return}}if(n){const s=(0,o.ZP)(n,i);x({url:e,pinId:t,csrId:null,clientTrackingParams:s,auxData:r})}else x({url:e,pinId:t})}))}({url:e,pinId:t,pin:n,location:i,auxData:r}):n?(({spamCheck:e,auxData:t,location:n,pin:i,pinId:r,href:s})=>{null!=e&&e.blocked?(0,u.Yy)(e):x({url:s,pinId:r,csrId:null,clientTrackingParams:(0,o.ZP)(i,n),auxData:t})})({spamCheck:s,auxData:r,location:i,pin:n,pinId:t,href:e}):x({url:e,pinId:t,queryParams:a})}},831251:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(311866);function r(e){return i.ZP.create("ApiResource",{url:"/v3/offsite/",data:e})}},268648:(e,t,n)=>{n.d(t,{Z:()=>a,p:()=>l});var i=n(667294),r=n(539484),o=n(741725),s=n(855168);function a(e){const{externalData:t,href:n,onHistoryChange:a,target:l}=e,[c,d]=(0,i.useState)(null),[u,p]=(0,i.useState)(!1),h=(0,s.k6)(),m=(0,s.TH)(),g=(0,r.Z)({url:n});return(0,i.useEffect)((()=>(p(!0),()=>{p(!1)})),[]),(0,i.useEffect)((()=>{g&&null!=t&&t.pin&&null===c&&(0,o.$3)({location:m,pin:t.pin,surface:t.surface})&&(0,o.iw)({isMounted:u,pin:t.pin,location:m,spamCheckCallback:e=>d(e),href:n})}),[t,n,g,u,m,c]),({event:e})=>{var i;(0,o.gV)({isOffsiteUrl:g,event:e})||(e.preventDefault(),n&&(g||null!=t&&t.dangerouslyForceOffsiteUrl?(0,o.lI)({auxData:null==t?void 0:t.auxData,href:n,pinId:null==t||null===(i=t.pin)||void 0===i?void 0:i.id,pin:null==t?void 0:t.pin,queryParams:null==t?void 0:t.queryParams,location:m,spamCheck:c}):(0,o.G3)({event:e,href:n,history:h,onHistoryChange:a,target:"blank"===l?"blank":null})))}}const l=({children:e,...t})=>e({handleClick:a(t)})},382745:(e,t,n)=>{n.d(t,{wy:()=>P,Qx:()=>re,bo:()=>N,AX:()=>p,Fy:()=>u,XE:()=>d,am:()=>s,pD:()=>h,OJ:()=>l,LO:()=>ie,Gl:()=>$,WN:()=>q,h3:()=>Y,PY:()=>x,Ni:()=>_,pV:()=>j,L6:()=>T,b0:()=>f,jC:()=>Z,O7:()=>X,LM:()=>B,OK:()=>I,mP:()=>b,C$:()=>v,J3:()=>O,dh:()=>oe,Xn:()=>y,l4:()=>C,b_:()=>V,J:()=>a,dZ:()=>c,re:()=>E,RU:()=>K,Ui:()=>m,KY:()=>g,fY:()=>ee,uM:()=>U,x7:()=>G,HV:()=>F,cD:()=>L,Pu:()=>z,En:()=>A,ej:()=>te,gf:()=>S,Dl:()=>H,mY:()=>J,kY:()=>ne,cY:()=>W,vF:()=>k,$Y:()=>D,Zz:()=>w,$V:()=>R,j8:()=>M,YW:()=>Q});const i=new RegExp(/^\/(?!(?:pin|categories|report|search|password|terms|discover|help|email|topics|explore|pw|login|signup|about|business|source|ideas|today))[\w\d\-]+\/(?!(?:following|followers|_tools|_created|_saved|tried))[\w\d\-]+(?=\/|$)/),r=["/BingSiteAuth.xml","/about","/add-account","/ads","/age_verification","/all","/apple-app-site-association","/apple-app-site-association.p7m","/bot.html","/boutique","/brand_catalog","/browserbutton","/buy-it","/careers","/categories","/close-account","/content-claiming","/convert-business","/convert-personal","/create-business","/create-linked-business","/create-personal","/csrf_error","/ct.html","/deactivate-account","/developers","/discover","/edit","/email_verification_error","/engagement","/explore","/favicon.ico","/fb.html","/following","/google_gdn.html","/google_search.html","/googlef5dc42d6e03f6e61.html","/guidedsearch","/help","/holidays-celebrations","/homefeed","/idea-pin-builder","/idea-pin-invite","/ideas","/inbox","/invited","/jobs","/live-session","/login","/login_redirect","/logout","/manifest.json","/manifest.webapp","/me","/messages","/mobile","/notifications","/oauth","/oembed.json","/offline.html","/offsite","/opensearch.xml","/parent_contact_info","/pin-builder","/pin-editor","/pin_catalog","/pin_redirect","/pinterest-wellbeing","/pinterestlens","/pinterestlenstryon","/pinterestwellbeing","/policy","/product-catalogs","/recently-viewed","/report","/robots.txt","/safe-redirect","/search","/settings","/signup","/socialmanager","/story-pin-builder","/story-pin-invite","/story_feed","/story_pins","/sw-shell.html","/sw.html","/sw.js","/switch_account","/terms","/today","/topics","/transparent.html","/unauth-profile","/unlink","/upload-image","/upload-profile-image","/verified","/verify","/web-mentorship","/welcome","/windows-app-web-link"];var o=n(855168);const s=e=>i.test(e.pathname),a=(e,t)=>{const{pathname:n}=e;return s(e)&&n.match(t||"?")},l=e=>{const{pathname:t}=e;return!!(0,o.LX)(t,{path:"/:username/:boardId/:boardSectionId",exact:!0})&&!t.match(/^\/.+\/.+\/(_tools)/i)},c=(e,t)=>{const{pathname:n}=e;return l(e)&&n.match(t||"?")},d=e=>!!(0,o.LX)(e.pathname,{path:"/board/:id/edit",exact:!0}),u=e=>!!(0,o.LX)(e.pathname,{path:"/board/:id/edit/collaborators",exact:!0}),p=e=>!!(0,o.LX)(e.pathname,{path:"/board/:id/edit/add_collaborators",exact:!0}),h=e=>!!(0,o.LX)(e.pathname,{path:"/boardsection/:id/edit",exact:!0}),m=e=>!!(0,o.LX)(e.pathname,{path:"/pin/:id/comments",exact:!0}),g=e=>!!(0,o.LX)(e.pathname,{path:"/pin/:id/edit",exact:!0}),f=e=>!!(0,o.LX)(e.pathname,{path:"/conversation/:id",exact:!0}),_=e=>e.pathname.startsWith("/business/"),x=e=>e.pathname.startsWith("/business/invite/"),b=e=>!!(0,o.LX)(e.pathname,{path:"/pin/:id/visual-search/",exact:!0}),v=e=>"/"===e.pathname,y=e=>e.pathname.startsWith("/login"),w=e=>!!(0,o.LX)(e.pathname,{path:"/today",exact:!0}),E=e=>e.pathname.startsWith("/password/reset")||!!(0,o.LX)(e.pathname,{path:"/pw/:username",exact:!0}),S=(e,t)=>t.pathname.startsWith("/signup")||!e&&v(t),I=e=>e.pathname.startsWith("/email/subscription"),C=e=>e.pathname.startsWith("/notifications/"),T=e=>!!(0,o.LX)(e.pathname,{path:"/pin/:id",exact:!0}),P=e=>T(e)&&void 0===e.state,j=e=>e.pathname.startsWith("/pin_redirect"),A=e=>e.pathname.startsWith("/search"),O=e=>e.pathname.startsWith("/ideas"),R=e=>e.pathname.startsWith("/topics"),D=e=>e.pathname.startsWith("/today/article/")||e.pathname.startsWith("/today/best/")||e.pathname.startsWith("/today/trending/"),k=e=>e.pathname.startsWith("/today/popular/"),N=e=>w(e)||D(e)||k(e),B=e=>/^\/discover\/article\/\S+\/?/i.test(e.pathname),Z=e=>e.pathname.startsWith("/pin/create/"),L=e=>!!(0,o.LX)(e.pathname,{path:"/:username/",exact:!0})&&!r.includes(e.pathname.replace(/\/$/,"")),M=e=>e.pathname.startsWith("/unauth-profile"),U=e=>e.pathname.startsWith("/pin/"),F=e=>e.pathname.startsWith("/places/recommender"),H=(e,t,n)=>{const i=e.pathname,{search:r}=e,s=new RegExp("invite_code"),a=!!(0,o.LX)(i,{path:"/pin/:id",exact:!1})&&(i.indexOf("/sent/")>=0||i.indexOf("/feedback/")>=0),l=t&&!!(0,o.LX)(i,{path:"/:username/:boardId",exact:!0})&&!i.match(/^\/(pin|categories|report|search|password|terms|discover|help|email|topics|explore|pw|login|signup)/)&&!i.match(/^\/.+\/(following|followers)/i)&&s.test(r),c=n&&!!(0,o.LX)(i,{path:"/:username/",exact:!0})&&s.test(r);return!!a||!!l||!!c},G=e=>e.pathname.indexOf("/repin/x")>=0,W=e=>e.pathname.startsWith("/_/storyboard"),V=e=>e.pathname.startsWith("/oauth"),z=e=>e.pathname.indexOf("/scheduled-pin/")>=0,$=e=>e.pathname.startsWith("/business/convert"),q=e=>e.pathname.startsWith("/business/create"),Y=e=>e.pathname.startsWith("/business/hub"),X=e=>e.pathname.startsWith("/pin-editor"),K=e=>e.pathname.startsWith("/pin-builder"),J=e=>e.pathname.startsWith("/story-pin-builder")||e.pathname.startsWith("/idea-pin-builder"),Q=e=>e.pathname.startsWith("/advertiser/quick-promote"),ee=e=>!!(0,o.LX)(e.pathname,{path:"/pin/:id",exact:!1})&&(e.pathname.indexOf("/sent/")>=0||e.pathname.indexOf("/feedback/")>=0),te=e=>e.pathname.startsWith("/settings"),ne=e=>e.pathname.startsWith("/story-pin-invite")||e.pathname.startsWith("/idea-pin-invite"),ie=e=>void 0!==e.pathname&&e.pathname.startsWith("/business/business-access/")&&e.pathname.indexOf("/dashboard/")>=0,re=e=>{var t;return(null===(t=e.match(/\amp(.*)/))||void 0===t?void 0:t[1])||""},oe=()=>{var e,t;return/instagram/i.test(null===(e=window)||void 0===e||null===(t=e.navigator)||void 0===t?void 0:t.userAgent)}},116955:(e,t,n)=>{n.d(t,{pH:()=>i,tz:()=>r,tL:()=>o,bd:()=>s,OW:()=>a,cZ:()=>l,dO:()=>c,aG:()=>d,_K:()=>u,lg:()=>p,hU:()=>h,oP:()=>m,nY:()=>g,iK:()=>f,nf:()=>_,RL:()=>x,V4:()=>b,yV:()=>v,Zn:()=>y,Bb:()=>w,xN:()=>E,E6:()=>S,an:()=>I,rm:()=>C,D4:()=>T,rM:()=>P,iZ:()=>j,$j:()=>A,Pv:()=>O,at:()=>R,Jt:()=>D,H9:()=>k,Cx:()=>N,qF:()=>B});const i=101,r=93,o=116,s=9,a=8,l=16,c=12,d=3,u=18,p=105,h=79,m=78,g=77,f=76,_=1402,x=85,b=82,v=88,y=1201,w=86,E=30,S=84,I=83,C=2901,T=2904,P=2905,j=95,A=19,O=113,R=91,D=2501,k=3050,N=[a,s],B=new Map([[1,"INVALID_PARAMETERS"],[100,"INVALID_NETWORK_ACCESS_TOKEN"],[p,"FACEBOOK_ACCOUNT_NOT_LINKED"],[c,"API_SERVER_ERROR"],[1202,"LOGIN_MFA_TOKEN_INVALID"],[1203,"MFA_CONNECTION_ERROR"],[13,"API_DOWN"],[181,"GPLUS_CONNECTION_ERROR"],[14,"API_SERVER_SPAM_CONTENT"],[l,"API_REQUEST_TIMEOUT"],[50,"API_ERROR_PIN_NOT_FOUND"],[g,"INVALID_PASSWORD_FB_USER"],[m,"INVALID_PASSWORD_ERROR_CODE"],[h,"INVALID_EMAIL_ERROR_CODE"],[80,"INVALID_EMAIL_OR_PASSWORD"],[b,"LOGIN_DEACTIVATED_USER"],[I,"LOGIN_POLICY_VIOLATION_USER"],[x,"AUTO_PASSWORD_RESET_ERROR_CODE"],[w,"LOGIN_PANICKED_USER"],[87,"LOGIN_SOFT_BANNED_USER"],[r,"API_ERROR_UNDERAGE_REGISTER_ATTEMPT"],[o,"API_ERROR_OVERAGE_REGISTER_ATTEMPT"],[99,"LOGIN_PASSWORD_NOT_CREATED"],[a,"API_LIMIT_EXCEEDED_ERROR"],[s,"API_EVENT_BLOCKED_ERROR"],[A,"USER_IN_SAFE_MODE"],[S,"LOGIN_VOLUNTARILY_DEACTIVATED_USER"],[x,"LOGIN_BAD_PASSWORD_ASK_RESET"],[y,"LOGIN_MFA_REQUIRED"],[E,"LOGIN_USER_NOT_FOUND"],[v,"LOGIN_HARD_BANNED_USER"],[429,"RESPONSE_CODE_TOO_MANY_REQUESTS"],[C,"SAR_DOWNLOAD_LIMIT"],[T,"SAR_EMAIL_UNVERIFIED"],[P,"SAR_EMAIL_MISSING"]])},384832:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>`//connect.facebook.net/${(e=>{const t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}})(e)}/sdk.js`},21755:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(667294),r=n(551687),o=n(785893);const s=(0,i.memo)((({activate:e=!0,activateExperiment:t,isEligible:n=!0,name:s,group:a,children:l})=>{(0,i.useEffect)((()=>{e&&n&&t&&t(s)}),[]);const c=a,d=`Experiment(${s}:${c})`,u=n&&c&&(c.startsWith("enabled")||c.startsWith("employee"))||!1,p={group:n?c:"",anyEnabled:u,customActivate:n&&!e?()=>n?t(s):"":null};return(0,o.jsx)(r.Z,{name:d,children:l(p)})}))},197801:(e,t,n)=>{n.d(t,{ux:()=>r,YV:()=>s});var i=n(762803);const{Provider:r,Consumer:o,useHook:s}=(0,i.ZP)("ExperimentContext")},181307:(e,t,n)=>{n.d(t,{tc:()=>o,aq:()=>s});var i=n(667294),r=n(197801);function o(e){const t=(0,r.YV)(),n=t.v2GetGroup(e)||"",o=function(e){return e.startsWith("enabled")||e.startsWith("employee")}(n),s=(e=>{const t=(0,i.useRef)(!1),n=(0,i.useRef)(!1);return(0,i.useEffect)((()=>{t.current=!0,n.current&&e()}),[]),()=>{t.current?e():n.current=!0}})((()=>{t.v2ActivateExperiment(e)}));return e=>(null!=e&&e.dangerouslySkipActivation||s(),{group:n,anyEnabled:o})}function s(e,t=!0){const n=o(e);return t?n():{group:"",anyEnabled:!1}}},670473:(e,t,n)=>{n.d(t,{ad:()=>a,MH:()=>l,iN:()=>c});var i=n(840059),r=n(169039);const{Provider:o,useHook:s}=(0,r.Z)({name:"board_picker",v2LoggerMetricName:16,sampleRate:i.DQ?1:.1}),a=(e,t)=>{let n="unknown";null!=t&&t.includes("pin/")?n="PinCloseup":"/"===t?n="HomeFeed":"PinBookMarklet"===t&&(n="PinBookmarklet"),null==e||e.addBinaryAnnotation("source",n,"STRING")},l=o,c=s},139848:(e,t,n)=>{n.d(t,{e:()=>o});const i=new Set(["bookmarks","client_tracking_params","get_page_metadata","in_nux","invite_code","no_fetch_context_on_resource","original_referrer","source","top_level_source","top_level_source_depth"]),r=e=>!i.has(e)&&!e.startsWith("__track__"),o=e=>e?Object.keys("object"==typeof e&&e||{}).filter((e=>"string"==typeof e)).filter(r).sort().map((t=>`${t}=${JSON.stringify(null==e[t]?null:e[t])}`)).join(","):""},447715:(e,t,n)=>{n.d(t,{z:()=>i,a:()=>r});const i="FETCH_COMPLETE",r="FETCH_MORE_COMPLETE"},827898:(e,t,n)=>{n.d(t,{Z:()=>l});var i=n(667294),r=n(40142),o=n(139848),s=n(855168);const a={};function l({dangerouslyDisableFetch:e,name:t,options:n}){const l=(0,r.useDispatch)(),c=(0,o.e)(n),d=(0,i.useRef)(),u=(0,i.useRef)(!!e),p=(0,s.k6)(),h=p&&"POP"!==p.action,m=e=>(e[t]||a)[c]||a,g=(0,r.useSelector)((({resources:e})=>m(e).nextBookmark)),f=(0,r.useSelector)((({resources:e})=>m(e).data)),_=(0,r.useSelector)((({resources:e})=>m(e).auxData)),x=(0,r.useSelector)((({resources:e})=>m(e).error)),b=(0,r.useSelector)((({resources:e})=>Boolean(m(e).fetching))),v=Boolean(f||x);return{auxData:_,data:f,dispatch:l,error:x,isAtEnd:v&&!b&&"-end-"===g,isFetching:b,isLoaded:v,isNotFirstOrRevisit:h,lastDangerouslyDisableFetch:u,lastOptionsKey:d,nextBookmark:g,optionsKey:c}}},979593:(e,t,n)=>{n.d(t,{V:()=>i});const i=e=>{const{thumbnail:t,url:n,width:i,height:r,duration:o}=e||{};return t&&n&&i&&r&&{thumbnail:t,url:n,width:i,height:r,duration:o}||void 0}},620813:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294),r=n(785893);function o({children:e,fallback:t,dangerouslyServerRenderForGraphQL:n=!1}){const o=t||null;return(0,r.jsx)(i.Suspense,{fallback:o,children:e})}},689859:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n(620813).Z},658551:(e,t,n)=>{n.d(t,{Jg:()=>o,ZP:()=>s,c5:()=>a});var i=n(731164);const r=.01,o=Object.freeze({OTHER:0,FACEBOOK:1,GPLUS_ONE:2,GSI:3});function s(e){return new Promise(((t,n)=>{if(document.querySelector(`script[src="${e}"]`))return void t();const i=document.createElement("script");i.src=e,i.async=!0,i.addEventListener("load",t),i.addEventListener("error",n),document.getElementsByTagName("head")[0].appendChild(i)}))}function a(e,t=o.OTHER,n=!1){const s=n?"web":"mweb";return new Promise(((n,a)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if(t===o.GPLUS_ONE)if(window.gapi)n();else{const t=setInterval((()=>{window.gapi||20===e?(clearInterval(t),n()):(e+=1,i.Z.increment(`${s}.loadScript.gplus_one.tries_${e}`,r))}),100)}else if(t===o.FACEBOOK)if(window.FB)n();else{const t=setInterval((()=>{window.FB||20===e?(clearInterval(t),n()):(e+=1,i.Z.increment(`${s}.loadScript.facebook.tries_${e}`,r))}),100)}else if(t===o.GSI)if(window.google)n();else{const t=setInterval((()=>{window.google||20===e?(clearInterval(t),n()):(e+=1,i.Z.increment(`${s}.loadScript.gsi.tries_${e}`,r))}),100)}else n()}else{const t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",n),t.addEventListener("error",a),document.getElementsByTagName("head")[0].appendChild(t)}}))}},203620:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(667294),r=n(68006);function o({allowSearchOnMount:e,children:t,onTypeaheadSuggestionsChange:n,resourceName:o,resourceOptions:s,value:a}){const l=(0,r.Z)({allowSearchOnMount:e,resourceName:o,resourceOptions:s,value:a});return(0,i.useEffect)((()=>{null!=l&&l.length&&n(l)}),[l]),t||null}},660310:(e,t,n)=>{n.d(t,{R3:()=>o,NO:()=>s,Jc:()=>a,th:()=>l,ge:()=>d});var i=n(238402);const r=["and","that","but","or","as","if","when","than","because","while","where","after","so","though","since","until","whether","before","although","nor","like","once","unless","now","except","the","a","an","san","for","in","with"],o={AUTO_COMPLETE_DEFAULT:"query",AUTO_COMPLETE_HASHTAG:"hashtag",AUTO_COMPLETE_RECENT_SEARCH:"recent_query",AUTO_COMPLETE_RECOMMENDED_SEARCH:"recommended_query",AUTO_COMPLETE_TRENDING:"trending",TYPO_AUTO_CORRECT_ORIGINAL:"typo_auto_original",USER_INPUT:"typed",SEARCH_GUIDE:"add_refine"};function s(e){return(e||"").trim().replace(/\s+/g," ")}function a({type:e,term:t="",index:n}){switch(e){case o.USER_INPUT:case o.AUTO_COMPLETE_HASHTAG:case o.TYPO_AUTO_CORRECT_ORIGINAL:return`${t}|${e}`;case o.AUTO_COMPLETE_DEFAULT:return`${t}|autocomplete|${n}`;case o.AUTO_COMPLETE_RECENT_SEARCH:return`${t}|recentsearch|${n}`;case o.AUTO_COMPLETE_TRENDING:return`${t}|trending|${n}`;case o.AUTO_COMPLETE_RECOMMENDED_SEARCH:return`${t}|recommended|${n}`;case o.SEARCH_GUIDE:return`${t}|guide|word|${n}`;default:return""}}function l({queryStates:e}){return 0===e.length?"":"&"+(0,i.Z)({term_meta:e.map((e=>a(e)))})}function c(e){if(e){const t=e.trim().split(/\s+/);return t.find((e=>r.includes(e.toLowerCase())))?[e]:t}return[]}function d({type:e,query:t="",index:n}){switch(e){case o.USER_INPUT:case o.AUTO_COMPLETE_HASHTAG:case o.TYPO_AUTO_CORRECT_ORIGINAL:return c(t).map((t=>({index:n,term:t,type:e})));case o.AUTO_COMPLETE_RECENT_SEARCH:case o.AUTO_COMPLETE_RECOMMENDED_SEARCH:case o.AUTO_COMPLETE_TRENDING:case o.AUTO_COMPLETE_DEFAULT:return c(t).map((t=>({term:t,type:e,index:n})));default:return[]}}},68006:(e,t,n)=>{n.d(t,{Z:()=>c});var i=n(667294);const r=function(e,t){this.uid=e,this.item=t,this.next=null,this.prev=null},o=function(e){this._maxNumItems=e||10,this._uidToData={},this._numItems=0,this._firstData=null,this._lastData=null};o.prototype.set=function(e,t){let n=this._uidToData[e];n||(n=new r(e,t),this._uidToData[e]=n,this._numItems+=1),this._moveToFront(n),this._numItems>this._maxNumItems&&this._evict()},o.prototype.get=function(e){const t=this._uidToData[e];return t?(this._moveToFront(t),t.item):null},o.prototype.remove=function(e){const t=this._uidToData[e];t&&(delete this._uidToData[e],this._firstData===t&&(this._firstData=t.next),this._lastData===t&&(this._lastData=t.prev),t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),this._numItems-=1)},o.prototype._moveToFront=function(e){this._firstData!==e&&(this._firstData?(this._lastData===e&&(this._lastData=e.prev),e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),this._firstData.prev=e,e.next=this._firstData,e.prev=null,this._firstData=e):(this._firstData=e,this._lastData=e))},o.prototype._evict=function(){delete this._uidToData[this._lastData.uid],this._firstData===this._lastData?(this._firstData=null,this._lastData=null):(this._lastData=this._lastData.prev,this._lastData.next=null),this._numItems-=1};const s=o;var a=n(311866);function l({resourceName:e,resourceOptions:t}){const n={...t,count:"count"in t?t.count:5},i=a.ZP.create(e,n),r=new s,o=()=>{i.abort()};return async function(e){const t=r.get(e);if(t){const n=t.items;if(n&&n.length){o();return{hint:t.hint,items:n,term:e}}}return e.length>=0?(async e=>{var t;if(i.isCalling()){var n;if(e===(null===(n=i.options)||void 0===n?void 0:n.term))return;o()}const{bookmarks:s,...a}=i.options||{};i.options={...a,term:e};const l=null===(t=(await i.callGet({showError:!1})).resource_response)||void 0===t?void 0:t.data,c=null==l?void 0:l.items,d=(null==l?void 0:l.hint)||{},u={hint:d,items:c};return r.set(e,u),{term:e,items:c,hint:d}})(e):{hint:{},items:[],term:e}}}function c({allowSearchOnMount:e=!1,resourceName:t,resourceOptions:n={},value:r}){const o=(0,i.useRef)(!1),s=(0,i.useRef)({}),[a,c]=(0,i.useState)([]),d=function({resourceName:e,resourceOptions:t}){const n=(0,i.useRef)();return n.current||(n.current=l({resourceName:e,resourceOptions:t})),n.current}({resourceName:t,resourceOptions:n});return(0,i.useEffect)((()=>{(async()=>{if(null!=r&&(e||o.current))if(r in s.current)c(s.current[r]);else try{const e=await d(r);if(e){const{items:t}=e;s.current[r]=t,c(t)}}catch(t){if("Resource call aborted"===t)return;throw t}o.current||(o.current=!0)})()}),[r]),a}},281996:(e,t,n)=>{n.d(t,{lw:()=>i,_R:()=>r,wF:()=>o});const i={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins"},r=e=>{switch(e){case i.PINS:return 43;case i.PINS_MINE:return 107;case i.PINS_BUYABLE:return 254;case i.PINS_VIDEO:return 3306;case i.BOARDS:return 44;case i.USERS:return 45;default:return null}},o=e=>{switch(e){case i.PINS:return 60;case i.PINS_MINE:return 63;case i.PINS_BUYABLE:return 3800;case i.PINS_VIDEO:return 64;case i.BOARDS:return 61;case i.USERS:return 62;default:return null}}},657121:(e,t,n)=>{function i({pin:e}){return(((e||{}).rich_metadata||{}).products||[])[0]||{}}n.d(t,{Z:()=>i})},51610:(e,t,n)=>{n.d(t,{U:()=>s,Z:()=>a});var i=n(588527),r=n(785893);const o=()=>{},s=e=>{e.stopPropagation(),e.nativeEvent&&e.nativeEvent.stopImmediatePropagation&&e.nativeEvent.stopImmediatePropagation()};function a({allowClickAndDrag:e,allowEsc:t,allowMediaPlay:n,allowScroll:a,children:l}){const c=e=>function(e,t){t&&e.keyCode===i.Z.ESCAPE||s(e)}(e,t);return(0,r.jsx)("div",{onAbort:s,onAnimationEnd:s,onAnimationIteration:s,onAnimationStart:s,onBlur:o,onCanPlay:n?o:s,onCanPlayThrough:s,onChange:s,onClick:e?o:s,onCompositionEnd:s,onCompositionStart:s,onCompositionUpdate:s,onContextMenu:s,onCopy:s,onCut:s,onDoubleClick:s,onDurationChange:s,onEmptied:s,onEncrypted:s,onEnded:s,onError:s,onFocus:o,onInput:s,onInvalid:s,onKeyDown:c,onKeyPress:c,onKeyUp:c,onLoad:s,onLoadedData:s,onLoadedMetadata:s,onLoadStart:s,onMouseDown:s,onMouseEnter:s,onMouseLeave:s,onMouseMove:e?o:s,onMouseOut:s,onMouseOver:s,onMouseUp:e?o:s,onPaste:s,onPause:s,onPlay:s,onPlaying:s,onProgress:s,onRateChange:s,onScroll:a?o:s,onSeeked:s,onSeeking:s,onSelect:s,onStalled:s,onSubmit:s,onSuspend:s,onTimeUpdate:s,onTouchCancel:s,onTouchEnd:e?o:s,onTouchMove:e?o:s,onTouchStart:e?o:s,onTransitionEnd:s,onVolumeChange:s,onWaiting:s,onWheel:s,children:l})}},903945:(e,t,n)=>{n.d(t,{qn:()=>i,L_:()=>r,Nh:()=>o});const i=(e,t=null)=>{try{return"undefined"!=typeof window&&window.localStorage.getItem(e)||t}catch(n){return console.error("Cannot access localStorage."),t}},r=e=>{try{if("undefined"==typeof window)return;window.localStorage.removeItem(e)}catch(t){console.error("Cannot access localStorage.")}},o=(e,t)=>{try{if("undefined"==typeof window)return;window.localStorage.setItem(e,t)}catch(n){console.error("Cannot access localStorage.")}}},652382:(e,t,n)=>{n.d(t,{qn:()=>i,L_:()=>r,Nh:()=>o});const i=(e,t)=>{if("undefined"==typeof window)return t;try{return window.sessionStorage.getItem(e)}catch(n){return window.console.error("Cannot access sessionStorage."),t}},r=e=>{if("undefined"!=typeof window)try{window.sessionStorage.removeItem(e)}catch(t){window.console.error("Cannot access sessionStorage.")}},o=(e,t)=>{if("undefined"!=typeof window)try{window.sessionStorage.setItem(e,t)}catch(n){window.console.error("Cannot access sessionStorage.")}}},925265:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(561077);const r=/\{\{\s*(\w+)\s*\}\}/g,o=(e,t)=>(0,i.Z)(r,e,t)},730060:(e,t,n)=>{n.d(t,{Z:()=>i});const i=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},561077:(e,t,n)=>{n.d(t,{Z:()=>i});const i=(e,t,n)=>t?t.replace(e,((e,t)=>n&&Object.prototype.hasOwnProperty.call(n,t)?n[t]:"")):""},754999:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(925265),r=n(730060);const o=(e,t)=>{const n={};return Object.keys(t).forEach((e=>{n[e]=t[e]?(0,r.Z)(t[e].toString()):""})),(0,i.Z)(e,n)}},354783:(e,t,n)=>{function i(e){return e.replace(/[_.-](\w|$)/g,((e,t)=>t.toUpperCase()))}n.d(t,{Z:()=>i})},280313:(e,t,n)=>{n.d(t,{z_:()=>i,a7:()=>r,Yq:()=>o,T7:()=>s,Yj:()=>c,pe:()=>d,xt:()=>u,E5:()=>p});n(883119);const i="/today/",r=3,o=(e,t,n=0)=>({num_days:t,referrer:n,...e?{}:{redux_normalize_feed:!0}});function s(e,t,n){const i=function(e){return 0===e||2===e?"trending":1===e?"best":"article"}(e),r=function(e){return e.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-")}(t);return`/today/${i}/${encodeURIComponent(r)}/${n}/`}const a={"www.pinterest.com":"US","www.pinterest.co.uk":"GB","www.pinterest.ca":"CA","www.pinterest.com.au":"AU","br.pinterest.com":"BR","www.pinterest.com.mx":"MX","ar.pinterest.com":"AR","www.pinterest.cl":"CL","co.pinterest.com":"CO","www.pinterest.de":"DE","www.pinterest.at":"AT","www.pinterest.ch":"CH","www.pinterest.fr":"FR","in.pinterest.com":"IN","id.pinterest.com":"ID","www.pinterest.jp":"JP"},l={US:"en",GB:"en",CA:"en",AU:"en",BR:"pt",MX:"es",AR:"es",CL:"es",CO:"es",PE:"es",DE:"de",AT:"de",CH:"de",FR:"fr",IN:"en",ID:"id",JP:"ja",IT:"it"},c=(e,t)=>{const n=l[e];return!(null===n||n!==t&&!t.startsWith(n))},d=e=>a[e],u=(e,t)=>e||((null==t?void 0:t.origin_pinner)||(null==t?void 0:t.pinner)||""),p=(e,t)=>e||((null==t?void 0:t.origin_pinner)||(null==t?void 0:t.pinner))},641483:(e,t,n)=>{n.d(t,{ZP:()=>I,yl:()=>m,E8:()=>S,an:()=>y,qJ:()=>f,hD:()=>g,De:()=>w,NC:()=>v,LW:()=>E,My:()=>b,tj:()=>_,hL:()=>x});var i=n(85038),r=n(311866),o=n(221469);const s="unauthHistories",a="trackHistoryClickInternalUrl";var l=n(652382),c=n(382745);const d=["board","pin","topic","clickthrough"];let u=5e3,p=[];let h;function m(e){p.length&&(r.ZP.create("UserRegisterTrackActionResource",{actions:p}).callUpdate({showError:!1,async:!e}),p=[],h=null)}function g(e){u=e}const f=e=>{!function(e){const t=(0,l.qn)(a);if((0,l.L_)(a),t)return;let n=(0,l.qn)(s);if(n=n?n.split(","):[],n.length){const t=`${e}.${n.reduce(((e,t)=>e+"-"+t))}`;p.push({name:t,aux_data:{}})}(0,l.L_)(s)}(e),p.length&&m(!0)};function _(e,t){let n="undefined"!=typeof window&&window.encodeURIComponent&&encodeURIComponent(e)||e;t||(t={}),-1!==n.indexOf("%")&&(t.invalid_action&&(t.invalid_action_original=t.invalid_action),t.invalid_action=n,n="track_register_action.web.invalid_action.with_percent"),p.push({name:n,aux_data:t}),h||(h=setTimeout((()=>m()),u)),function(e,t){if("undefined"!=typeof window)try{const n=new URL(window.location.href).searchParams.get("consoleTra");if(window.PINTEREST_DEV_LOG||n){const n=window.PINTEREST_DEV_REGEX||"";n&&!(e||"").match(n)||("object"==typeof t&&Object.keys(t).length?console.log(e+": %O",t):console.log(e))}}catch(n){}}(e,t)}function x(e,t){_(e,{tags:{...t}})}function b(e){_(e,{tags:{}})}function v(e,t=!1){let n=(0,l.qn)(s);n=n?n.split(","):[],n.push(e),(0,l.Nh)(s,n.join()),b(`lex.${e}`),t&&(0,l.Nh)(a,!0)}const y=()=>{const e=(0,o.mB)(window.location.search);if("31"===e.utm_source)return"email";if(e.utm_pai)return"paid";const t=i.U2("_pinterest_referrer")||document.referrer;return t?t.includes("/t.co/")?"twitter":t.includes("cdn.ampproject.org")?"amp":t.includes("google.")?"google":t.includes("bing.")?"bing":t.includes("facebook.")?"facebook":"other":"direct"},w=e=>{e.action&&e.event?(e.type=e.type||"other",e.trigger=e.trigger||"other",e.referrer=y(),x("LEX.conversion.1",e)):x("LEX.conversion.1.missing_tags")},E=e=>{const t=e.page_location?(n=e.page_location,(0,c.L6)(n)?"pin":(0,c.am)(n)?"board":(0,c.Xn)(n)?"login":(0,c.C$)(n)?"home":(0,c.cD)(n)?"profile":(0,c.J3)(n)?"ideas":(0,c.$Y)(n)?"article":"other"):e.page||"other";var n;const i=e.item||"none",r=e.within||"none";x(`LEX.interaction.${t}.${e.action}`,{item:i,within:r}),"visit"!==e.action&&x(`LEX.interaction.all.${e.action}`,{item:i,within:r})},S=e=>d.includes(e)?d[d.indexOf(e)]:"other",I=b},539484:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(508841);const r=({url:e})=>!(!e||!e.match(/^https{0,1}:\/\//)||(0,i.Z)(e))},195693:(e,t,n)=>{n.d(t,{Z:()=>o});var i=n(296882);const r=(e,t)=>0===e.lastIndexOf(t,0),o=({url:e})=>{const t=(0,i.Z)("/");return r(e,t)?e.substr(t.length-1):e}},807824:(e,t,n)=>{function i(e,t){if(!t)return e;const n=new RegExp(/http(s?):/);if(!n.test(e)){const i=n.exec(t);if(i&&i.length){e=i[0]+e}}return e}n.d(t,{Z:()=>i})},500953:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294);const r=e=>{(0,i.useEffect)(e,[])}},8742:(e,t,n)=>{n.d(t,{Z:()=>r});var i=n(667294);const r=()=>{const[e,t]=(0,i.useState)(!1),[n,r]=(0,i.useState)(!1),[o,s]=(0,i.useState)(!1);return{active:e,focused:n,hovered:o,onBlur:()=>{r(!1),t(!1)},onFocus:()=>r(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>s(!0),onMouseLeave:()=>{s(!1),t(!1)},onMouseUp:()=>t(!1)}}},34411:(e,t,n)=>{n.d(t,{$:()=>r,ZP:()=>a});var i=n(762803);const{Provider:r,Consumer:o,useHook:s}=(0,i.ZP)("viewer"),a=s},997993:(e,t,n)=>{n.d(t,{aH:()=>o,CU:()=>s,GT:()=>a,VG:()=>l,ZA:()=>c,Bh:()=>d,qA:()=>u,VC:()=>p,Jx:()=>h,Zt:()=>m,Gy:()=>g,sG:()=>f,G$:()=>_,nw:()=>x,oR:()=>b,xk:()=>v,J_:()=>y,qp:()=>w,vd:()=>E,FU:()=>S,a3:()=>I});var i=n(542756);const r=e=>{const t={"０":"0","１":"1","２":"2","３":"3","４":"4","５":"5","６":"6","７":"7","８":"8","９":"9","　":" "},n=String(e).split("");return n.forEach(((e,i)=>{const r=t[e];r&&(n[i]=r)})),n.join("")};function o(e){return function(t,n){const i=[];t&&/\S/.test(t)||i.push(e.message);const r={errors:i,warnings:[]};return n&&n(r),r}}const s=new RegExp(["(^[-!#$%&'*+/=?^_`{}|~0-9A-Z]+(\\.[-!#$%&'*+/=?^_`{}|~0-9A-Z]+)*",'|^"([\\001-\\010\\013\\014\\016-\\037!#-\\[\\]-\\177]|\\\\[\\001-\\011\\013\\014\\016-\\177])*"',")@((?:[A-Z0-9](?:[A-Z0-9-]{0,61}[A-Z0-9])?\\.)+[A-Z]{2,20}$)","|\\[(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)(\\.(25[0-5]|2[0-4]\\d|[0-1]?\\d?\\d)){3}\\]$"].join(""),"i");function a(e){return function(t,n){const i=[];(t=t&&t.trim())&&!t.match(s)&&i.push(e.message);const r={errors:i,warnings:[]};return n&&n(r),r}}function l(e){return function(t,n){const i=[];(t=t&&t.trim())&&!t.match(/^[^0-9].*$/)&&i.push(e.message);const r={errors:i,warnings:[]};return n&&n(r),r}}function c(e){return function(t,n){const i=r(t.trim()),o=[];if(i)if(i.length<2&&o.push(e.ageTooShortString),/^\d+$/.test(i)){const t=parseInt(i,10);t<=0||t>=300?o.push(e.invalidAgeString):e.checkUnderAgeWithString&&t<12&&o.push(e.checkUnderAgeWithString)}else o.push(e.invalidAgeString);const s={errors:o,warnings:[]};return n&&n(s),s}}function d(e){return function(t,n){const i=(t=t&&t.trim()).replace(/[\(\)\+\-\. ]/g,""),r=[],o=!1!==e.checkLength&&i.length<7;!t||t.match(/^(\(?\+?[0-9]*\)?)?[0-9_\- \.\(\)]*$/g)&&!o||r.push(e.message);const s={errors:r,warnings:[]};return n&&n(s),s}}function u(e){return function(t,n){const i=/^\d+$/,o=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=r(t))&&!t.match(i)&&o.push(e.message));const s={errors:o,warnings:[]};return n&&n(s),s}}function p(e){return function(t,n){const i=/^[\d\ -]+$/,o=[];"number"==typeof t||"string"==typeof t&&(t=t&&t.trim(),(t=r(t))&&!t.match(i)&&o.push(e.message));const s={errors:o,warnings:[]};return n&&n(s),s}}function h(e){return function(t,n){const i=[];t&&!t.match(/^(https?:\/\/){0,1}[a-z0-9_\-]+\..+/gi)&&i.push(e.message);const r={errors:i,warnings:[]};return n&&n(r),r}}function m(e){return function(t,n){const r=[];if(t)try{const n=(0,i.Z)(t);n&&n.protocol&&("http"!==n.protocol||"localhost"===n.hostname)||r.push(e.message)}catch(s){r.push(e.message)}const o={errors:r,warnings:[]};return n&&n(o),o}}function g(e){return function(t,n){const i=[];(e.should_trim||!1)&&(t=t&&t.trim());const r=t.length;e.min&&r<e.min?i.push(e.minErrorString):e.max&&r>e.max&&i.push(e.maxErrorString);const o={errors:i,warnings:[]};return n&&n(o),o}}function f(e){return function(t,n){const i=[];t!==(e&&e.targetValue)&&i.push(e.message);const r={errors:i,warnings:[]};return n&&n(r),r}}function _(e){return function(t,n){t&&(t=parseFloat(t));const i=[];t<=e.value&&i.push(e.message);const r={errors:i,warnings:[]};return n&&n(r),r}}function x(e){return function(t,n){t&&(t=parseFloat(t));const i=[];t<e.value&&i.push(e.message);const r={errors:i,warnings:[]};return n&&n(r),r}}function b(e){return function(t,n){const i=[];/^[\040-\176]*$/.test(t)||i.push(e.message);const r={errors:i,warnings:[]};return n&&n(r),r}}function v(e){return function(t,n){const i=e.hasFractionalCents?/^\d*(\.\d\d?\d?)?$/:/^\d*(\.\d\d?)?$/,r=[];"number"==typeof t&&(t=t.toString()),t&&!t.match(i)&&(t=t&&t.trim(),r.push(e.message));const o={errors:r,warnings:[]};return n&&n(o),o}}function y(e){return function(t,n){t=t&&t.trim();const i=[],r=new Date(t);t&&!r.getTime()&&i.push(e.message);const o={errors:i,warnings:[]};return n&&n(o),o}}function w(e){return function(t,n){const i=[];(t=t&&t.trim())&&!t.match(/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/)&&i.push(e.message);const r={errors:i,warnings:[]};return n&&n(r),r}}function E(e){return function(t,n){const i=[];e.pattern.test(t)||i.push(e.message);const r={errors:i,warnings:[]};return n&&n(r),r}}function S(e,t){const n=e.map((e=>e(t).errors));return[].concat(...n)}function I(e,t){let n="";return t.some((t=>{const i=t(e);return i.errors.length>0&&(n=i.errors[0],!0)})),n}},30798:(e,t,n)=>{n.d(t,{Z:()=>N});var i=n(325946),r=n(667294),o=n(443517),s=n(484898),a=n(574037),l=n(903781),c=n(737614),d=n(238402);function u({description:e="",image_url:t,link:n}){const i=t||"";return{description:e,description_html:e,link:n,id:"",image_url:i,images:{"136x136x":{url:i,height:0,width:0},"236x":{url:i,height:0,width:0},"474x":{url:i,height:0,width:0}},pinner:{username:""},tracking_params:"",tracking_params_map:{}}}var p=n(859514),h=n(311866),m=n(180307),g=n(881220),f=n(946753),_=n(845062),x=n(549135),b=n(9757),v=n(174523),y=n(394114),w=n(585967),E=n(670473),S=n(475446),I=n(883119),C=n(785893);function T(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const P="success",j="fail";class A extends r.Component{constructor(...e){super(...e),T(this,"_completionPromiseTimeout",null),T(this,"_pincreateCompletionPromise",null),T(this,"state",{boardName:"",pinId:"",showPinSuccess:!1,isExtensionInstalled:!1,showUpsellAfterCreate:!1,pinImageUrl:this.props.imageUrl,readyToRender:!!this.props.imageUrl}),T(this,"setCompletionPromise",(e=>{const{activateUpsellBrowserExtensionAfterPinCreate:t,anyEnabledUpsellBrowserExtensionAfterPinCreate:n}=this.props;this._pincreateCompletionPromise=e,this._pincreateCompletionPromise.promise.then((e=>{this.logCreateEvent({id:e.id,status:P}),this.setState({boardName:e.board.name,pinId:e.id,showPinSuccess:!0}),t&&this.inExperimentUpsellBrowserExtensionAfterPinCreate()&&(t(),n&&!(0,y.Nv)()&&(this.setState({showUpsellAfterCreate:!0}),this.showToastPinSavedToBoard())),this._completionPromiseTimeout=window.setTimeout(this.handleClose,1e4)})).catch((()=>{this.logCreateEvent({status:j})}))})),T(this,"logCreateEvent",(({id:e,status:t})=>{const{method:n,query:i}=this.props;if(t===P&&i.guid||t===j){const r=(0,d.Z)({...i,client:"web",event:`pin_create_${t}`,...e?{pin_id:e}:{},path:n});(new Image).src=m.Z.settings.BOOKMARKLET_LOGGING_URL+"?"+r}})),T(this,"handleHeightChange",(e=>{window.resizeTo(750,e+48)})),T(this,"handleClose",(()=>{window.setTimeout(window.close,1)})),T(this,"handleClosePinCreateSuccess",(()=>{const{isRedirectToTheSameWindow:e,activateRedirectToTheSameWindow:t,requestContext:n}=this.props;t&&!s.Z.isSafari()&&(t(),n.experiments.flush()),e?window.clearTimeout(this._completionPromiseTimeout):this.handleClose()})),T(this,"_createImageResource",(e=>{const{boardPickerStopwatch:t}=this.props;t&&(t.start(),(0,E.ad)(t,"PinBookmarklet"));h.ZP.create("PinImageResource",{image_url:e}).callCreate({showError:!1,async:!0})})),T(this,"_findPinImageResource",(e=>{h.ZP.create("FindPinImagesResource",{url:e,scrapeMetric:"www_url_scrape"}).callGet({showError:!1}).then((e=>{if(!e||!e.resource_response||!e.resource_response.data)return;const t=(e.resource_response.data.items||[]).filter((e=>"pinnable"===e.type));0!==t.length&&(this._createImageResource(t[0].url),this.setState({pinImageUrl:t[0].url}))})).finally((()=>this.setState({readyToRender:!0})))})),T(this,"_container",null),T(this,"showToastPinSavedToBoard",(()=>{const{toastManagerContext:e,link:t}=this.props,{boardName:n,pinImageUrl:i,pinId:o}=this.state,s=(0,l.Z)({currentSiteType:c.Z.instance.site_type,destinationSiteType:0,inputPath:`/pin/${o}`}),a=(0,f.nk)(this.props.i18n._("You saved this Pin to {{ selectedBoardName }}!","Board create confirmation message","Board create confirmation message"),{selectedBoardName:(0,C.jsx)(I.xv,{color:"white",inline:!0,size:"md",lineClamp:1,weight:"bold",children:n},o)});e.showOneToast((({onHide:e})=>(0,C.jsx)(g.Z,{onHide:e,duration:b.Au,text:(0,C.jsx)(r.Fragment,{children:(0,C.jsx)(I.xv,{children:a},t)}),href:s,imageUrl:i})))}))}componentDidMount(){const{imageUrl:e,link:t}=this.props;e?this._createImageResource(e):this._findPinImageResource(t),a.Z.extensionReady(parseInt(500,10)).then((e=>this.setState({isExtensionInstalled:e}))),window.opener&&window.innerHeight<750&&this.handleHeightChange(750)}componentWillUnmount(){this._pincreateCompletionPromise&&this._pincreateCompletionPromise.cancel()}inExperimentUpsellBrowserExtensionAfterPinCreate(){const{isExtensionInstalled:e}=this.state,{activateUpsellBrowserExtensionAfterPinCreate:t}=this.props;return(s.Z.isChrome()||s.Z.isFirefox())&&!e&&t}renderShowPinSuccess(){const{color:e,description:t,link:n}=this.props,{boardName:i,pinImageUrl:r,pinId:s,showPinSuccess:a,showUpsellAfterCreate:l}=this.state;return l?(0,C.jsx)(I.xu,{color:"white",rounding:2,width:"auto",children:(0,C.jsx)(o.Z,{isFromPinBuilder:!0,isExtensionInstalled:!1,onHide:()=>{this.setState({showUpsellAfterCreate:!1}),(0,x.j)(101,{component:13588,element:1150})},onInstall:()=>{this.setState({showUpsellAfterCreate:!1}),(0,x.j)(101,{component:13588,element:280})},onMounted:()=>{(0,y.sm)()}})}):(0,C.jsx)(p.Z,{boardName:i,color:e,description:t,imageUrl:r,link:n,onClose:this.handleClosePinCreateSuccess,pinId:s,openNewTab:a})}render(){const{action:e,color:t,description:n,guid:i,method:r,pin:o}=this.props,{pinImageUrl:s}=this.state;return(0,C.jsx)(I.xu,{ref:e=>{this._container=e},children:(0,C.jsx)(I.xu,{alignItems:"center",bottom:!0,color:this.state.showPinSuccess?"lightGray":"darkGray",display:"flex",justifyContent:"center",overflow:"scrollY",position:"fixed",right:!0,top:!0,width:"100%",children:this.state.showPinSuccess?this.renderShowPinSuccess():(0,C.jsx)(_.K,{action:"repin"===e?"repin":"create",color:t,description:n,guid:i,method:r,onClose:this.handleClose,pin:u({...o,image_url:s}),setCompletionPromise:this.setCompletionPromise,children:({boardSavedTo:e,dismissModal:i,displaySuccessAnimation:r,handleAbort:o,handleNewBoardAnimationCompletion:s,handleSocialConnectSet:a,handleSaveToBoard:l,newPin:c,pin:d,modalTitle:u,setModalTitle:p,updateDescription:h})=>(0,C.jsx)(I.xu,{maxWidth:750,width:"100%",children:(0,C.jsx)(b.ZP,{boardSavedTo:e,color:t,description:n,dismissModal:i,displaySuccessAnimation:r,handleAbort:o,handleNewBoardAnimationCompletion:s,handleSaveToBoard:l,handleSocialConnectSet:a,modalTitle:u,newPin:c,onHeightChange:this.handleHeightChange,pin:d,pwtAuxData:{pin_create_method:"bookmarklet"},setModalTitle:p,shouldRenderContent:!this.state.showPinSuccess&&this.state.readyToRender,updateDescription:h})})})})})}}const O=(0,S.Cl)((function(e){const t=(0,v.ZP)(),n=(0,E.iN)();return(0,C.jsx)(A,{...e,boardPickerStopwatch:n,requestContext:(0,w.B)(),i18n:t})}));var R=n(221469),D=n(896829),k=n(855168);function N(e){const t=(0,k.TH)(),{action:n,method:r}=(0,k.UO)(),o=(0,R.mB)(t.search);return(0,D.Q)({view_type:12,view_parameter:119,view_data:{method:r||"create",guid:o.guid}}),(0,C.jsx)(i.Z,{name:"web_cong_fix_redirect_pin_bookmarklet",activate:!1,children:({anyEnabled:e,customActivate:t})=>(0,C.jsx)(i.Z,{name:"web_cong_upsell_browser_ext_pinbookmarklet",activate:!1,children:({anyEnabled:i,customActivate:s})=>(0,C.jsx)(O,{action:n||"create",color:o.color,description:o.description,imageUrl:o.media,link:o.url,method:r||"create",pin:u({description:o.description,image_url:o.media,link:o.url}),query:{color:o.color,media:o.media||"",description:o.description,url:o.url,guid:o.guid},isRedirectToTheSameWindow:!!e,activateRedirectToTheSameWindow:t,anyEnabledUpsellBrowserExtensionAfterPinCreate:!!i,activateUpsellBrowserExtensionAfterPinCreate:s})})})}},372833:(e,t,n)=>{n.d(t,{B:()=>o,Z:()=>s});var i=n(704170);const r=[];function o(e){let t;try{t=JSON.stringify({errorObj:e})}catch(a){t=JSON.stringify({errorObj:{message:e.message,name:"logToServer stringify exception"}})}const n=(o={report_context:JSON.stringify({current_url:window.location.href,client_version:"64fd4a2"}),report_data:t},Object.keys(o).map((e=>e+"="+encodeURIComponent(o[e]))).join("&"));var o;const s=window.btoa(n);if(-1===r.indexOf(s)){const e=new XMLHttpRequest;e.open("post","/_/_/report/error/",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded");const t=(0,i.H)();t&&e.setRequestHeader("X-Pinterest-PWS-Handler",t),e.setRequestHeader("X-CSRFToken",function(e){const t=("; "+document.cookie).split("; "+e+"=");return 2===t.length?t.pop().split(";").shift():""}("csrftoken")),e.send(n),r.push(s)}r.length>100&&r.shift()}function s(){window.addEventListener("error",(e=>{const t=e.error||{};o({name:t.name,message:t.message||e.message,stack:t.stack,filename:e.filename,line:e.lineno,column:e.colno})})),window.addEventListener("unhandledrejection",(e=>{var t,n,i,r,s;if(!((null==e?void 0:e.reason)instanceof Error))return;const{reason:a}=e,l="string"==typeof(null==a?void 0:a.message)?a.message:String(a);o({name:null!==(t=null==a?void 0:a.name)&&void 0!==t?t:"unhandledrejection",message:l,message_detail:null==a?void 0:a.message_detail,original_message:null==a?void 0:a.original_message,stack:null==a?void 0:a.stack,filename:null==a?void 0:a.fileName,line:null!==(n=null!==(i=null==a?void 0:a.lineno)&&void 0!==i?i:null==a?void 0:a.line)&&void 0!==n?n:null==a?void 0:a.lineNumber,column:null!==(r=null!==(s=null==a?void 0:a.column)&&void 0!==s?s:null==a?void 0:a.colno)&&void 0!==r?r:null==a?void 0:a.columnNumber})}))}}},e=>{e.O(0,[10926],(()=>{[76131,19509,92982,34496,66004,69800,48035,5035,45062,43473,22347,22538,1593].map(e.E)}),5);e.O(0,[97270,83119,67631,20645,80307,87810,26623,64485,37617,27407,92701,24203,98791,76030],(()=>{return t=479822,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/pin/create/[method]-authdesktop-b52fc4272acee2d2.mjs.map